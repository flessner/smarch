var B6=Object.defineProperty,F6=Object.defineProperties;var j6=Object.getOwnPropertyDescriptors;var lu=Object.getOwnPropertySymbols;var Wv=Object.prototype.hasOwnProperty,Vv=Object.prototype.propertyIsEnumerable;var Kv=(t,e,r)=>e in t?B6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,be=(t,e)=>{for(var r in e||(e={}))Wv.call(e,r)&&Kv(t,r,e[r]);if(lu)for(var r of lu(e))Vv.call(e,r)&&Kv(t,r,e[r]);return t},or=(t,e)=>F6(t,j6(e));var Jv=(t,e)=>{var r={};for(var n in t)Wv.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&lu)for(var n of lu(t))e.indexOf(n)<0&&Vv.call(t,n)&&(r[n]=t[n]);return r};function di(){}function Nt(t,e){for(const r in e)t[r]=e[r];return t}function z6(t){return t&&typeof t=="object"&&typeof t.then=="function"}function Yv(t){return t()}function Xv(){return Object.create(null)}function Hr(t){t.forEach(Yv)}function Zv(t){return typeof t=="function"}function Gi(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function q6(t){return Object.keys(t).length===0}function ol(t,...e){if(t==null)return di;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function sU(t){let e;return ol(t,r=>e=r)(),e}function uU(t,e,r){t.$$.on_destroy.push(ol(e,r))}function Bo(t,e,r,n){if(t){const i=Qv(t,e,r,n);return t[0](i)}}function Qv(t,e,r,n){return t[1]&&n?Nt(r.ctx.slice(),t[1](n(e))):r.ctx}function Fo(t,e,r,n){if(t[2]&&n){const i=t[2](n(r));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],a=Math.max(e.dirty.length,i.length);for(let s=0;s<a;s+=1)o[s]=e.dirty[s]|i[s];return o}return e.dirty|i}return e.dirty}function jo(t,e,r,n,i,o){if(i){const a=Qv(e,r,n,o);t.p(a,i)}}function zo(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function Wr(t){const e={};for(const r in t)r[0]!=="$"&&(e[r]=t[r]);return e}let hu=!1;function G6(){hu=!0}function H6(){hu=!1}function W6(t,e,r,n){for(;t<e;){const i=t+(e-t>>1);r(i)<=n?t=i+1:e=i}return t}function V6(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if(t.nodeName==="HEAD"){const u=[];for(let f=0;f<e.length;f++){const h=e[f];h.claim_order!==void 0&&u.push(h)}e=u}const r=new Int32Array(e.length+1),n=new Int32Array(e.length);r[0]=-1;let i=0;for(let u=0;u<e.length;u++){const f=e[u].claim_order,h=(i>0&&e[r[i]].claim_order<=f?i+1:W6(1,i,m=>e[r[m]].claim_order,f))-1;n[u]=r[h]+1;const l=h+1;r[l]=u,i=Math.max(l,i)}const o=[],a=[];let s=e.length-1;for(let u=r[i]+1;u!=0;u=n[u-1]){for(o.push(e[u-1]);s>=u;s--)a.push(e[s]);s--}for(;s>=0;s--)a.push(e[s]);o.reverse(),a.sort((u,f)=>u.claim_order-f.claim_order);for(let u=0,f=0;u<a.length;u++){for(;f<o.length&&a[u].claim_order>=o[f].claim_order;)f++;const h=f<o.length?o[f]:null;t.insertBefore(a[u],h)}}function _r(t,e){if(hu){for(V6(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);t.actual_end_child!==null&&t.actual_end_child.claim_order===void 0;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?(e.claim_order!==void 0||e.parentNode!==t)&&t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else(e.parentNode!==t||e.nextSibling!==null)&&t.appendChild(e)}function Ft(t,e,r){hu&&!r?_r(t,e):(e.parentNode!==t||e.nextSibling!=r)&&t.insertBefore(e,r||null)}function Qe(t){t.parentNode.removeChild(t)}function fU(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function K6(t){return document.createElement(t)}function Ot(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Xn(t){return document.createTextNode(t)}function cU(){return Xn(" ")}function Vr(){return Xn("")}function nt(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function vi(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function Kr(t,e){for(const r in e)vi(t,r,e[r])}function Pt(t){return Array.from(t.childNodes)}function J6(t){t.claim_info===void 0&&(t.claim_info={last_index:0,total_claimed:0})}function ep(t,e,r,n,i=!1){J6(t);const o=(()=>{for(let a=t.claim_info.last_index;a<t.length;a++){const s=t[a];if(e(s)){const u=r(s);return u===void 0?t.splice(a,1):t[a]=u,i||(t.claim_info.last_index=a),s}}for(let a=t.claim_info.last_index-1;a>=0;a--){const s=t[a];if(e(s)){const u=r(s);return u===void 0?t.splice(a,1):t[a]=u,i?u===void 0&&t.claim_info.last_index--:t.claim_info.last_index=a,s}}return n()})();return o.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,o}function tp(t,e,r,n){return ep(t,i=>i.nodeName===e,i=>{const o=[];for(let a=0;a<i.attributes.length;a++){const s=i.attributes[a];r[s.name]||o.push(s.name)}o.forEach(a=>i.removeAttribute(a))},()=>n(e))}function lU(t,e,r){return tp(t,e,r,K6)}function Ct(t,e,r){return tp(t,e,r,Ot)}function Hi(t,e){return ep(t,r=>r.nodeType===3,r=>{const n=""+e;if(r.data.startsWith(n)){if(r.data.length!==n.length)return r.splitText(n.length)}else r.data=n},()=>Xn(e),!0)}function hU(t){return Hi(t," ")}function qo(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function dU(t,e=document.body){return Array.from(e.querySelectorAll(t))}let du;function pi(t){du=t}function vu(){if(!du)throw new Error("Function called outside component initialization");return du}function vU(t){vu().$$.on_mount.push(t)}function pU(t){vu().$$.after_update.push(t)}function mU(t,e){vu().$$.context.set(t,e)}function it(t,e){const r=t.$$.callbacks[e.type];r&&r.slice().forEach(n=>n.call(this,e))}const Va=[],rp=[],pu=[],np=[],Y6=Promise.resolve();let al=!1;function X6(){al||(al=!0,Y6.then(cl))}function sl(t){pu.push(t)}let ul=!1;const fl=new Set;function cl(){if(!ul){ul=!0;do{for(let t=0;t<Va.length;t+=1){const e=Va[t];pi(e),Z6(e.$$)}for(pi(null),Va.length=0;rp.length;)rp.pop()();for(let t=0;t<pu.length;t+=1){const e=pu[t];fl.has(e)||(fl.add(e),e())}pu.length=0}while(Va.length);for(;np.length;)np.pop()();al=!1,ul=!1,fl.clear()}}function Z6(t){if(t.fragment!==null){t.update(),Hr(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(sl)}}const mu=new Set;let Wi;function Q6(){Wi={r:0,c:[],p:Wi}}function e5(){Wi.r||Hr(Wi.c),Wi=Wi.p}function mi(t,e){t&&t.i&&(mu.delete(t),t.i(e))}function Vi(t,e,r,n){if(t&&t.o){if(mu.has(t))return;mu.add(t),Wi.c.push(()=>{mu.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}}function bU(t,e){const r=e.token={};function n(i,o,a,s){if(e.token!==r)return;e.resolved=s;let u=e.ctx;a!==void 0&&(u=u.slice(),u[a]=s);const f=i&&(e.current=i)(u);let h=!1;e.block&&(e.blocks?e.blocks.forEach((l,m)=>{m!==o&&l&&(Q6(),Vi(l,1,1,()=>{e.blocks[m]===l&&(e.blocks[m]=null)}),e5())}):e.block.d(1),f.c(),mi(f,1),f.m(e.mount(),e.anchor),h=!0),e.block=f,e.blocks&&(e.blocks[o]=f),h&&cl()}if(z6(t)){const i=vu();if(t.then(o=>{pi(i),n(e.then,1,e.value,o),pi(null)},o=>{if(pi(i),n(e.catch,2,e.error,o),pi(null),!e.hasCatch)throw o}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function yU(t,e,r){const n=e.slice(),{resolved:i}=t;t.current===t.then&&(n[t.value]=i),t.current===t.catch&&(n[t.error]=i),t.block.p(n,r)}function Go(t,e){const r={},n={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const u in a)u in s||(n[u]=1);for(const u in s)i[u]||(r[u]=s[u],i[u]=1);t[o]=s}else for(const u in a)i[u]=1}for(const a in n)a in r||(r[a]=void 0);return r}function gU(t){return typeof t=="object"&&t!==null?t:{}}function wU(t){t&&t.c()}function _U(t,e){t&&t.l(e)}function t5(t,e,r,n){const{fragment:i,on_mount:o,on_destroy:a,after_update:s}=t.$$;i&&i.m(e,r),n||sl(()=>{const u=o.map(Yv).filter(Zv);a?a.push(...u):Hr(u),t.$$.on_mount=[]}),s.forEach(sl)}function r5(t,e){const r=t.$$;r.fragment!==null&&(Hr(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function n5(t,e){t.$$.dirty[0]===-1&&(Va.push(t),X6(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ho(t,e,r,n,i,o,a,s=[-1]){const u=du;pi(t);const f=t.$$={fragment:null,ctx:null,props:o,update:di,not_equal:i,bound:Xv(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Xv(),dirty:s,skip_bound:!1,root:e.target||u.$$.root};a&&a(f.root);let h=!1;if(f.ctx=r?r(t,e.props||{},(l,m,...w)=>{const M=w.length?w[0]:m;return f.ctx&&i(f.ctx[l],f.ctx[l]=M)&&(!f.skip_bound&&f.bound[l]&&f.bound[l](M),h&&n5(t,l)),m}):[],f.update(),h=!0,Hr(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){G6();const l=Pt(e.target);f.fragment&&f.fragment.l(l),l.forEach(Qe)}else f.fragment&&f.fragment.c();e.intro&&mi(t.$$.fragment),t5(t,e.target,e.anchor,e.customElement),H6(),cl()}pi(u)}class Wo{$destroy(){r5(this,1),this.$destroy=di}$on(e,r){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!q6(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Vo=[];function i5(t,e){return{subscribe:o5(t,e).subscribe}}function o5(t,e=di){let r;const n=new Set;function i(s){if(Gi(t,s)&&(t=s,r)){const u=!Vo.length;for(const f of n)f[1](),Vo.push(f,t);if(u){for(let f=0;f<Vo.length;f+=2)Vo[f][0](Vo[f+1]);Vo.length=0}}}function o(s){i(s(t))}function a(s,u=di){const f=[s,u];return n.add(f),n.size===1&&(r=e(i)||di),s(t),()=>{n.delete(f),n.size===0&&(r(),r=null)}}return{set:i,update:o,subscribe:a}}function xU(t,e,r){const n=!Array.isArray(t),i=n?[t]:t,o=e.length<2;return i5(r,a=>{let s=!1;const u=[];let f=0,h=di;const l=()=>{if(f)return;h();const w=e(n?u[0]:u,a);o?a(w):h=Zv(w)?w:di},m=i.map((w,M)=>ol(w,x=>{u[M]=x,f&=~(1<<M),s&&l()},()=>{f|=1<<M}));return s=!0,l(),function(){Hr(m),h()}})}function ip(t){let e,r;return{c(){e=Ot("title"),r=Xn(t[2])},l(n){e=Ct(n,"title",{});var i=Pt(e);r=Hi(i,t[2]),i.forEach(Qe)},m(n,i){Ft(n,e,i),_r(e,r)},p(n,i){i&4&&qo(r,n[2])},d(n){n&&Qe(e)}}}function a5(t){let e,r=t[2]&&ip(t);return{c(){r&&r.c(),e=Vr()},l(n){r&&r.l(n),e=Vr()},m(n,i){r&&r.m(n,i),Ft(n,e,i)},p(n,i){n[2]?r?r.p(n,i):(r=ip(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(n){r&&r.d(n),n&&Qe(e)}}}function s5(t){let e,r,n,i,o;const a=t[11].default,s=Bo(a,t,t[10],null),u=s||a5(t);let f=[{"data-carbon-icon":"ChevronDown16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],h={};for(let l=0;l<f.length;l+=1)h=Nt(h,f[l]);return{c(){e=Ot("svg"),r=Ot("path"),u&&u.c(),this.h()},l(l){e=Ct(l,"svg",{"data-carbon-icon":!0,xmlns:!0,viewBox:!0,fill:!0,width:!0,height:!0,class:!0,preserveAspectRatio:!0,style:!0,id:!0});var m=Pt(e);r=Ct(m,"path",{d:!0}),Pt(r).forEach(Qe),u&&u.l(m),m.forEach(Qe),this.h()},h(){vi(r,"d","M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z"),Kr(e,h)},m(l,m){Ft(l,e,m),_r(e,r),u&&u.m(e,null),n=!0,i||(o=[nt(e,"click",t[12]),nt(e,"mouseover",t[13]),nt(e,"mouseenter",t[14]),nt(e,"mouseleave",t[15]),nt(e,"keyup",t[16]),nt(e,"keydown",t[17])],i=!0)},p(l,[m]){s?s.p&&(!n||m&1024)&&jo(s,a,l,l[10],n?Fo(a,l[10],m,null):zo(l[10]),null):u&&u.p&&(!n||m&4)&&u.p(l,n?m:-1),Kr(e,h=Go(f,[{"data-carbon-icon":"ChevronDown16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},(!n||m&1)&&{class:l[0]},{preserveAspectRatio:"xMidYMid meet"},(!n||m&8)&&{style:l[3]},(!n||m&2)&&{id:l[1]},m&16&&l[4]]))},i(l){n||(mi(u,l),n=!0)},o(l){Vi(u,l),n=!1},d(l){l&&Qe(e),u&&u.d(l),i=!1,Hr(o)}}}function u5(t,e,r){let n,i,o,a,{$$slots:s={},$$scope:u}=e,{class:f=void 0}=e,{id:h=void 0}=e,{tabindex:l=void 0}=e,{focusable:m=!1}=e,{title:w=void 0}=e,{style:M=void 0}=e;function x(I){it.call(this,t,I)}function R(I){it.call(this,t,I)}function O(I){it.call(this,t,I)}function j(I){it.call(this,t,I)}function q(I){it.call(this,t,I)}function B(I){it.call(this,t,I)}return t.$$set=I=>{r(18,e=Nt(Nt({},e),Wr(I))),"class"in I&&r(0,f=I.class),"id"in I&&r(1,h=I.id),"tabindex"in I&&r(5,l=I.tabindex),"focusable"in I&&r(6,m=I.focusable),"title"in I&&r(2,w=I.title),"style"in I&&r(3,M=I.style),"$$scope"in I&&r(10,u=I.$$scope)},t.$$.update=()=>{r(9,n=e["aria-label"]),r(8,i=e["aria-labelledby"]),t.$$.dirty&772&&r(7,o=n||i||w),t.$$.dirty&992&&r(4,a={"aria-label":n,"aria-labelledby":i,"aria-hidden":o?void 0:!0,role:o?"img":void 0,focusable:l==="0"?!0:m,tabindex:l})},e=Wr(e),[f,h,w,M,a,l,m,o,i,n,u,s,x,R,O,j,q,B]}class f5 extends Wo{constructor(e){super();Ho(this,e,u5,s5,Gi,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var SU=f5;function op(t){let e,r;return{c(){e=Ot("title"),r=Xn(t[2])},l(n){e=Ct(n,"title",{});var i=Pt(e);r=Hi(i,t[2]),i.forEach(Qe)},m(n,i){Ft(n,e,i),_r(e,r)},p(n,i){i&4&&qo(r,n[2])},d(n){n&&Qe(e)}}}function c5(t){let e,r=t[2]&&op(t);return{c(){r&&r.c(),e=Vr()},l(n){r&&r.l(n),e=Vr()},m(n,i){r&&r.m(n,i),Ft(n,e,i)},p(n,i){n[2]?r?r.p(n,i):(r=op(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(n){r&&r.d(n),n&&Qe(e)}}}function l5(t){let e,r,n,i,o;const a=t[11].default,s=Bo(a,t,t[10],null),u=s||c5(t);let f=[{"data-carbon-icon":"ChevronUp16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],h={};for(let l=0;l<f.length;l+=1)h=Nt(h,f[l]);return{c(){e=Ot("svg"),r=Ot("path"),u&&u.c(),this.h()},l(l){e=Ct(l,"svg",{"data-carbon-icon":!0,xmlns:!0,viewBox:!0,fill:!0,width:!0,height:!0,class:!0,preserveAspectRatio:!0,style:!0,id:!0});var m=Pt(e);r=Ct(m,"path",{d:!0}),Pt(r).forEach(Qe),u&&u.l(m),m.forEach(Qe),this.h()},h(){vi(r,"d","M8 5L13 10 12.3 10.7 8 6.4 3.7 10.7 3 10z"),Kr(e,h)},m(l,m){Ft(l,e,m),_r(e,r),u&&u.m(e,null),n=!0,i||(o=[nt(e,"click",t[12]),nt(e,"mouseover",t[13]),nt(e,"mouseenter",t[14]),nt(e,"mouseleave",t[15]),nt(e,"keyup",t[16]),nt(e,"keydown",t[17])],i=!0)},p(l,[m]){s?s.p&&(!n||m&1024)&&jo(s,a,l,l[10],n?Fo(a,l[10],m,null):zo(l[10]),null):u&&u.p&&(!n||m&4)&&u.p(l,n?m:-1),Kr(e,h=Go(f,[{"data-carbon-icon":"ChevronUp16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},(!n||m&1)&&{class:l[0]},{preserveAspectRatio:"xMidYMid meet"},(!n||m&8)&&{style:l[3]},(!n||m&2)&&{id:l[1]},m&16&&l[4]]))},i(l){n||(mi(u,l),n=!0)},o(l){Vi(u,l),n=!1},d(l){l&&Qe(e),u&&u.d(l),i=!1,Hr(o)}}}function h5(t,e,r){let n,i,o,a,{$$slots:s={},$$scope:u}=e,{class:f=void 0}=e,{id:h=void 0}=e,{tabindex:l=void 0}=e,{focusable:m=!1}=e,{title:w=void 0}=e,{style:M=void 0}=e;function x(I){it.call(this,t,I)}function R(I){it.call(this,t,I)}function O(I){it.call(this,t,I)}function j(I){it.call(this,t,I)}function q(I){it.call(this,t,I)}function B(I){it.call(this,t,I)}return t.$$set=I=>{r(18,e=Nt(Nt({},e),Wr(I))),"class"in I&&r(0,f=I.class),"id"in I&&r(1,h=I.id),"tabindex"in I&&r(5,l=I.tabindex),"focusable"in I&&r(6,m=I.focusable),"title"in I&&r(2,w=I.title),"style"in I&&r(3,M=I.style),"$$scope"in I&&r(10,u=I.$$scope)},t.$$.update=()=>{r(9,n=e["aria-label"]),r(8,i=e["aria-labelledby"]),t.$$.dirty&772&&r(7,o=n||i||w),t.$$.dirty&992&&r(4,a={"aria-label":n,"aria-labelledby":i,"aria-hidden":o?void 0:!0,role:o?"img":void 0,focusable:l==="0"?!0:m,tabindex:l})},e=Wr(e),[f,h,w,M,a,l,m,o,i,n,u,s,x,R,O,j,q,B]}class d5 extends Wo{constructor(e){super();Ho(this,e,h5,l5,Gi,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var EU=d5,te=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Et(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e}function v5(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var p5={},ap={};Object.defineProperty(ap,"__esModule",{value:!0});var Yt={},An={},ll={},bu={},yu={};Object.defineProperty(yu,"__esModule",{value:!0});const sp={name:"chainId",regex:"[-:a-zA-Z0-9]{5,64}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,16}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,47}"}}}},m5={name:"accountId",regex:"[-@:a-zA-Z0-9]{7,128}",parameters:{delimiter:"@",values:{0:{name:"address",regex:"[a-zA-Z0-9]{1,63}"},1:sp}}};yu.CAIP={"2":sp,"10":m5};var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});function hl(t,e){return t.split(e.parameters.delimiter)}Ki.splitParams=hl;function b5(t,e){const r=hl(t,e),n={};return r.forEach((i,o)=>{n[e.parameters.values[o].name]=i}),n}Ki.getParams=b5;function up(t,e){return Object.values(e.parameters.values).map(r=>{const n=t[r.name];return typeof n=="string"?n:up(n,r)}).join(e.parameters.delimiter)}Ki.joinParams=up;function y5(t,e){if(!new RegExp(e.regex).test(t))return!1;const r=hl(t,e);return!(r.length!==Object.keys(e.parameters.values).length||r.map((i,o)=>new RegExp(e.parameters.values[o].regex).test(i)).filter(i=>!!i).length!==r.length)}Ki.isValidId=y5;Object.defineProperty(bu,"__esModule",{value:!0});const g5=yu,dl=Ki;class Ko{constructor(e){typeof e=="string"&&(e=Ko.parse(e)),this.namespace=e.namespace,this.reference=e.reference}static parse(e){if(!dl.isValidId(e,this.spec))throw new Error(`Invalid ${this.spec.name} provided: ${e}`);return new Ko(dl.getParams(e,this.spec)).toJson()}static format(e){return dl.joinParams(e,this.spec)}toString(){return Ko.format(this.toJson())}toJson(){return{namespace:this.namespace,reference:this.reference}}}bu.ChainID=Ko;Ko.spec=g5.CAIP["2"];Object.defineProperty(ll,"__esModule",{value:!0});const w5=bu,_5=yu,vl=Ki;class Jo{constructor(e){typeof e=="string"&&(e=Jo.parse(e)),this.chainId=new w5.ChainID(e.chainId),this.address=e.address}static parse(e){if(!vl.isValidId(e,this.spec))throw new Error(`Invalid ${this.spec.name} provided: ${e}`);return new Jo(vl.getParams(e,this.spec)).toJson()}static format(e){return vl.joinParams(e,this.spec)}toString(){return Jo.format(this.toJson())}toJson(){return{chainId:this.chainId.toJson(),address:this.address}}}ll.AccountID=Jo;Jo.spec=_5.CAIP["10"];(function(t){function e(r){for(var n in r)t.hasOwnProperty(n)||(t[n]=r[n])}Object.defineProperty(t,"__esModule",{value:!0}),e(ll),e(bu)})(An);var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.encodeRpcMessage=Rr.getConsentMessage=void 0;function x5(t,e=!0){const r={message:`Link this account to your identity

`+t};return e&&(r.timestamp=Math.floor(Date.now()/1e3),r.message+=` 
Timestamp: `+r.timestamp),r}Rr.getConsentMessage=x5;function S5(t,e){return{jsonrpc:"2.0",id:1,method:t,params:e}}Rr.encodeRpcMessage=S5;function E5(t,e){for(let r=0;r<t.byteLength;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0}var A5=E5;function I5(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}var gu=I5;function M5(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var k5=M5;function T5(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=i}var s=t.length,u=t.charAt(0),f=Math.log(s)/Math.log(256),h=Math.log(256)/Math.log(s);function l(M){if(M instanceof Uint8Array||(ArrayBuffer.isView(M)?M=new Uint8Array(M.buffer,M.byteOffset,M.byteLength):Array.isArray(M)&&(M=Uint8Array.from(M))),!(M instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(M.length===0)return"";for(var x=0,R=0,O=0,j=M.length;O!==j&&M[O]===0;)O++,x++;for(var q=(j-O)*h+1>>>0,B=new Uint8Array(q);O!==j;){for(var I=M[O],G=0,v=q-1;(I!==0||G<R)&&v!==-1;v--,G++)I+=256*B[v]>>>0,B[v]=I%s>>>0,I=I/s>>>0;if(I!==0)throw new Error("Non-zero carry");R=G,O++}for(var A=q-R;A!==q&&B[A]===0;)A++;for(var D=u.repeat(x);A<q;++A)D+=t.charAt(B[A]);return D}function m(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return new Uint8Array;var x=0;if(M[x]!==" "){for(var R=0,O=0;M[x]===u;)R++,x++;for(var j=(M.length-x)*f+1>>>0,q=new Uint8Array(j);M[x];){var B=r[M.charCodeAt(x)];if(B===255)return;for(var I=0,G=j-1;(B!==0||I<O)&&G!==-1;G--,I++)B+=s*q[G]>>>0,q[G]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");O=I,x++}if(M[x]!==" "){for(var v=j-O;v!==j&&q[v]===0;)v++;for(var A=new Uint8Array(R+(j-v)),D=R;v!==j;)A[D++]=q[v++];return A}}}function w(M){var x=m(M);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:m,decode:w}}var O5=T5,P5=O5;const fp=new Uint8Array(0),R5=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),N5=t=>{const e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):fp},cp=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Ji=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},C5=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),lp=t=>new TextEncoder().encode(t),hp=t=>new TextDecoder().decode(t);var L5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",equals:cp,coerce:Ji,isBinary:C5,fromHex:N5,toHex:R5,fromString:lp,toString:hp,empty:fp});class D5{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class $5{constructor(e,r,n){this.name=e,this.prefix=r,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){const r=be({[this.prefix]:this},e.decoders||{[e.prefix]:e});return new pl(r)}}class pl{constructor(e){this.decoders=e}or(e){const r=e.decoders||{[e.prefix]:e};return new pl(be(be({},this.decoders),r))}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}class U5{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new D5(e,r,n),this.decoder=new $5(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ml=({name:t,prefix:e,encode:r,decode:n})=>new U5(t,e,r,n),Ka=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=P5(r,e);return ml({prefix:t,name:e,encode:n,decode:o=>Ji(i(o))})},B5=(t,e,r,n)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let o=t.length;for(;t[o-1]==="=";)--o;const a=new Uint8Array(o*r/8|0);let s=0,u=0,f=0;for(let h=0;h<o;++h){const l=i[t[h]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|l,s+=r,s>=8&&(s-=8,a[f++]=255&u>>s)}if(s>=r||255&u<<8-s)throw new SyntaxError("Unexpected end of data");return a},F5=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let o="",a=0,s=0;for(let u=0;u<t.length;++u)for(s=s<<8|t[u],a+=8;a>r;)a-=r,o+=e[i&s>>a];if(a&&(o+=e[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},Xt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>ml({prefix:e,name:t,encode(i){return F5(i,n,r)},decode(i){return B5(i,n,r,t)}}),j5=ml({prefix:"\0",name:"identity",encode:t=>hp(t),decode:t=>lp(t)});var z5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",identity:j5});const q5=Xt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var G5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base2:q5});const H5=Xt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var W5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base8:H5});const V5=Ka({prefix:"9",name:"base10",alphabet:"0123456789"});var K5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base10:V5});const J5=Xt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Y5=Xt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var X5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base16:J5,base16upper:Y5});const Ja=Xt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Z5=Xt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Q5=Xt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),e4=Xt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),t4=Xt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),r4=Xt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),n4=Xt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),i4=Xt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),o4=Xt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var a4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base32:Ja,base32upper:Z5,base32pad:Q5,base32padupper:e4,base32hex:t4,base32hexupper:r4,base32hexpad:n4,base32hexpadupper:i4,base32z:o4});const s4=Ka({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),u4=Ka({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var f4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base36:s4,base36upper:u4});const Zn=Ka({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),c4=Ka({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var l4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base58btc:Zn,base58flickr:c4});const h4=Xt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),d4=Xt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),v4=Xt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),p4=Xt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var m4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base64:h4,base64pad:d4,base64url:v4,base64urlpad:p4}),b4=vp,dp=128,y4=127,g4=~y4,w4=Math.pow(2,31);function vp(t,e,r){e=e||[],r=r||0;for(var n=r;t>=w4;)e[r++]=t&255|dp,t/=128;for(;t&g4;)e[r++]=t&255|dp,t>>>=7;return e[r]=t|0,vp.bytes=r-n+1,e}var _4=bl,x4=128,pp=127;function bl(t,e){var r=0,e=e||0,n=0,i=e,o,a=t.length;do{if(i>=a)throw bl.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=n<28?(o&pp)<<n:(o&pp)*Math.pow(2,n),n+=7}while(o>=x4);return bl.bytes=i-e,r}var S4=Math.pow(2,7),E4=Math.pow(2,14),A4=Math.pow(2,21),I4=Math.pow(2,28),M4=Math.pow(2,35),k4=Math.pow(2,42),T4=Math.pow(2,49),O4=Math.pow(2,56),P4=Math.pow(2,63),R4=function(t){return t<S4?1:t<E4?2:t<A4?3:t<I4?4:t<M4?5:t<k4?6:t<T4?7:t<O4?8:t<P4?9:10},N4={encode:b4,decode:_4,encodingLength:R4},wu=N4;const _u=t=>[wu.decode(t),wu.decode.bytes],Ya=(t,e,r=0)=>(wu.encode(t,e,r),e),Xa=t=>wu.encodingLength(t);var C4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",decode:_u,encodeTo:Ya,encodingLength:Xa});const yl=(t,e)=>{const r=e.byteLength,n=Xa(t),i=n+Xa(r),o=new Uint8Array(i+r);return Ya(t,o,0),Ya(r,o,n),o.set(e,i),new xu(t,r,e,o)},mp=t=>{const e=Ji(t),[r,n]=_u(e),[i,o]=_u(e.subarray(n)),a=e.subarray(n+o);if(a.byteLength!==i)throw new Error("Incorrect length");return new xu(r,i,a,e)},bp=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&cp(t.bytes,e.bytes);class xu{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}var L4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:yl,decode:mp,equals:bp,Digest:xu});const Su=({name:t,code:e,encode:r})=>new yp(t,e,r);class yp{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}async digest(e){if(e instanceof Uint8Array){const r=await this.encode(e);return yl(this.code,r)}else throw Error("Unknown type, must be binary type")}}var D4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",from:Su,Hasher:yp});const gp=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),$4=Su({name:"sha2-256",code:18,encode:gp("SHA-256")}),U4=Su({name:"sha2-512",code:19,encode:gp("SHA-512")});var B4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",sha256:$4,sha512:U4});const F4=Su({name:"identity",code:0,encode:t=>Ji(t)});var j4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",identity:F4});const z4="raw",q4=85,G4=t=>Ji(t),H4=t=>Ji(t);var W4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",name:z4,code:q4,encode:G4,decode:H4});const V4=new TextEncoder,K4=new TextDecoder,J4="json",Y4=512,X4=t=>V4.encode(JSON.stringify(t)),Z4=t=>JSON.parse(K4.decode(t));var Q4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",name:J4,code:Y4,encode:X4,decode:Z4});class ar{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Au,byteLength:Au,code:Eu,version:Eu,multihash:Eu,bytes:Eu,_baseCache:Au,asCID:Au})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:r}=this;if(e!==Za)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==nS)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ar.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:r}=this.multihash,n=yl(e,r);return ar.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&bp(this.multihash,e.multihash)}toString(e){const{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return tS(r,i,e||Zn.encoder);default:return rS(r,i,e||Ja.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return oS(/^0\.0/,aS),!!(e&&(e[_p]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof ar)return e;if(e!=null&&e.asCID===e){const{version:r,code:n,multihash:i,bytes:o}=e;return new ar(r,n,i,o||wp(r,n,i.bytes))}else if(e!=null&&e[_p]===!0){const{version:r,multihash:n,code:i}=e,o=mp(n);return ar.create(r,i,o)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Za)throw new Error(`Version 0 CID must use dag-pb (code: ${Za}) block encoding`);return new ar(e,r,n,n.bytes)}case 1:{const i=wp(e,r,n.bytes);return new ar(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return ar.create(0,Za,e)}static createV1(e,r){return ar.create(1,e,r)}static decode(e){const[r,n]=ar.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){const r=ar.inspectBytes(e),n=r.size-r.multihashSize,i=Ji(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");const o=i.subarray(r.multihashSize-r.digestSize),a=new xu(r.multihashCode,r.digestSize,o,i);return[r.version===0?ar.createV0(a):ar.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0;const n=()=>{const[l,m]=_u(e.subarray(r));return r+=m,l};let i=n(),o=Za;if(i===18?(i=0,r=0):i===1&&(o=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const a=r,s=n(),u=n(),f=r+u,h=f-a;return{version:i,codec:o,multihashCode:s,digestSize:u,multihashSize:h,size:f}}static parse(e,r){const[n,i]=eS(e,r),o=ar.decode(i);return o._baseCache.set(n,e),o}}const eS=(t,e)=>{switch(t[0]){case"Q":{const r=e||Zn;return[Zn.prefix,r.decode(`${Zn.prefix}${t}`)]}case Zn.prefix:{const r=e||Zn;return[Zn.prefix,r.decode(t)]}case Ja.prefix:{const r=e||Ja;return[Ja.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},tS=(t,e,r)=>{const{prefix:n}=r;if(n!==Zn.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=e.get(n);if(i==null){const o=r.encode(t).slice(1);return e.set(n,o),o}else return i},rS=(t,e,r)=>{const{prefix:n}=r,i=e.get(n);if(i==null){const o=r.encode(t);return e.set(n,o),o}else return i},Za=112,nS=18,wp=(t,e,r)=>{const n=Xa(t),i=n+Xa(e),o=new Uint8Array(i+r.byteLength);return Ya(t,o,0),Ya(e,o,n),o.set(r,i),o},_p=Symbol.for("@ipld/js-cid/CID"),Eu={writable:!1,configurable:!1,enumerable:!0},Au={writable:!1,enumerable:!1,configurable:!1},iS="0.0.0-dev",oS=(t,e)=>{if(t.test(iS))console.warn(e);else throw new Error(e)},aS=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,Jr=be(be(be(be(be(be(be(be(be({},z5),G5),W5),K5),X5),a4),f4),l4),m4),sS=be(be({},B4),j4),uS={raw:W4,json:Q4};var fS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",CID:ar,hasher:D4,digest:L4,varint:C4,bytes:L5,hashes:sS,bases:Jr,codecs:uS}),cS=Et(fS);const{bases:xp}=cS;function Sp(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Ep=Sp("utf8","u",t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),gl=Sp("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),lS=be({utf8:Ep,"utf-8":Ep,hex:xp.base16,latin1:gl,ascii:gl,binary:gl},xp);var Ap=lS;const hS=Ap;function dS(t,e="utf8"){const r=hS[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var Ip=dS;const vS=Ap;function pS(t,e="utf8"){const r=vS[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var wl=pS;function mS(t,e){if(t.length!==e.length)throw new Error("Inputs should have the same length");const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}var bS=mS;const yS=A5,gS=gu,wS=k5,_S=Ip,xS=wl,SS=bS;var sr={compare:yS,concat:gS,equals:wS,fromString:_S,toString:xS,xor:SS},bi={},Fe={},Mp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(s,u){var f=s>>>16&65535,h=s&65535,l=u>>>16&65535,m=u&65535;return h*m+(f*m+h*l<<16>>>0)|0}t.mul=Math.imul||e;function r(s,u){return s+u|0}t.add=r;function n(s,u){return s-u|0}t.sub=n;function i(s,u){return s<<u|s>>>32-u}t.rotl=i;function o(s,u){return s<<32-u|s>>>u}t.rotr=o;function a(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s}t.isInteger=Number.isInteger||a,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(s){return t.isInteger(s)&&s>=-t.MAX_SAFE_INTEGER&&s<=t.MAX_SAFE_INTEGER}})(Mp);Object.defineProperty(Fe,"__esModule",{value:!0});var kp=Mp;function ES(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Fe.readInt16BE=ES;function AS(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Fe.readUint16BE=AS;function IS(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Fe.readInt16LE=IS;function MS(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Fe.readUint16LE=MS;function Tp(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Fe.writeUint16BE=Tp;Fe.writeInt16BE=Tp;function Op(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Fe.writeUint16LE=Op;Fe.writeInt16LE=Op;function _l(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Fe.readInt32BE=_l;function xl(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Fe.readUint32BE=xl;function Sl(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Fe.readInt32LE=Sl;function El(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Fe.readUint32LE=El;function Iu(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Fe.writeUint32BE=Iu;Fe.writeInt32BE=Iu;function Mu(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Fe.writeUint32LE=Mu;Fe.writeInt32LE=Mu;function kS(t,e){e===void 0&&(e=0);var r=_l(t,e),n=_l(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Fe.readInt64BE=kS;function TS(t,e){e===void 0&&(e=0);var r=xl(t,e),n=xl(t,e+4);return r*4294967296+n}Fe.readUint64BE=TS;function OS(t,e){e===void 0&&(e=0);var r=Sl(t,e),n=Sl(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Fe.readInt64LE=OS;function PS(t,e){e===void 0&&(e=0);var r=El(t,e),n=El(t,e+4);return n*4294967296+r}Fe.readUint64LE=PS;function Pp(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Iu(t/4294967296>>>0,e,r),Iu(t>>>0,e,r+4),e}Fe.writeUint64BE=Pp;Fe.writeInt64BE=Pp;function Rp(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Mu(t>>>0,e,r),Mu(t/4294967296>>>0,e,r+4),e}Fe.writeUint64LE=Rp;Fe.writeInt64LE=Rp;function RS(t,e,r){if(r===void 0&&(r=0),t%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=t/8+r-1;o>=r;o--)n+=e[o]*i,i*=256;return n}Fe.readUintBE=RS;function NS(t,e,r){if(r===void 0&&(r=0),t%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+t/8;o++)n+=e[o]*i,i*=256;return n}Fe.readUintLE=NS;function CS(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!kp.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,o=t/8+n-1;o>=n;o--)r[o]=e/i&255,i*=256;return r}Fe.writeUintBE=CS;function LS(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!kp.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,o=n;o<n+t/8;o++)r[o]=e/i&255,i*=256;return r}Fe.writeUintLE=LS;function DS(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Fe.readFloat32BE=DS;function $S(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Fe.readFloat32LE=$S;function US(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Fe.readFloat64BE=US;function BS(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Fe.readFloat64LE=BS;function FS(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Fe.writeFloat32BE=FS;function jS(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Fe.writeFloat32LE=jS;function zS(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Fe.writeFloat64BE=zS;function qS(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Fe.writeFloat64LE=qS;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});function GS(t){for(var e=0;e<t.length;e++)t[e]=0;return t}Nr.wipe=GS;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Fe,r=Nr;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function s(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return s.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},s.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},s.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},s.prototype.update=function(u,f){if(f===void 0&&(f=u.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var h=0;if(this._bytesHashed+=f,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&f>0;)this._buffer[this._bufferLength++]=u[h++],f--;this._bufferLength===this.blockSize&&(o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(f>=this.blockSize&&(h=o(this._temp,this._state,u,h,f),f%=this.blockSize);f>0;)this._buffer[this._bufferLength++]=u[h++],f--;return this},s.prototype.finish=function(u){if(!this._finished){var f=this._bytesHashed,h=this._bufferLength,l=f/536870912|0,m=f<<3,w=f%64<56?64:128;this._buffer[h]=128;for(var M=h+1;M<w-8;M++)this._buffer[M]=0;e.writeUint32BE(l,this._buffer,w-8),e.writeUint32BE(m,this._buffer,w-4),o(this._temp,this._state,this._buffer,0,w),this._finished=!0}for(var M=0;M<this.digestLength/4;M++)e.writeUint32BE(this._state[M],u,M*4);return this},s.prototype.digest=function(){var u=new Uint8Array(this.digestLength);return this.finish(u),u},s.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},s.prototype.restoreState=function(u){return this._state.set(u.state),this._bufferLength=u.bufferLength,u.buffer&&this._buffer.set(u.buffer),this._bytesHashed=u.bytesHashed,this._finished=!1,this},s.prototype.cleanSavedState=function(u){r.wipe(u.state),u.buffer&&r.wipe(u.buffer),u.bufferLength=0,u.bytesHashed=0},s}();t.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(s,u,f,h,l){for(;l>=64;){for(var m=u[0],w=u[1],M=u[2],x=u[3],R=u[4],O=u[5],j=u[6],q=u[7],B=0;B<16;B++){var I=h+B*4;s[B]=e.readUint32BE(f,I)}for(var B=16;B<64;B++){var G=s[B-2],v=(G>>>17|G<<32-17)^(G>>>19|G<<32-19)^G>>>10;G=s[B-15];var A=(G>>>7|G<<32-7)^(G>>>18|G<<32-18)^G>>>3;s[B]=(v+s[B-7]|0)+(A+s[B-16]|0)}for(var B=0;B<64;B++){var v=(((R>>>6|R<<32-6)^(R>>>11|R<<32-11)^(R>>>25|R<<32-25))+(R&O^~R&j)|0)+(q+(i[B]+s[B]|0)|0)|0,A=((m>>>2|m<<32-2)^(m>>>13|m<<32-13)^(m>>>22|m<<32-22))+(m&w^m&M^w&M)|0;q=j,j=O,O=R,R=x+v|0,x=M,M=w,w=m,m=v+A|0}u[0]+=m,u[1]+=w,u[2]+=M,u[3]+=x,u[4]+=R,u[5]+=O,u[6]+=j,u[7]+=q,h+=64,l-=64}return h}function a(s){var u=new n;u.update(s);var f=u.digest();return u.clean(),f}t.hash=a})(bi);var HS=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),WS=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Np=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HS(e,t,r);return WS(e,t),e};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.authenticate=Yt.createLink=Yt.normalizeAccountId=Yt.isERC1271=Yt.isEthAddress=Yt.EthereumAuthProvider=void 0;const VS=An,Yo=Rr,ku=Np(sr),KS=Np(bi),Cp={ethereumEOA:"ethereum-eoa",erc1271:"erc1271"},JS="eip155";class Al{constructor(e,r,n={}){this.provider=e,this.address=r,this.opts=n,this.isAuthProvider=!0}async accountId(){const e=Yo.encodeRpcMessage("eth_chainId",[]),r=await Qa(e,this.provider),n=parseInt(r,16);return new VS.AccountID({address:this.address,chainId:`${JS}:${n}`})}async authenticate(e){const r=await this.accountId();return Bp(e,r,this.provider)}async createLink(e){const r=await this.accountId();return Up(e,r,this.provider,this.opts)}withAddress(e){return new Al(this.provider,e)}}Yt.EthereumAuthProvider=Al;function YS(t){return/^0x[a-fA-F0-9]{40}$/.test(t)}Yt.isEthAddress=YS;async function XS(t,e){const r=Yo.encodeRpcMessage("eth_getCode",[t,"latest"]);return Qa(r,e)}async function Qa(t,e){const r=(e.sendAsync?e.sendAsync:e.send).bind(e);return new Promise((n,i)=>{r(t,function(o,a){o?i(o):a.error?i(a.error):n(a.result)})})}async function Lp(t,e){const r=await XS(t.address,e).catch(()=>null);return Boolean(r&&r!=="0x"&&r!=="0x0"&&r!=="0x00")}Yt.isERC1271=Lp;function Il(t){return t.address=t.address.toLowerCase(),t}Yt.normalizeAccountId=Il;function Dp(t){const e=ku.fromString(t),r=ku.toString(e,"base16");return"0x"+r}async function $p(t,e,r,n={}){const{message:i,timestamp:o}=Yo.getConsentMessage(t,!n.skipTimestamp),a=Dp(i),s=Yo.encodeRpcMessage("personal_sign",[a,e.address]),u=await Qa(s,r),f={version:2,type:Cp.ethereumEOA,message:i,signature:u,account:e.toString()};return n.skipTimestamp||(f.timestamp=o),f}async function ZS(t,e){const r=Yo.encodeRpcMessage("eth_chainId",[]),n=await Qa(r,e),i=parseInt(n,16);if(i!==parseInt(t.chainId.reference))throw new Error(`ChainId in provider (${i}) is different from AccountID (${t.chainId.reference})`)}async function QS(t,e,r,n){const i=(n==null?void 0:n.eoaSignAccount)||e,o=await $p(t,i,r,n);return await ZS(e,r),Object.assign(o,{type:Cp.erc1271,account:e.toString()})}async function Up(t,e,r,n){return e=Il(e),await Lp(e,r)?QS(t,e,r,n):$p(t,e,r,n)}Yt.createLink=Up;async function Bp(t,e,r){if(e&&(e=Il(e)),r.isAuthereum)return r.signMessageWithSigningKey(t);const n=Dp(t),i=Yo.encodeRpcMessage("personal_sign",[n,e.address]),o=await Qa(i,r),a=ku.fromString(o.slice(2)),s=KS.hash(a);return`0x${ku.toString(s,"base16")}`}Yt.authenticate=Bp;var Yi={},eE=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tE=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rE=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&eE(e,t,r);return tE(e,t),e};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.asTransaction=Yi.FilecoinAuthProvider=void 0;const nE=An,iE=Rr,Fp=rE(sr);class Ml{constructor(e,r){this.provider=e,this.address=r,this.isAuthProvider=!0}async accountId(){const r=`fil:${this.address[0]}`;return new nE.AccountID({address:this.address,chainId:r})}async authenticate(e){const r=kl(this.address,JSON.stringify(e));return(await this.provider.sign(this.address,r)).Signature.Data}async createLink(e){const{message:r,timestamp:n}=iE.getConsentMessage(e,!0),i=kl(this.address,r),o=await this.provider.sign(this.address,i),a=await this.accountId();return{version:2,type:"eoa-tx",message:r,signature:o.Signature.Data,account:a.toString(),timestamp:n}}withAddress(e){return new Ml(this.provider,e)}}Yi.FilecoinAuthProvider=Ml;function kl(t,e){const r=Fp.toString(Fp.fromString(e),"base64");return{From:t,To:t,Value:"0",Method:0,GasPrice:"1",GasLimit:1e3,Nonce:0,Params:r,GasFeeCap:"1",GasPremium:"1"}}Yi.asTransaction=kl;var es={},oE=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aE=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sE=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&oE(e,t,r);return aE(e,t),e};Object.defineProperty(es,"__esModule",{value:!0});es.PolkadotAuthProvider=void 0;const uE=An,fE=Rr,jp=sE(sr),cE=t=>`0x${jp.toString(jp.fromString(t),"base16")}`,lE="polkadot:b0a8d493285c2df73290dfb7e61f870f";class Tl{constructor(e,r){this.provider=e,this.address=r,this.isAuthProvider=!0}async authenticate(e){throw new Error(`Not Implemented: PolkadotAuthProvider#authenticate, ${e}`)}async createLink(e){const{message:r,timestamp:n}=fE.getConsentMessage(e),i=cE(r),o=await this.accountId(),a=await this.provider.signRaw({address:this.address,data:i,type:"bytes"});return{version:2,type:"eoa",message:r,signature:a.signature,account:o.toString(),timestamp:n}}async accountId(){return new uE.AccountID({address:this.address,chainId:lE})}withAddress(e){return new Tl(this.provider,e)}}es.PolkadotAuthProvider=Tl;var Qn={},hE=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dE=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zp=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hE(e,t,r);return dE(e,t),e};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.toSignedPayload=Qn.toPayload=Qn.EosioAuthProvider=void 0;const vE=An,pE=Rr,mE=Yt,bE=zp(bi),qp=zp(sr),yE=12;class Ol{constructor(e,r){this.provider=e,this.address=r,this.isAuthProvider=!0}async accountId(){const e=Gp(await this.provider.getChainId());return new vE.AccountID({address:this.address,chainId:`eosio:${e}`})}async authenticate(e){const r=await this.accountId(),n=await Pl(e,r,this.provider),i=qp.fromString(n),o=bE.hash(i);return`0x${qp.toString(o,"base16")}`}async createLink(e){const r=pE.getConsentMessage(e),n=await this.accountId(),i=await Pl(r.message,n,this.provider);return{version:2,type:"eosio",message:r.message,signature:i,account:n.toString(),timestamp:r.timestamp}}withAddress(e){return new Ol(this.provider,e)}}Qn.EosioAuthProvider=Ol;function Gp(t){return t.substr(0,32)}function gE(t,e){return t.replace(/\s/g," ").replace(new RegExp(`(\\S{${e}})`,"g"),"$1 ")}function Hp(t,e){const{address:r,chainId:n}=e,i=`${t} [For: ${r} on chain: ${n}]`;return gE(i,yE)}Qn.toPayload=Hp;async function Pl(t,e,r){e=mE.normalizeAccountId(e);const{chainId:{reference:n},address:i}=e,o=await r.getAccountName(),a=Gp(await r.getChainId());if(a!==n)throw new Error(`Provider returned a different chainId than requested [returned: ${a}, requested: ${n}]`);if(o!==i)throw new Error(`Provider returned a different account than requested [returned: ${o}, requested: ${i}]`);const s=Hp(t,e),[u]=await r.getKeys();return r.signArbitrary(u,s)}Qn.toSignedPayload=Pl;var ei={},wE=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_E=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xE=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wE(e,t,r);return _E(e,t),e};Object.defineProperty(ei,"__esModule",{value:!0});ei.CosmosAuthProvider=ei.getMetaData=ei.asTransaction=void 0;const SE=An,EE=Rr,AE=bi,Tu=xE(sr),Rl=t=>Tu.toString(Tu.fromString(t),"base64pad");function Nl(t,e){return{fee:{amount:[{amount:"0",denom:""}],gas:"0"},memo:e,msg:[{type:"cosmos-sdk/MsgSend",value:{from_address:t,to_address:t,amount:[{amount:"0",denom:"0"}]}}]}}ei.asTransaction=Nl;function Cl(){return{account_number:"1",chain_id:"cosmos",sequence:"0"}}ei.getMetaData=Cl;class Ll{constructor(e,r,n){this.provider=e,this.address=r,this.chainRef=n,this.isAuthProvider=!0}async authenticate(e){const r=await this.accountId(),n=Rl(e),i=await this.provider.sign(Nl(r.address,n),Cl()),o=AE.hash(Tu.fromString(JSON.stringify(i.signatures[0])));return`0x${Tu.toString(o,"base16")}`}async createLink(e){const{message:r,timestamp:n}=EE.getConsentMessage(e),i=await this.accountId(),o=Rl(r),a=await this.provider.sign(Nl(i.address,o),Cl()),s=Rl(JSON.stringify(a.signatures[0]));return{version:2,message:r,signature:s,account:i.toString(),timestamp:n}}async accountId(){return new SE.AccountID({address:this.address,chainId:`cosmos:${this.chainRef}`})}withAddress(e){return new Ll(this.provider,e,this.chainRef)}}ei.CosmosAuthProvider=Ll;var Dl={};(function(t){var e=te&&te.__createBinding||(Object.create?function(m,w,M,x){x===void 0&&(x=M),Object.defineProperty(m,x,{enumerable:!0,get:function(){return w[M]}})}:function(m,w,M,x){x===void 0&&(x=M),m[x]=w[M]}),r=te&&te.__setModuleDefault||(Object.create?function(m,w){Object.defineProperty(m,"default",{enumerable:!0,value:w})}:function(m,w){m.default=w}),n=te&&te.__importStar||function(m){if(m&&m.__esModule)return m;var w={};if(m!=null)for(var M in m)M!=="default"&&Object.prototype.hasOwnProperty.call(m,M)&&e(w,m,M);return r(w,m),w};Object.defineProperty(t,"__esModule",{value:!0}),t.TezosAuthProvider=t.TEZOS_CHAIN_REF=t.TEZOS_NAMESPACE=void 0;const i=An,o=Rr,a=bi,s=n(sr);t.TEZOS_NAMESPACE="tezos",t.TEZOS_CHAIN_REF="NetXdQprcVkpaWU";function u(m){return s.toString(s.fromString(m,"utf8"),"base16")}async function f(m,w){const{prefixSig:M}=await m.signer.sign(u(w));return M}async function h(m){return m.signer.publicKeyHash()}class l{constructor(w){if(this.provider=w,this.isAuthProvider=!0,w.signer===void 0)throw new Error("a `Signer` is required to use the `TezosAuthProvider`")}async authenticate(w){const M=await f(this.provider,w),x=a.hash(s.fromString(M));return`0x${s.toString(x,"base16")}`}async createLink(w){const{message:M,timestamp:x}=o.getConsentMessage(w),R=await f(this.provider,M),O=await h(this.provider),j=new i.AccountID({address:O,chainId:`${t.TEZOS_NAMESPACE}:${t.TEZOS_CHAIN_REF}`});return{version:2,message:M,signature:R,account:j.toString(),timestamp:x}}async accountId(){const w=await h(this.provider);return new i.AccountID({address:w,chainId:`${t.TEZOS_NAMESPACE}:${t.TEZOS_CHAIN_REF}`})}withAddress(w){throw new Error("TezosAuthProvider does not support withAddress")}}t.TezosAuthProvider=l})(Dl);var Ou={},IE=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ME=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kE=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&IE(e,t,r);return ME(e,t),e};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.NearAuthProvider=void 0;const Wp=An,TE=Rr,OE=bi,$l=kE(sr),Vp=t=>$l.toString($l.fromString(t),"base64pad");class Ul{constructor(e,r,n){this.provider=e,this.address=r,this.chainRef=n,this.isAuthProvider=!0}async authenticate(e){const r=Vp(e),{signature:n}=await this.provider.sign(r),i=OE.hash(n);return`0x${$l.toString(i,"base16")}`}async createLink(e){const{message:r,timestamp:n}=TE.getConsentMessage(e),i=Vp(r),{signature:o,account:a}=await this.provider.sign(i),s=new Wp.AccountID({address:a,chainId:`near:${this.chainRef}`});return{version:2,message:r,signature:o,account:s.toString(),timestamp:n}}async accountId(){return new Wp.AccountID({address:this.address,chainId:`near:${this.chainRef}`})}withAddress(e){return new Ul(this.provider,e,this.chainRef)}}Ou.NearAuthProvider=Ul;(function(t){var e=te&&te.__createBinding||(Object.create?function(w,M,x,R){R===void 0&&(R=x),Object.defineProperty(w,R,{enumerable:!0,get:function(){return M[x]}})}:function(w,M,x,R){R===void 0&&(R=x),w[R]=M[x]}),r=te&&te.__setModuleDefault||(Object.create?function(w,M){Object.defineProperty(w,"default",{enumerable:!0,value:M})}:function(w,M){w.default=M}),n=te&&te.__exportStar||function(w,M){for(var x in w)x!=="default"&&!Object.prototype.hasOwnProperty.call(M,x)&&e(M,w,x)},i=te&&te.__importStar||function(w){if(w&&w.__esModule)return w;var M={};if(w!=null)for(var x in w)x!=="default"&&Object.prototype.hasOwnProperty.call(w,x)&&e(M,w,x);return r(M,w),M};Object.defineProperty(t,"__esModule",{value:!0}),t.TezosAuthProvider=t.NearAuthProvider=t.CosmosAuthProvider=t.PolkadotAuthProvider=t.EosioAuthProvider=t.FilecoinAuthProvider=t.AvalancheAuthProvider=t.EthereumAuthProvider=t.tezos=t.cosmos=t.eosio=t.polkadot=t.filecoin=t.ethereum=void 0,n(ap,t),t.ethereum=i(Yt),n(Rr,t),t.filecoin=i(Yi),t.polkadot=i(es),t.eosio=i(Qn),t.cosmos=i(ei),t.tezos=i(Dl);var o=Yt;Object.defineProperty(t,"EthereumAuthProvider",{enumerable:!0,get:function(){return o.EthereumAuthProvider}});var a=Yt;Object.defineProperty(t,"AvalancheAuthProvider",{enumerable:!0,get:function(){return a.EthereumAuthProvider}});var s=Yi;Object.defineProperty(t,"FilecoinAuthProvider",{enumerable:!0,get:function(){return s.FilecoinAuthProvider}});var u=Qn;Object.defineProperty(t,"EosioAuthProvider",{enumerable:!0,get:function(){return u.EosioAuthProvider}});var f=es;Object.defineProperty(t,"PolkadotAuthProvider",{enumerable:!0,get:function(){return f.PolkadotAuthProvider}});var h=ei;Object.defineProperty(t,"CosmosAuthProvider",{enumerable:!0,get:function(){return h.CosmosAuthProvider}});var l=Ou;Object.defineProperty(t,"NearAuthProvider",{enumerable:!0,get:function(){return l.NearAuthProvider}});var m=Dl;Object.defineProperty(t,"TezosAuthProvider",{enumerable:!0,get:function(){return m.TezosAuthProvider}})})(p5);let Kp=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let n=r[t]&63;n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n<63?e+="_":e+="-"}return e};function Jp(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(f){r(f);return}s.done?e(u):Promise.resolve(u).then(n,i)}function Bl(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(u){Jp(o,n,i,a,s,"next",u)}function s(u){Jp(o,n,i,a,s,"throw",u)}a(void 0)})}}function PE(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Fl(t){return Fl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Fl(t)}function Pu(t,e){return Pu=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Pu(t,e)}function RE(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Ru(t,e,r){return RE()?Ru=Reflect.construct:Ru=function(i,o,a){var s=[null];s.push.apply(s,o);var u=Function.bind.apply(i,s),f=new u;return a&&Pu(f,a.prototype),f},Ru.apply(null,arguments)}function NE(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function jl(t){var e=typeof Map=="function"?new Map:void 0;return jl=function(n){if(n===null||!NE(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Ru(n,arguments,Fl(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Pu(i,n)},jl(t)}function CE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LE(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Xo=LE(function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,o,a=typeof Symbol=="function"?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function h(p,d,c){return Object.defineProperty(p,d,{value:c,enumerable:!0,configurable:!0,writable:!0}),p[d]}try{h({},"")}catch{h=function(d,c,_){return d[c]=_}}function l(p,d,c,_){var U=d&&d.prototype instanceof j?d:j,H=Object.create(U.prototype),$=new g(_||[]);return H._invoke=C(p,c,$),H}r.wrap=l;function m(p,d,c){try{return{type:"normal",arg:p.call(d,c)}}catch(_){return{type:"throw",arg:_}}}var w="suspendedStart",M="suspendedYield",x="executing",R="completed",O={};function j(){}function q(){}function B(){}var I={};I[s]=function(){return this};var G=Object.getPrototypeOf,v=G&&G(G(k([])));v&&v!==n&&i.call(v,s)&&(I=v);var A=B.prototype=j.prototype=Object.create(I);q.prototype=A.constructor=B,B.constructor=q,q.displayName=h(B,f,"GeneratorFunction");function D(p){["next","throw","return"].forEach(function(d){h(p,d,function(c){return this._invoke(d,c)})})}r.isGeneratorFunction=function(p){var d=typeof p=="function"&&p.constructor;return d?d===q||(d.displayName||d.name)==="GeneratorFunction":!1},r.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,B):(p.__proto__=B,h(p,f,"GeneratorFunction")),p.prototype=Object.create(A),p},r.awrap=function(p){return{__await:p}};function K(p,d){function c(H,$,T,Z){var F=m(p[H],p,$);if(F.type==="throw")Z(F.arg);else{var V=F.arg,W=V.value;return W&&typeof W=="object"&&i.call(W,"__await")?d.resolve(W.__await).then(function(E){c("next",E,T,Z)},function(E){c("throw",E,T,Z)}):d.resolve(W).then(function(E){V.value=E,T(V)},function(E){return c("throw",E,T,Z)})}}var _;function U(H,$){function T(){return new d(function(Z,F){c(H,$,Z,F)})}return _=_?_.then(T,T):T()}this._invoke=U}D(K.prototype),K.prototype[u]=function(){return this},r.AsyncIterator=K,r.async=function(p,d,c,_,U){U===void 0&&(U=Promise);var H=new K(l(p,d,c,_),U);return r.isGeneratorFunction(d)?H:H.next().then(function($){return $.done?$.value:H.next()})};function C(p,d,c){var _=w;return function(H,$){if(_===x)throw new Error("Generator is already running");if(_===R){if(H==="throw")throw $;return L()}for(c.method=H,c.arg=$;;){var T=c.delegate;if(T){var Z=b(T,c);if(Z){if(Z===O)continue;return Z}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(_===w)throw _=R,c.arg;c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);_=x;var F=m(p,d,c);if(F.type==="normal"){if(_=c.done?R:M,F.arg===O)continue;return{value:F.arg,done:c.done}}else F.type==="throw"&&(_=R,c.method="throw",c.arg=F.arg)}}}function b(p,d){var c=p.iterator[d.method];if(c===o){if(d.delegate=null,d.method==="throw"){if(p.iterator.return&&(d.method="return",d.arg=o,b(p,d),d.method==="throw"))return O;d.method="throw",d.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var _=m(c,p.iterator,d.arg);if(_.type==="throw")return d.method="throw",d.arg=_.arg,d.delegate=null,O;var U=_.arg;if(!U)return d.method="throw",d.arg=new TypeError("iterator result is not an object"),d.delegate=null,O;if(U.done)d[p.resultName]=U.value,d.next=p.nextLoc,d.method!=="return"&&(d.method="next",d.arg=o);else return U;return d.delegate=null,O}D(A),h(A,f,"Generator"),A[s]=function(){return this},A.toString=function(){return"[object Generator]"};function S(p){var d={tryLoc:p[0]};1 in p&&(d.catchLoc=p[1]),2 in p&&(d.finallyLoc=p[2],d.afterLoc=p[3]),this.tryEntries.push(d)}function y(p){var d=p.completion||{};d.type="normal",delete d.arg,p.completion=d}function g(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(S,this),this.reset(!0)}r.keys=function(p){var d=[];for(var c in p)d.push(c);return d.reverse(),function _(){for(;d.length;){var U=d.pop();if(U in p)return _.value=U,_.done=!1,_}return _.done=!0,_}};function k(p){if(p){var d=p[s];if(d)return d.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var c=-1,_=function U(){for(;++c<p.length;)if(i.call(p,c))return U.value=p[c],U.done=!1,U;return U.value=o,U.done=!0,U};return _.next=_}}return{next:L}}r.values=k;function L(){return{value:o,done:!0}}return g.prototype={constructor:g,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(y),!p)for(var d in this)d.charAt(0)==="t"&&i.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=o)},stop:function(){this.done=!0;var p=this.tryEntries[0],d=p.completion;if(d.type==="throw")throw d.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var d=this;function c(Z,F){return H.type="throw",H.arg=p,d.next=Z,F&&(d.method="next",d.arg=o),!!F}for(var _=this.tryEntries.length-1;_>=0;--_){var U=this.tryEntries[_],H=U.completion;if(U.tryLoc==="root")return c("end");if(U.tryLoc<=this.prev){var $=i.call(U,"catchLoc"),T=i.call(U,"finallyLoc");if($&&T){if(this.prev<U.catchLoc)return c(U.catchLoc,!0);if(this.prev<U.finallyLoc)return c(U.finallyLoc)}else if($){if(this.prev<U.catchLoc)return c(U.catchLoc,!0)}else if(T){if(this.prev<U.finallyLoc)return c(U.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(p,d){for(var c=this.tryEntries.length-1;c>=0;--c){var _=this.tryEntries[c];if(_.tryLoc<=this.prev&&i.call(_,"finallyLoc")&&this.prev<_.finallyLoc){var U=_;break}}U&&(p==="break"||p==="continue")&&U.tryLoc<=d&&d<=U.finallyLoc&&(U=null);var H=U?U.completion:{};return H.type=p,H.arg=d,U?(this.method="next",this.next=U.finallyLoc,O):this.complete(H)},complete:function(p,d){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&d&&(this.next=d),O},finish:function(p){for(var d=this.tryEntries.length-1;d>=0;--d){var c=this.tryEntries[d];if(c.finallyLoc===p)return this.complete(c.completion,c.afterLoc),y(c),O}},catch:function(p){for(var d=this.tryEntries.length-1;d>=0;--d){var c=this.tryEntries[d];if(c.tryLoc===p){var _=c.completion;if(_.type==="throw"){var U=_.arg;y(c)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(p,d,c){return this.delegate={iterator:k(p),resultName:d,nextLoc:c},this.method==="next"&&(this.arg=o),O}},r}(t.exports);try{regeneratorRuntime=e}catch{Function("r","regeneratorRuntime = r")(e)}}),Xi,xr;(function(t){t[t.PARSE_ERROR=-32700]="PARSE_ERROR",t[t.INVALID_REQUEST=-32600]="INVALID_REQUEST",t[t.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",t[t.INVALID_PARAMS=-32602]="INVALID_PARAMS",t[t.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"})(xr||(xr={}));var Yp=(Xi={},Xi[xr.PARSE_ERROR]="Parse error",Xi[xr.INVALID_REQUEST]="Invalid request",Xi[xr.METHOD_NOT_FOUND]="Method not found",Xi[xr.INVALID_PARAMS]="Invalid params",Xi[xr.INTERNAL_ERROR]="Internal error",Xi);function DE(t){return-32e3>=t&&t>=-32099}function zl(t){var e;return(e=Yp[t.toString()])!=null?e:DE(t)?"Server error":"Application error"}var ql=function(t){PE(e,t);function e(n,i,o){var a;return a=t.call(this)||this,Object.setPrototypeOf(CE(a),e.prototype),a.code=n,a.data=o,a.message=i!=null?i:zl(n),a}e.fromObject=function(i){return new e(i.code,i.message,i.data)};var r=e.prototype;return r.toObject=function(){return{code:this.code,data:this.data,message:this.message}},e}(jl(Error));function ts(t){var e=Yp[t];return function(n){return new ql(t,e,n)}}xr.PARSE_ERROR;xr.INVALID_REQUEST;xr.METHOD_NOT_FOUND;xr.INVALID_PARAMS;xr.INTERNAL_ERROR;var $E=function(){function t(r){this.connection=r}var e=t.prototype;return e.createID=function(){return Kp()},e.request=function(){var r=Bl(Xo.mark(function i(o,a){var s;return Xo.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return a===void 0&&(a=void 0),f.next=3,this.connection.send({jsonrpc:"2.0",id:this.createID(),method:o,params:a});case 3:if(s=f.sent,s!=null){f.next=6;break}throw new Error("Missing response");case 6:if(s.error==null){f.next=8;break}throw ql.fromObject(s.error);case 8:return f.abrupt("return",s.result);case 9:case"end":return f.stop()}},i,this)}));function n(i,o){return r.apply(this,arguments)}return n}(),e.notify=function(){var r=Bl(Xo.mark(function i(o,a){return Xo.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a===void 0&&(a=void 0),u.next=3,this.connection.send({jsonrpc:"2.0",method:o,params:a});case 3:case"end":return u.stop()}},i,this)}));function n(i,o){return r.apply(this,arguments)}return n}(),t}();function Xp(t,e){return{jsonrpc:"2.0",id:t,error:{code:e,message:zl(e)}}}function UE(t,e,r){console.warn("Unhandled handler error",e,r)}function BE(t,e){console.warn("Unhandled invalid message",e)}function FE(t,e){console.warn("Unhandled notification",e)}function jE(t,e){var r,n,i;e===void 0&&(e={});var o=(r=e.onHandlerError)!=null?r:UE,a=(n=e.onInvalidMessage)!=null?n:BE,s=(i=e.onNotification)!=null?i:FE;return function(){var u=Bl(Xo.mark(function h(l,m){var w,M,x,R,O,j,q;return Xo.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(w=m.id,!(m.jsonrpc!=="2.0"||m.method==null)){I.next=6;break}if(w!=null){I.next=5;break}return a(l,m),I.abrupt("return",null);case 5:return I.abrupt("return",Xp(w,xr.INVALID_REQUEST));case 6:if(M=t[m.method],M!=null){I.next=12;break}if(w!=null){I.next=11;break}return s(l,m),I.abrupt("return",null);case 11:return I.abrupt("return",Xp(w,xr.METHOD_NOT_FOUND));case 12:if(I.prev=12,x=M(l,m.params),x!=null){I.next=18;break}I.t0=x,I.next=26;break;case 18:if(typeof x.then!="function"){I.next=24;break}return I.next=21,x;case 21:I.t1=I.sent,I.next=25;break;case 24:I.t1=x;case 25:I.t0=I.t1;case 26:return R=I.t0,I.abrupt("return",w==null?null:{jsonrpc:"2.0",id:w,result:R});case 30:if(I.prev=30,I.t2=I.catch(12),w!=null){I.next=35;break}return o(l,m,I.t2),I.abrupt("return",null);case 35:return I.t2 instanceof ql?O=I.t2.toObject():(o(l,m,I.t2),q=(j=I.t2.code)!=null?j:-32e3,O={code:q,message:I.t2.message||zl(q)}),I.abrupt("return",{jsonrpc:"2.0",id:w,error:O});case 37:case"end":return I.stop()}},h,null,[[12,30]])}));function f(h,l){return u.apply(this,arguments)}return f}()}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gl=function(t,e){return Gl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Gl(t,e)};function ln(t,e){Gl(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function rs(t){return typeof t=="function"}var Zp=!1,hn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Zp=t},get useDeprecatedSynchronousErrorHandling(){return Zp}};function Zo(t){setTimeout(function(){throw t},0)}var Nu={closed:!0,next:function(t){},error:function(t){if(hn.useDeprecatedSynchronousErrorHandling)throw t;Zo(t)},complete:function(){}},Qp=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function e1(t){return t!==null&&typeof t=="object"}var zE=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Cu=zE,ns=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,o=r._unsubscribe,a=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var s=0;s<n.length;++s){var u=n[s];u.remove(this)}if(rs(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(l){e=l instanceof Cu?t1(l.errors):[l]}}if(Qp(a))for(var s=-1,f=a.length;++s<f;){var h=a[s];if(e1(h))try{h.unsubscribe()}catch(m){e=e||[],m instanceof Cu?e=e.concat(t1(m.errors)):e.push(m)}}if(e)throw new Cu(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var o=this._subscriptions;return o===null?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function t1(t){return t.reduce(function(e,r){return e.concat(r instanceof Cu?r.errors:r)},[])}var Hl=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Cr=function(t){ln(e,t);function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Nu;break;case 1:if(!r){o.destination=Nu;break}if(typeof r=="object"){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new r1(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new r1(o,r,n,i);break}return o}return e.prototype[Hl]=function(){return this},e.create=function(r,n,i){var o=new e(r,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(ns),r1=function(t){ln(e,t);function e(r,n,i,o){var a=t.call(this)||this;a._parentSubscriber=r;var s,u=a;return rs(n)?s=n:n&&(s=n.next,i=n.error,o=n.complete,n!==Nu&&(u=Object.create(n),rs(u.unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(a))),a._context=u,a._next=s,a._error=i,a._complete=o,a}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!hn.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=hn.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Zo(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Zo(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!hn.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),hn.useDeprecatedSynchronousErrorHandling)throw i;Zo(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!hn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return hn.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=o,r.syncErrorThrown=!0,!0):(Zo(o),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(Cr);function qE(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof Cr?t=n:t=null}return!0}function GE(t,e,r){if(t){if(t instanceof Cr)return t;if(t[Hl])return t[Hl]()}return!t&&!e&&!r?new Cr(Nu):new Cr(t,e,r)}var is=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function n1(t){return t}function HE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i1(t)}function i1(t){return t.length===0?n1:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var In=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,o=GE(e,r,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||hn.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),hn.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){hn.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),qE(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=o1(r),new r(function(i,o){var a;a=n.subscribe(function(s){try{e(s)}catch(u){o(u),a&&a.unsubscribe()}},o,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[is]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:i1(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=o1(e),new e(function(n,i){var o;r.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function o1(t){if(t||(t=hn.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var WE=new In(function(t){return t.complete()});function VE(t){return t?KE(t):WE}function KE(t){return new In(function(e){return t.schedule(function(){return e.complete()})})}var JE=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function YE(t,e){return new In(function(r){var n=new ns,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function yi(){}var XE=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),ZE=XE,QE=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),a1=QE;function Wl(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new e8(t,e))}}var e8=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new t8(e,this.project,this.thisArg))},t}(),t8=function(t){ln(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Cr),r8=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Zo),e}};function n8(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Lu=n8(),i8=function(t){return function(e){var r=t[Lu]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},o8=function(t){return function(e){var r=t[is]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},s1=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function u1(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var f1=function(t){if(!!t&&typeof t[is]=="function")return o8(t);if(s1(t))return JE(t);if(u1(t))return r8(t);if(!!t&&typeof t[Lu]=="function")return i8(t);var e=e1(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function a8(t,e){return new In(function(r){var n=new ns;return n.add(e.schedule(function(){var i=t[is]();n.add(i.subscribe({next:function(o){n.add(e.schedule(function(){return r.next(o)}))},error:function(o){n.add(e.schedule(function(){return r.error(o)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function s8(t,e){return new In(function(r){var n=new ns;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function u8(t,e){if(!t)throw new Error("Iterable cannot be null");return new In(function(r){var n=new ns,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Lu](),n.add(e.schedule(function(){if(!r.closed){var o,a;try{var s=i.next();o=s.value,a=s.done}catch(u){r.error(u);return}a?r.complete():(r.next(o),this.schedule())}}))})),n})}function f8(t){return t&&typeof t[is]=="function"}function c8(t){return t&&typeof t[Lu]=="function"}function l8(t,e){if(t!=null){if(f8(t))return a8(t,e);if(u1(t))return s8(t,e);if(s1(t))return YE(t,e);if(c8(t)||typeof t=="string")return u8(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function h8(t,e){return e?l8(t,e):t instanceof In?t:new In(f1(t))}var d8=function(t){ln(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(Cr),v8=function(t){ln(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(Cr);function p8(t,e){if(!e.closed){if(t instanceof In)return t.subscribe(e);var r;try{r=f1(t)(e)}catch(n){e.error(n)}return r}}function c1(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(c1(function(i,o){return h8(t(i,o)).pipe(Wl(function(a,s){return e(i,a,o,s)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new m8(t,r))})}var m8=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new b8(e,this.project,this.concurrent))},t}(),b8=function(t){ln(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new d8(this),i=this.destination;i.add(n);var o=p8(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(v8);function l1(t,e,r,n){return rs(r)&&(n=r,r=void 0),n?l1(t,e,r).pipe(Wl(function(i){return Qp(i)?n.apply(void 0,i):n(i)})):new In(function(i){function o(a){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(a)}h1(t,e,o,i,r)})}function h1(t,e,r,n,i){var o;if(w8(t)){var a=t;t.addEventListener(e,r,i),o=function(){return a.removeEventListener(e,r,i)}}else if(g8(t)){var s=t;t.on(e,r),o=function(){return s.off(e,r)}}else if(y8(t)){var u=t;t.addListener(e,r),o=function(){return u.removeListener(e,r)}}else if(t&&t.length)for(var f=0,h=t.length;f<h;f++)h1(t[f],e,r,n,i);else throw new TypeError("Invalid event target");n.add(o)}function y8(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function g8(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function w8(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Vl(t,e){return function(n){return n.lift(new _8(t,e))}}var _8=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new x8(e,this.predicate,this.thisArg))},t}(),x8=function(t){ln(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(Cr);function S8(t){return t===void 0&&(t=null),function(e){return e.lift(new E8(t))}}var E8=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new A8(e,this.defaultValue))},t}(),A8=function(t){ln(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Cr);function I8(t){return t===void 0&&(t=T8),function(e){return e.lift(new M8(t))}}var M8=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new k8(e,this.errorFactory))},t}(),k8=function(t){ln(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(Cr);function T8(){return new a1}function O8(t){return function(e){return t===0?VE():e.lift(new P8(t))}}var P8=function(){function t(e){if(this.total=e,this.total<0)throw new ZE}return t.prototype.call=function(e,r){return r.subscribe(new R8(e,this.total))},t}(),R8=function(t){ln(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(Cr);function N8(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Vl(function(i,o){return t(i,o,n)}):n1,O8(1),r?S8(e):I8(function(){return new a1}))}}function C8(t,e,r){return function(i){return i.lift(new L8(t,e,r))}}var L8=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new D8(e,this.nextOrObserver,this.error,this.complete))},t}(),D8=function(t){ln(e,t);function e(r,n,i,o){var a=t.call(this,r)||this;return a._tapNext=yi,a._tapError=yi,a._tapComplete=yi,a._tapError=i||yi,a._tapComplete=o||yi,rs(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||yi,a._tapError=n.error||yi,a._tapComplete=n.complete||yi),a}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(Cr);function $8(t){return function(r){return{__tw:!0,ns:t,msg:r}}}function U8(t){return function(r){if(r.__tw!==!0)throw new Error("Input is not a wrapped message");if(typeof r.ns!="string")throw new Error("Invalid namespace type for wrapped message: expected a string, got "+typeof r.ns);if(r.ns!==t)throw new Error("Invalid namespace for wrapped message: expected "+t+", got "+r.ns);return r.msg}}function B8(t){return Array.isArray(t)||(t=[t]),function(e){return t.includes(e.origin)}}function d1(t,e){var r=l1(t,"message");if(e==null)return r;var n=typeof e=="function"?e:B8(e);return r.pipe(Vl(n))}function v1(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(f){r(f);return}s.done?e(u):Promise.resolve(u).then(n,i)}function F8(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(u){v1(o,n,i,a,s,"next",u)}function s(u){v1(o,n,i,a,s,"throw",u)}a(void 0)})}}function j8(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function z8(t,e){return e={exports:{}},t(e,e.exports),e.exports}var p1=z8(function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,o,a=typeof Symbol=="function"?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function h(p,d,c){return Object.defineProperty(p,d,{value:c,enumerable:!0,configurable:!0,writable:!0}),p[d]}try{h({},"")}catch{h=function(d,c,_){return d[c]=_}}function l(p,d,c,_){var U=d&&d.prototype instanceof j?d:j,H=Object.create(U.prototype),$=new g(_||[]);return H._invoke=C(p,c,$),H}r.wrap=l;function m(p,d,c){try{return{type:"normal",arg:p.call(d,c)}}catch(_){return{type:"throw",arg:_}}}var w="suspendedStart",M="suspendedYield",x="executing",R="completed",O={};function j(){}function q(){}function B(){}var I={};h(I,s,function(){return this});var G=Object.getPrototypeOf,v=G&&G(G(k([])));v&&v!==n&&i.call(v,s)&&(I=v);var A=B.prototype=j.prototype=Object.create(I);q.prototype=B,h(A,"constructor",B),h(B,"constructor",q),q.displayName=h(B,f,"GeneratorFunction");function D(p){["next","throw","return"].forEach(function(d){h(p,d,function(c){return this._invoke(d,c)})})}r.isGeneratorFunction=function(p){var d=typeof p=="function"&&p.constructor;return d?d===q||(d.displayName||d.name)==="GeneratorFunction":!1},r.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,B):(p.__proto__=B,h(p,f,"GeneratorFunction")),p.prototype=Object.create(A),p},r.awrap=function(p){return{__await:p}};function K(p,d){function c(H,$,T,Z){var F=m(p[H],p,$);if(F.type==="throw")Z(F.arg);else{var V=F.arg,W=V.value;return W&&typeof W=="object"&&i.call(W,"__await")?d.resolve(W.__await).then(function(E){c("next",E,T,Z)},function(E){c("throw",E,T,Z)}):d.resolve(W).then(function(E){V.value=E,T(V)},function(E){return c("throw",E,T,Z)})}}var _;function U(H,$){function T(){return new d(function(Z,F){c(H,$,Z,F)})}return _=_?_.then(T,T):T()}this._invoke=U}D(K.prototype),h(K.prototype,u,function(){return this}),r.AsyncIterator=K,r.async=function(p,d,c,_,U){U===void 0&&(U=Promise);var H=new K(l(p,d,c,_),U);return r.isGeneratorFunction(d)?H:H.next().then(function($){return $.done?$.value:H.next()})};function C(p,d,c){var _=w;return function(H,$){if(_===x)throw new Error("Generator is already running");if(_===R){if(H==="throw")throw $;return L()}for(c.method=H,c.arg=$;;){var T=c.delegate;if(T){var Z=b(T,c);if(Z){if(Z===O)continue;return Z}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(_===w)throw _=R,c.arg;c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);_=x;var F=m(p,d,c);if(F.type==="normal"){if(_=c.done?R:M,F.arg===O)continue;return{value:F.arg,done:c.done}}else F.type==="throw"&&(_=R,c.method="throw",c.arg=F.arg)}}}function b(p,d){var c=p.iterator[d.method];if(c===o){if(d.delegate=null,d.method==="throw"){if(p.iterator.return&&(d.method="return",d.arg=o,b(p,d),d.method==="throw"))return O;d.method="throw",d.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var _=m(c,p.iterator,d.arg);if(_.type==="throw")return d.method="throw",d.arg=_.arg,d.delegate=null,O;var U=_.arg;if(!U)return d.method="throw",d.arg=new TypeError("iterator result is not an object"),d.delegate=null,O;if(U.done)d[p.resultName]=U.value,d.next=p.nextLoc,d.method!=="return"&&(d.method="next",d.arg=o);else return U;return d.delegate=null,O}D(A),h(A,f,"Generator"),h(A,s,function(){return this}),h(A,"toString",function(){return"[object Generator]"});function S(p){var d={tryLoc:p[0]};1 in p&&(d.catchLoc=p[1]),2 in p&&(d.finallyLoc=p[2],d.afterLoc=p[3]),this.tryEntries.push(d)}function y(p){var d=p.completion||{};d.type="normal",delete d.arg,p.completion=d}function g(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(S,this),this.reset(!0)}r.keys=function(p){var d=[];for(var c in p)d.push(c);return d.reverse(),function _(){for(;d.length;){var U=d.pop();if(U in p)return _.value=U,_.done=!1,_}return _.done=!0,_}};function k(p){if(p){var d=p[s];if(d)return d.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var c=-1,_=function U(){for(;++c<p.length;)if(i.call(p,c))return U.value=p[c],U.done=!1,U;return U.value=o,U.done=!0,U};return _.next=_}}return{next:L}}r.values=k;function L(){return{value:o,done:!0}}return g.prototype={constructor:g,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(y),!p)for(var d in this)d.charAt(0)==="t"&&i.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=o)},stop:function(){this.done=!0;var p=this.tryEntries[0],d=p.completion;if(d.type==="throw")throw d.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var d=this;function c(Z,F){return H.type="throw",H.arg=p,d.next=Z,F&&(d.method="next",d.arg=o),!!F}for(var _=this.tryEntries.length-1;_>=0;--_){var U=this.tryEntries[_],H=U.completion;if(U.tryLoc==="root")return c("end");if(U.tryLoc<=this.prev){var $=i.call(U,"catchLoc"),T=i.call(U,"finallyLoc");if($&&T){if(this.prev<U.catchLoc)return c(U.catchLoc,!0);if(this.prev<U.finallyLoc)return c(U.finallyLoc)}else if($){if(this.prev<U.catchLoc)return c(U.catchLoc,!0)}else if(T){if(this.prev<U.finallyLoc)return c(U.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(p,d){for(var c=this.tryEntries.length-1;c>=0;--c){var _=this.tryEntries[c];if(_.tryLoc<=this.prev&&i.call(_,"finallyLoc")&&this.prev<_.finallyLoc){var U=_;break}}U&&(p==="break"||p==="continue")&&U.tryLoc<=d&&d<=U.finallyLoc&&(U=null);var H=U?U.completion:{};return H.type=p,H.arg=d,U?(this.method="next",this.next=U.finallyLoc,O):this.complete(H)},complete:function(p,d){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&d&&(this.next=d),O},finish:function(p){for(var d=this.tryEntries.length-1;d>=0;--d){var c=this.tryEntries[d];if(c.finallyLoc===p)return this.complete(c.completion,c.afterLoc),y(c),O}},catch:function(p){for(var d=this.tryEntries.length-1;d>=0;--d){var c=this.tryEntries[d];if(c.tryLoc===p){var _=c.completion;if(_.type==="throw"){var U=_.arg;y(c)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(p,d,c){return this.delegate={iterator:k(p),resultName:d,nextLoc:c},this.method==="next"&&(this.arg=o),O}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}),q8=["filter","methods","namespace","target"];function G8(t,e,r){r===void 0&&(r={});var n=jE(t,r),i=U8(e);return HE(Wl(function(o){try{var a=i(o.data);return a.method?{type:"request",message:o,request:a}:null}catch{return null}}),Vl(function(o){return o!==null}),c1(function(){var o=F8(p1.mark(function a(s){return p1.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=s.message,f.t1=s.request,f.next=4,n(s.message,s.request);case 4:return f.t2=f.sent,f.abrupt("return",{type:"handled",message:f.t0,request:f.t1,response:f.t2});case 6:case"end":return f.stop()}},a)}));return function(a){return o.apply(this,arguments)}}()))}function H8(t){var e=t.filter,r=t.methods,n=t.namespace,i=t.target,o=j8(t,q8),a=$8(n);return d1(i,e).pipe(G8(r,n,o),C8(function(s){if(s.response!=null){var u,f=(u=s.message.source)!=null?u:window;f.postMessage(a(s.response),s.message.origin||"*")}}))}function Kl(t,e,r){return r===void 0&&(r=window),H8({methods:e,namespace:t,target:r})}function m1(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(f){r(f);return}s.done?e(u):Promise.resolve(u).then(n,i)}function W8(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(u){m1(o,n,i,a,s,"next",u)}function s(u){m1(o,n,i,a,s,"throw",u)}a(void 0)})}}function V8(t,e){return e={exports:{}},t(e,e.exports),e.exports}var b1=V8(function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,o,a=typeof Symbol=="function"?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function h(p,d,c){return Object.defineProperty(p,d,{value:c,enumerable:!0,configurable:!0,writable:!0}),p[d]}try{h({},"")}catch{h=function(c,_,U){return c[_]=U}}function l(p,d,c,_){var U=d&&d.prototype instanceof j?d:j,H=Object.create(U.prototype),$=new g(_||[]);return H._invoke=C(p,c,$),H}r.wrap=l;function m(p,d,c){try{return{type:"normal",arg:p.call(d,c)}}catch(_){return{type:"throw",arg:_}}}var w="suspendedStart",M="suspendedYield",x="executing",R="completed",O={};function j(){}function q(){}function B(){}var I={};h(I,s,function(){return this});var G=Object.getPrototypeOf,v=G&&G(G(k([])));v&&v!==n&&i.call(v,s)&&(I=v);var A=B.prototype=j.prototype=Object.create(I);q.prototype=B,h(A,"constructor",B),h(B,"constructor",q),q.displayName=h(B,f,"GeneratorFunction");function D(p){["next","throw","return"].forEach(function(d){h(p,d,function(c){return this._invoke(d,c)})})}r.isGeneratorFunction=function(p){var d=typeof p=="function"&&p.constructor;return d?d===q||(d.displayName||d.name)==="GeneratorFunction":!1},r.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,B):(p.__proto__=B,h(p,f,"GeneratorFunction")),p.prototype=Object.create(A),p},r.awrap=function(p){return{__await:p}};function K(p,d){function c(H,$,T,Z){var F=m(p[H],p,$);if(F.type==="throw")Z(F.arg);else{var V=F.arg,W=V.value;return W&&typeof W=="object"&&i.call(W,"__await")?d.resolve(W.__await).then(function(E){c("next",E,T,Z)},function(E){c("throw",E,T,Z)}):d.resolve(W).then(function(E){V.value=E,T(V)},function(E){return c("throw",E,T,Z)})}}var _;function U(H,$){function T(){return new d(function(Z,F){c(H,$,Z,F)})}return _=_?_.then(T,T):T()}this._invoke=U}D(K.prototype),h(K.prototype,u,function(){return this}),r.AsyncIterator=K,r.async=function(p,d,c,_,U){U===void 0&&(U=Promise);var H=new K(l(p,d,c,_),U);return r.isGeneratorFunction(d)?H:H.next().then(function($){return $.done?$.value:H.next()})};function C(p,d,c){var _=w;return function(H,$){if(_===x)throw new Error("Generator is already running");if(_===R){if(H==="throw")throw $;return L()}for(c.method=H,c.arg=$;;){var T=c.delegate;if(T){var Z=b(T,c);if(Z){if(Z===O)continue;return Z}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(_===w)throw _=R,c.arg;c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);_=x;var F=m(p,d,c);if(F.type==="normal"){if(_=c.done?R:M,F.arg===O)continue;return{value:F.arg,done:c.done}}else F.type==="throw"&&(_=R,c.method="throw",c.arg=F.arg)}}}function b(p,d){var c=p.iterator[d.method];if(c===o){if(d.delegate=null,d.method==="throw"){if(p.iterator.return&&(d.method="return",d.arg=o,b(p,d),d.method==="throw"))return O;d.method="throw",d.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var _=m(c,p.iterator,d.arg);if(_.type==="throw")return d.method="throw",d.arg=_.arg,d.delegate=null,O;var U=_.arg;if(!U)return d.method="throw",d.arg=new TypeError("iterator result is not an object"),d.delegate=null,O;if(U.done)d[p.resultName]=U.value,d.next=p.nextLoc,d.method!=="return"&&(d.method="next",d.arg=o);else return U;return d.delegate=null,O}D(A),h(A,f,"Generator"),h(A,s,function(){return this}),h(A,"toString",function(){return"[object Generator]"});function S(p){var d={tryLoc:p[0]};1 in p&&(d.catchLoc=p[1]),2 in p&&(d.finallyLoc=p[2],d.afterLoc=p[3]),this.tryEntries.push(d)}function y(p){var d=p.completion||{};d.type="normal",delete d.arg,p.completion=d}function g(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(S,this),this.reset(!0)}r.keys=function(p){var d=[];for(var c in p)d.push(c);return d.reverse(),function _(){for(;d.length;){var U=d.pop();if(U in p)return _.value=U,_.done=!1,_}return _.done=!0,_}};function k(p){if(p){var d=p[s];if(d)return d.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var c=-1,_=function U(){for(;++c<p.length;)if(i.call(p,c))return U.value=p[c],U.done=!1,U;return U.value=o,U.done=!0,U};return _.next=_}}return{next:L}}r.values=k;function L(){return{value:o,done:!0}}return g.prototype={constructor:g,reset:function(d){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(y),!d)for(var c in this)c.charAt(0)==="t"&&i.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=o)},stop:function(){this.done=!0;var d=this.tryEntries[0],c=d.completion;if(c.type==="throw")throw c.arg;return this.rval},dispatchException:function(d){if(this.done)throw d;var c=this;function _(F,V){return $.type="throw",$.arg=d,c.next=F,V&&(c.method="next",c.arg=o),!!V}for(var U=this.tryEntries.length-1;U>=0;--U){var H=this.tryEntries[U],$=H.completion;if(H.tryLoc==="root")return _("end");if(H.tryLoc<=this.prev){var T=i.call(H,"catchLoc"),Z=i.call(H,"finallyLoc");if(T&&Z){if(this.prev<H.catchLoc)return _(H.catchLoc,!0);if(this.prev<H.finallyLoc)return _(H.finallyLoc)}else if(T){if(this.prev<H.catchLoc)return _(H.catchLoc,!0)}else if(Z){if(this.prev<H.finallyLoc)return _(H.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(d,c){for(var _=this.tryEntries.length-1;_>=0;--_){var U=this.tryEntries[_];if(U.tryLoc<=this.prev&&i.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var H=U;break}}H&&(d==="break"||d==="continue")&&H.tryLoc<=c&&c<=H.finallyLoc&&(H=null);var $=H?H.completion:{};return $.type=d,$.arg=c,H?(this.method="next",this.next=H.finallyLoc,O):this.complete($)},complete:function(d,c){if(d.type==="throw")throw d.arg;return d.type==="break"||d.type==="continue"?this.next=d.arg:d.type==="return"?(this.rval=this.arg=d.arg,this.method="return",this.next="end"):d.type==="normal"&&c&&(this.next=c),O},finish:function(d){for(var c=this.tryEntries.length-1;c>=0;--c){var _=this.tryEntries[c];if(_.finallyLoc===d)return this.complete(_.completion,_.afterLoc),y(_),O}},catch:function(d){for(var c=this.tryEntries.length-1;c>=0;--c){var _=this.tryEntries[c];if(_.tryLoc===d){var U=_.completion;if(U.type==="throw"){var H=U.arg;y(_)}return H}}throw new Error("illegal catch attempt")},delegateYield:function(d,c,_){return this.delegate={iterator:k(d),resultName:c,nextLoc:_},this.method==="next"&&(this.arg=o),O}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}),K8="3id-connect-iframedisplay",J8="3id-connect-managedisplay",y1=99999,g1="position: fixed; width:0; height:0; border:0; border:none !important",Y8="border:none; border:0; z-index: "+(y1-2)+"; position: fixed; max-width: 100%;",X8="border:none; border:0; z-index: "+(y1-1)+"; position: fixed; width: 100%; height: 100%; top: 0; left: 0;",Z8="top: 10px; right: 10px",Q8="bottom: 0px; left: 0px;",eA=function(e){return function(){return e.style=g1}},tA=function(e){return function(r,n,i){r===void 0&&(r=!1),n===void 0&&(n="245px"),i===void 0&&(i="440px"),e.style=Y8+" width: "+i+"; height: "+n+"; "+(r?Q8:Z8)}};function rA(t){var e=tA(t),r=eA(t);return Kl(K8,{hide:function(){r()},display:function(i,o){var a=o.mobile,s=o.height,u=o.width;e(a,s,u)}})}var nA=function(e){var r=document.createElement("iframe");return r.name="threeid-connect",r.className="threeid-connect",r.src=e,r.style=g1,r.allowTransparency=!0,r.frameBorder=0,r};function iA(t){var e;return Kl(J8,{display:function(){var r=W8(b1.mark(function i(o,a){var s,u,f;return b1.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=a.accountId,e=oA(t+"?accountId="+s),document.body.appendChild(e),l.next=5,new Promise(function(m){e.onload=m});case 5:return u=d1(window),f=function(w){return w.data.ns==="3id-connect-management"},l.next=9,u.pipe(N8(f)).toPromise();case 9:e.remove();case 10:case"end":return l.stop()}},i)}));function n(i,o){return r.apply(this,arguments)}return n}()})}var oA=function(e){var r=document.createElement("iframe");return r.name="threeid-connect-manage",r.className="threeid-connect-manage",r.src=e,r.allowtransparency=!1,r.style=X8,r};function w1(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(f){r(f);return}s.done?e(u):Promise.resolve(u).then(n,i)}function Jl(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(u){w1(o,n,i,a,s,"next",u)}function s(u){w1(o,n,i,a,s,"throw",u)}a(void 0)})}}function aA(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Qo=aA(function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,o,a=typeof Symbol=="function"?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function h(p,d,c){return Object.defineProperty(p,d,{value:c,enumerable:!0,configurable:!0,writable:!0}),p[d]}try{h({},"")}catch{h=function(c,_,U){return c[_]=U}}function l(p,d,c,_){var U=d&&d.prototype instanceof j?d:j,H=Object.create(U.prototype),$=new g(_||[]);return H._invoke=C(p,c,$),H}r.wrap=l;function m(p,d,c){try{return{type:"normal",arg:p.call(d,c)}}catch(_){return{type:"throw",arg:_}}}var w="suspendedStart",M="suspendedYield",x="executing",R="completed",O={};function j(){}function q(){}function B(){}var I={};h(I,s,function(){return this});var G=Object.getPrototypeOf,v=G&&G(G(k([])));v&&v!==n&&i.call(v,s)&&(I=v);var A=B.prototype=j.prototype=Object.create(I);q.prototype=B,h(A,"constructor",B),h(B,"constructor",q),q.displayName=h(B,f,"GeneratorFunction");function D(p){["next","throw","return"].forEach(function(d){h(p,d,function(c){return this._invoke(d,c)})})}r.isGeneratorFunction=function(p){var d=typeof p=="function"&&p.constructor;return d?d===q||(d.displayName||d.name)==="GeneratorFunction":!1},r.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,B):(p.__proto__=B,h(p,f,"GeneratorFunction")),p.prototype=Object.create(A),p},r.awrap=function(p){return{__await:p}};function K(p,d){function c(H,$,T,Z){var F=m(p[H],p,$);if(F.type==="throw")Z(F.arg);else{var V=F.arg,W=V.value;return W&&typeof W=="object"&&i.call(W,"__await")?d.resolve(W.__await).then(function(E){c("next",E,T,Z)},function(E){c("throw",E,T,Z)}):d.resolve(W).then(function(E){V.value=E,T(V)},function(E){return c("throw",E,T,Z)})}}var _;function U(H,$){function T(){return new d(function(Z,F){c(H,$,Z,F)})}return _=_?_.then(T,T):T()}this._invoke=U}D(K.prototype),h(K.prototype,u,function(){return this}),r.AsyncIterator=K,r.async=function(p,d,c,_,U){U===void 0&&(U=Promise);var H=new K(l(p,d,c,_),U);return r.isGeneratorFunction(d)?H:H.next().then(function($){return $.done?$.value:H.next()})};function C(p,d,c){var _=w;return function(H,$){if(_===x)throw new Error("Generator is already running");if(_===R){if(H==="throw")throw $;return L()}for(c.method=H,c.arg=$;;){var T=c.delegate;if(T){var Z=b(T,c);if(Z){if(Z===O)continue;return Z}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(_===w)throw _=R,c.arg;c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);_=x;var F=m(p,d,c);if(F.type==="normal"){if(_=c.done?R:M,F.arg===O)continue;return{value:F.arg,done:c.done}}else F.type==="throw"&&(_=R,c.method="throw",c.arg=F.arg)}}}function b(p,d){var c=p.iterator[d.method];if(c===o){if(d.delegate=null,d.method==="throw"){if(p.iterator.return&&(d.method="return",d.arg=o,b(p,d),d.method==="throw"))return O;d.method="throw",d.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var _=m(c,p.iterator,d.arg);if(_.type==="throw")return d.method="throw",d.arg=_.arg,d.delegate=null,O;var U=_.arg;if(!U)return d.method="throw",d.arg=new TypeError("iterator result is not an object"),d.delegate=null,O;if(U.done)d[p.resultName]=U.value,d.next=p.nextLoc,d.method!=="return"&&(d.method="next",d.arg=o);else return U;return d.delegate=null,O}D(A),h(A,f,"Generator"),h(A,s,function(){return this}),h(A,"toString",function(){return"[object Generator]"});function S(p){var d={tryLoc:p[0]};1 in p&&(d.catchLoc=p[1]),2 in p&&(d.finallyLoc=p[2],d.afterLoc=p[3]),this.tryEntries.push(d)}function y(p){var d=p.completion||{};d.type="normal",delete d.arg,p.completion=d}function g(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(S,this),this.reset(!0)}r.keys=function(p){var d=[];for(var c in p)d.push(c);return d.reverse(),function _(){for(;d.length;){var U=d.pop();if(U in p)return _.value=U,_.done=!1,_}return _.done=!0,_}};function k(p){if(p){var d=p[s];if(d)return d.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var c=-1,_=function U(){for(;++c<p.length;)if(i.call(p,c))return U.value=p[c],U.done=!1,U;return U.value=o,U.done=!0,U};return _.next=_}}return{next:L}}r.values=k;function L(){return{value:o,done:!0}}return g.prototype={constructor:g,reset:function(d){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(y),!d)for(var c in this)c.charAt(0)==="t"&&i.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=o)},stop:function(){this.done=!0;var d=this.tryEntries[0],c=d.completion;if(c.type==="throw")throw c.arg;return this.rval},dispatchException:function(d){if(this.done)throw d;var c=this;function _(F,V){return $.type="throw",$.arg=d,c.next=F,V&&(c.method="next",c.arg=o),!!V}for(var U=this.tryEntries.length-1;U>=0;--U){var H=this.tryEntries[U],$=H.completion;if(H.tryLoc==="root")return _("end");if(H.tryLoc<=this.prev){var T=i.call(H,"catchLoc"),Z=i.call(H,"finallyLoc");if(T&&Z){if(this.prev<H.catchLoc)return _(H.catchLoc,!0);if(this.prev<H.finallyLoc)return _(H.finallyLoc)}else if(T){if(this.prev<H.catchLoc)return _(H.catchLoc,!0)}else if(Z){if(this.prev<H.finallyLoc)return _(H.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(d,c){for(var _=this.tryEntries.length-1;_>=0;--_){var U=this.tryEntries[_];if(U.tryLoc<=this.prev&&i.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var H=U;break}}H&&(d==="break"||d==="continue")&&H.tryLoc<=c&&c<=H.finallyLoc&&(H=null);var $=H?H.completion:{};return $.type=d,$.arg=c,H?(this.method="next",this.next=H.finallyLoc,O):this.complete($)},complete:function(d,c){if(d.type==="throw")throw d.arg;return d.type==="break"||d.type==="continue"?this.next=d.arg:d.type==="return"?(this.rval=this.arg=d.arg,this.method="return",this.next="end"):d.type==="normal"&&c&&(this.next=c),O},finish:function(d){for(var c=this.tryEntries.length-1;c>=0;--c){var _=this.tryEntries[c];if(_.finallyLoc===d)return this.complete(_.completion,_.afterLoc),y(_),O}},catch:function(d){for(var c=this.tryEntries.length-1;c>=0;--c){var _=this.tryEntries[c];if(_.tryLoc===d){var U=_.completion;if(U.type==="throw"){var H=U.arg;y(_)}return H}}throw new Error("illegal catch attempt")},delegateYield:function(d,c,_){return this.delegate={iterator:k(d),resultName:c,nextLoc:_},this.method==="next"&&(this.arg=o),O}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}),_1="3id-connect-authprovider";typeof process!="undefined"&&(_1="3id-connect-authprovider");function sA(t,e){return e===void 0&&(e=_1),Kl(e,{accountId:function(){var r=Jl(Qo.mark(function i(){return Qo.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.accountId();case 2:return a.abrupt("return",a.sent.toString());case 3:case"end":return a.stop()}},i)}));function n(){return r.apply(this,arguments)}return n}(),authenticate:function(){var r=Jl(Qo.mark(function i(o,a){var s;return Qo.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return s=a.message,f.next=3,t.authenticate(s);case 3:return f.abrupt("return",f.sent);case 4:case"end":return f.stop()}},i)}));function n(i,o){return r.apply(this,arguments)}return n}(),createLink:function(){var r=Jl(Qo.mark(function i(o,a){var s;return Qo.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return s=a.did,f.next=3,t.createLink(s);case 3:return f.abrupt("return",f.sent);case 4:case"end":return f.stop()}},i)}));function n(i,o){return r.apply(this,arguments)}return n}()})}var x1={},Du={},S1={exports:{}},$u=1;function uA(){return $u=($u*9301+49297)%233280,$u/233280}function fA(t){$u=t}var cA={nextValue:uA,seed:fA},Yl=cA,Zi="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",gi,E1,os;function Xl(){os=!1}function A1(t){if(!t){gi!==Zi&&(gi=Zi,Xl());return}if(t!==gi){if(t.length!==Zi.length)throw new Error("Custom alphabet for shortid must be "+Zi.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter(function(r,n,i){return n!==i.lastIndexOf(r)});if(e.length)throw new Error("Custom alphabet for shortid must be "+Zi.length+" unique characters. These characters were not unique: "+e.join(", "));gi=t,Xl()}}function lA(t){return A1(t),gi}function hA(t){Yl.seed(t),E1!==t&&(Xl(),E1=t)}function dA(){gi||A1(Zi);for(var t=gi.split(""),e=[],r=Yl.nextValue(),n;t.length>0;)r=Yl.nextValue(),n=Math.floor(r*t.length),e.push(t.splice(n,1)[0]);return e.join("")}function I1(){return os||(os=dA(),os)}function vA(t){var e=I1();return e[t]}function pA(){return gi||Zi}var Zl={get:pA,characters:lA,seed:hA,lookup:vA,shuffled:I1},Ql=typeof window=="object"&&(window.crypto||window.msCrypto),eh;!Ql||!Ql.getRandomValues?eh=function(t){for(var e=[],r=0;r<t;r++)e.push(Math.floor(Math.random()*256));return e}:eh=function(t){return Ql.getRandomValues(new Uint8Array(t))};var mA=eh,bA=function(t,e,r){for(var n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*n*r/e.length),o="";;)for(var a=t(i),s=i;s--;)if(o+=e[a[s]&n]||"",o.length===+r)return o},yA=Zl,gA=mA,wA=bA;function _A(t){for(var e=0,r,n="";!r;)n=n+wA(gA,yA.get(),1),r=t<Math.pow(16,e+1),e++;return n}var xA=_A,Uu=xA,SA=1567752802062,EA=7,Bu,M1;function AA(t){var e="",r=Math.floor((Date.now()-SA)*.001);return r===M1?Bu++:(Bu=0,M1=r),e=e+Uu(EA),e=e+Uu(t),Bu>0&&(e=e+Uu(Bu)),e=e+Uu(r),e}var IA=AA,MA=Zl;function kA(t){if(!t||typeof t!="string"||t.length<6)return!1;var e=new RegExp("[^"+MA.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]");return!e.test(t)}var TA=kA;(function(t){var e=Zl,r=IA,n=TA,i=0;function o(f){return e.seed(f),t.exports}function a(f){return i=f,t.exports}function s(f){return f!==void 0&&e.characters(f),e.shuffled()}function u(){return r(i)}t.exports=u,t.exports.generate=u,t.exports.seed=o,t.exports.worker=a,t.exports.characters=s,t.exports.isValid=n})(S1);var OA=S1.exports;Object.defineProperty(Du,"__esModule",{value:!0});Du.default=k1;Du.call=CA;var PA=OA,RA=NA(PA);function NA(t){return t&&t.__esModule?t:{default:t}}function k1(t,e){e=e||{};var r=e.addListener||window.addEventListener,n=e.removeListener||window.removeEventListener,i=e.postMessage||window.postMessage,o=e.targetOrigin||"*",a=e.getMessageData||function(s){return s.data};return function(){var s={sender:"postmsg-rpc/client",id:(0,RA.default)(),func:t,args:Array.from(arguments)},u=void 0,f=new Promise(function(h,l){var m=function w(){var M=a.apply(null,arguments);if(!!M&&!(M.sender!=="postmsg-rpc/server"||M.id!==s.id)){if(n("message",w),M.err){var x=new Error("Unexpected error calling "+t);return Object.assign(x,M.err),l(x)}h(M.res)}};u=function(){n("message",m);var M=new Error("Canceled call to "+t);M.isCanceled=!0,l(M)},r("message",m),i(s,o)});return f.cancel=function(){return u()},f}}function CA(t){return k1(t).apply(null,[].slice.call(arguments,1))}var th={};Object.defineProperty(th,"__esModule",{value:!0});th.default=LA;function LA(t,e,r){r=r||{};var n=r.addListener||window.addEventListener,i=r.removeListener||window.removeEventListener,o=r.postMessage||window.postMessage,a=r.targetOrigin||"*",s=r.getMessageData||function(h){return h.data},u=r.isCallback||!1,f=function(){var l=s.apply(null,arguments);if(!!l&&!(l.sender!=="postmsg-rpc/client"||l.func!==t)){var m={sender:"postmsg-rpc/server",id:l.id},w=function(O){m.res=O,o(m,a)},M=function(O){m.err=Object.assign({message:O.message},O.output&&O.output.payload),o(m,a)};if(u)e.apply(null,l.args.concat(function(R,O){if(R)return M(R);w(O)}));else{var x=e.apply(null,l.args);Promise.resolve(x).then(w).catch(M)}}};return n("message",f),{close:function(){return i("message",f)}}}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Du;Object.defineProperty(t,"caller",{enumerable:!0,get:function(){return n(e).default}}),Object.defineProperty(t,"call",{enumerable:!0,get:function(){return e.call}});var r=th;Object.defineProperty(t,"expose",{enumerable:!0,get:function(){return n(r).default}});function n(i){return i&&i.__esModule?i:{default:i}}})(x1);function T1(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(f){r(f);return}s.done?e(u):Promise.resolve(u).then(n,i)}function Fu(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(u){T1(o,n,i,a,s,"next",u)}function s(u){T1(o,n,i,a,s,"throw",u)}a(void 0)})}}function O1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function P1(t,e,r){return e&&O1(t.prototype,e),r&&O1(t,r),t}function DA(t,e){return e={exports:{}},t(e,e.exports),e.exports}var wi=DA(function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,o,a=typeof Symbol=="function"?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function h(p,d,c){return Object.defineProperty(p,d,{value:c,enumerable:!0,configurable:!0,writable:!0}),p[d]}try{h({},"")}catch{h=function(c,_,U){return c[_]=U}}function l(p,d,c,_){var U=d&&d.prototype instanceof j?d:j,H=Object.create(U.prototype),$=new g(_||[]);return H._invoke=C(p,c,$),H}r.wrap=l;function m(p,d,c){try{return{type:"normal",arg:p.call(d,c)}}catch(_){return{type:"throw",arg:_}}}var w="suspendedStart",M="suspendedYield",x="executing",R="completed",O={};function j(){}function q(){}function B(){}var I={};h(I,s,function(){return this});var G=Object.getPrototypeOf,v=G&&G(G(k([])));v&&v!==n&&i.call(v,s)&&(I=v);var A=B.prototype=j.prototype=Object.create(I);q.prototype=B,h(A,"constructor",B),h(B,"constructor",q),q.displayName=h(B,f,"GeneratorFunction");function D(p){["next","throw","return"].forEach(function(d){h(p,d,function(c){return this._invoke(d,c)})})}r.isGeneratorFunction=function(p){var d=typeof p=="function"&&p.constructor;return d?d===q||(d.displayName||d.name)==="GeneratorFunction":!1},r.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,B):(p.__proto__=B,h(p,f,"GeneratorFunction")),p.prototype=Object.create(A),p},r.awrap=function(p){return{__await:p}};function K(p,d){function c(H,$,T,Z){var F=m(p[H],p,$);if(F.type==="throw")Z(F.arg);else{var V=F.arg,W=V.value;return W&&typeof W=="object"&&i.call(W,"__await")?d.resolve(W.__await).then(function(E){c("next",E,T,Z)},function(E){c("throw",E,T,Z)}):d.resolve(W).then(function(E){V.value=E,T(V)},function(E){return c("throw",E,T,Z)})}}var _;function U(H,$){function T(){return new d(function(Z,F){c(H,$,Z,F)})}return _=_?_.then(T,T):T()}this._invoke=U}D(K.prototype),h(K.prototype,u,function(){return this}),r.AsyncIterator=K,r.async=function(p,d,c,_,U){U===void 0&&(U=Promise);var H=new K(l(p,d,c,_),U);return r.isGeneratorFunction(d)?H:H.next().then(function($){return $.done?$.value:H.next()})};function C(p,d,c){var _=w;return function(H,$){if(_===x)throw new Error("Generator is already running");if(_===R){if(H==="throw")throw $;return L()}for(c.method=H,c.arg=$;;){var T=c.delegate;if(T){var Z=b(T,c);if(Z){if(Z===O)continue;return Z}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(_===w)throw _=R,c.arg;c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);_=x;var F=m(p,d,c);if(F.type==="normal"){if(_=c.done?R:M,F.arg===O)continue;return{value:F.arg,done:c.done}}else F.type==="throw"&&(_=R,c.method="throw",c.arg=F.arg)}}}function b(p,d){var c=p.iterator[d.method];if(c===o){if(d.delegate=null,d.method==="throw"){if(p.iterator.return&&(d.method="return",d.arg=o,b(p,d),d.method==="throw"))return O;d.method="throw",d.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var _=m(c,p.iterator,d.arg);if(_.type==="throw")return d.method="throw",d.arg=_.arg,d.delegate=null,O;var U=_.arg;if(!U)return d.method="throw",d.arg=new TypeError("iterator result is not an object"),d.delegate=null,O;if(U.done)d[p.resultName]=U.value,d.next=p.nextLoc,d.method!=="return"&&(d.method="next",d.arg=o);else return U;return d.delegate=null,O}D(A),h(A,f,"Generator"),h(A,s,function(){return this}),h(A,"toString",function(){return"[object Generator]"});function S(p){var d={tryLoc:p[0]};1 in p&&(d.catchLoc=p[1]),2 in p&&(d.finallyLoc=p[2],d.afterLoc=p[3]),this.tryEntries.push(d)}function y(p){var d=p.completion||{};d.type="normal",delete d.arg,p.completion=d}function g(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(S,this),this.reset(!0)}r.keys=function(p){var d=[];for(var c in p)d.push(c);return d.reverse(),function _(){for(;d.length;){var U=d.pop();if(U in p)return _.value=U,_.done=!1,_}return _.done=!0,_}};function k(p){if(p){var d=p[s];if(d)return d.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var c=-1,_=function U(){for(;++c<p.length;)if(i.call(p,c))return U.value=p[c],U.done=!1,U;return U.value=o,U.done=!0,U};return _.next=_}}return{next:L}}r.values=k;function L(){return{value:o,done:!0}}return g.prototype={constructor:g,reset:function(d){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(y),!d)for(var c in this)c.charAt(0)==="t"&&i.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=o)},stop:function(){this.done=!0;var d=this.tryEntries[0],c=d.completion;if(c.type==="throw")throw c.arg;return this.rval},dispatchException:function(d){if(this.done)throw d;var c=this;function _(F,V){return $.type="throw",$.arg=d,c.next=F,V&&(c.method="next",c.arg=o),!!V}for(var U=this.tryEntries.length-1;U>=0;--U){var H=this.tryEntries[U],$=H.completion;if(H.tryLoc==="root")return _("end");if(H.tryLoc<=this.prev){var T=i.call(H,"catchLoc"),Z=i.call(H,"finallyLoc");if(T&&Z){if(this.prev<H.catchLoc)return _(H.catchLoc,!0);if(this.prev<H.finallyLoc)return _(H.finallyLoc)}else if(T){if(this.prev<H.catchLoc)return _(H.catchLoc,!0)}else if(Z){if(this.prev<H.finallyLoc)return _(H.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(d,c){for(var _=this.tryEntries.length-1;_>=0;--_){var U=this.tryEntries[_];if(U.tryLoc<=this.prev&&i.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var H=U;break}}H&&(d==="break"||d==="continue")&&H.tryLoc<=c&&c<=H.finallyLoc&&(H=null);var $=H?H.completion:{};return $.type=d,$.arg=c,H?(this.method="next",this.next=H.finallyLoc,O):this.complete($)},complete:function(d,c){if(d.type==="throw")throw d.arg;return d.type==="break"||d.type==="continue"?this.next=d.arg:d.type==="return"?(this.rval=this.arg=d.arg,this.method="return",this.next="end"):d.type==="normal"&&c&&(this.next=c),O},finish:function(d){for(var c=this.tryEntries.length-1;c>=0;--c){var _=this.tryEntries[c];if(_.finallyLoc===d)return this.complete(_.completion,_.afterLoc),y(_),O}},catch:function(d){for(var c=this.tryEntries.length-1;c>=0;--c){var _=this.tryEntries[c];if(_.tryLoc===d){var U=_.completion;if(U.type==="throw"){var H=U.arg;y(_)}return H}}throw new Error("illegal catch attempt")},delegateYield:function(d,c,_){return this.delegate={iterator:k(d),resultName:c,nextLoc:_},this.method==="next"&&(this.arg=o),O}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}),$A=function(){function t(r,n){this.provider=r,this.accountId=n}var e=t.prototype;return e.send=function(){var r=Fu(wi.mark(function i(o,a){return wi.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o.params=Object.assign({},o.params,{accountId:this.accountId}),u.next=3,this.provider.send(o,a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},i,this)}));function n(i,o){return r.apply(this,arguments)}return n}(),P1(t,[{key:"isDidProvider",get:function(){return!0}}]),t}(),UA="https://app-dev.3idconnect.org",as="https://app-clay.3idconnect.org",BA="https://app.3idconnect.org",FA="http://localhost:30001",jA="/management/index.html",R1=as,N1=as+"/management/index.html";typeof process!="undefined"&&(R1=as);typeof process!="undefined"&&(N1=as+"/management/index.html");var ju=function(e){return{connect_iframe:e,manage_iframe:""+e+jA}},rh={"dev-unstable":ju(UA),"testnet-clay":ju(as),mainnet:ju(BA),local:ju(FA)},zA=function(e){var r=x1.caller("send",{postMessage:e});return{send:function(){var n=Fu(wi.mark(function o(a){return wi.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.t0=JSON,u.next=3,r(a);case 3:return u.t1=u.sent,u.abrupt("return",u.t0.parse.call(u.t0,u.t1));case 5:case"end":return u.stop()}},o)}));function i(o){return n.apply(this,arguments)}return i}()}},qA=function(){if(typeof window=="undefined"||typeof document=="undefined")throw new Error("ThreeIdConnect not supported in this enviroment")},GA=function(){function t(r,n){var i=this;this._authProviderSubscription=null,this._connected=!1,qA();var o;r&&Object.keys(rh).includes(r)?(o=rh[r].connect_iframe,n=rh[r].manage_iframe):o=r,this.iframe=nA(o||R1),this.manageUrl=n||N1,this.iframeLoadedPromise=new Promise(function(a){i.iframe.onload=function(){a()}}),document.body.appendChild(this.iframe)}var e=t.prototype;return e.connect=function(){var r=Fu(wi.mark(function i(o){return wi.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this._authProviderSubscription&&this._authProviderSubscription.unsubscribe(),!o){s.next=4;break}return s.next=4,this.setAuthProvider(o);case 4:return s.next=6,this.iframeLoadedPromise;case 6:this.postMessage=this.iframe.contentWindow.postMessage.bind(this.iframe.contentWindow),this._authProviderSubscription=sA(o).subscribe(),rA(this.iframe).subscribe(),iA(this.manageUrl).subscribe(),this.RPCProvider=zA(this.postMessage),this.RPCClient=new $E(this.RPCProvider),this._connected=!0;case 13:case"end":return s.stop()}},i,this)}));function n(i){return r.apply(this,arguments)}return n}(),e.setAuthProvider=function(){var r=Fu(wi.mark(function i(o){return wi.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.authProvider=o,s.next=3,this.authProvider.accountId();case 3:this.accountId=s.sent.toString();case 4:case"end":return s.stop()}},i,this)}));function n(i){return r.apply(this,arguments)}return n}(),e.getDidProvider=function(){if(!this.authProvider)throw new Error("setAuthProvider required");return new $A(this.RPCProvider,this.accountId)},P1(t,[{key:"connected",get:function(){return this._connected}}]),t}(),ea={},_i={},zu={},Zt={},pr={};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */var HA=te&&te.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(pr,"__esModule",{value:!0});var WA=Object.prototype.hasOwnProperty;function nh(t,e){return WA.call(t,e)}pr.hasOwnProperty=nh;function C1(t){if(Array.isArray(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)r[e]=""+e;return r}if(Object.keys)return Object.keys(t);var r=[];for(var n in t)nh(t,n)&&r.push(n);return r}pr._objectKeys=C1;function VA(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}pr._deepClone=VA;function KA(t){for(var e=0,r=t.length,n;e<r;){if(n=t.charCodeAt(e),n>=48&&n<=57){e++;continue}return!1}return!0}pr.isInteger=KA;function ih(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}pr.escapePathComponent=ih;function JA(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}pr.unescapePathComponent=JA;function oh(t,e){var r;for(var n in t)if(nh(t,n)){if(t[n]===e)return ih(n)+"/";if(typeof t[n]=="object"&&(r=oh(t[n],e),r!=""))return ih(n)+"/"+r}return""}pr._getPathRecursive=oh;function YA(t,e){if(t===e)return"/";var r=oh(t,e);if(r==="")throw new Error("Object not found in root");return"/"+r}pr.getPath=YA;function ah(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(var e=0,r=t.length;e<r;e++)if(ah(t[e]))return!0}else if(typeof t=="object"){for(var n=C1(t),i=n.length,e=0;e<i;e++)if(ah(t[n[e]]))return!0}}return!1}pr.hasUndefined=ah;function L1(t,e){var r=[t];for(var n in e){var i=typeof e[n]=="object"?JSON.stringify(e[n],null,2):e[n];typeof i!="undefined"&&r.push(n+": "+i)}return r.join(`
`)}var XA=function(t){HA(e,t);function e(r,n,i,o,a){var s=this.constructor,u=t.call(this,L1(r,{name:n,index:i,operation:o,tree:a}))||this;return u.name=n,u.index=i,u.operation=o,u.tree=a,Object.setPrototypeOf(u,s.prototype),u.message=L1(r,{name:n,index:i,operation:o,tree:a}),u}return e}(Error);pr.PatchError=XA;var qu={},D1=Array.isArray,$1=Object.keys,ZA=Object.prototype.hasOwnProperty,QA=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){var n=D1(e),i=D1(r),o,a,s;if(n&&i){if(a=e.length,a!=r.length)return!1;for(o=a;o--!=0;)if(!t(e[o],r[o]))return!1;return!0}if(n!=i)return!1;var u=e instanceof Date,f=r instanceof Date;if(u!=f)return!1;if(u&&f)return e.getTime()==r.getTime();var h=e instanceof RegExp,l=r instanceof RegExp;if(h!=l)return!1;if(h&&l)return e.toString()==r.toString();var m=$1(e);if(a=m.length,a!==$1(r).length)return!1;for(o=a;o--!=0;)if(!ZA.call(r,m[o]))return!1;for(o=a;o--!=0;)if(s=m[o],!t(e[s],r[s]))return!1;return!0}return e!==e&&r!==r};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=QA,r=pr;t.JsonPatchError=r.PatchError,t.deepClone=r._deepClone;var n={add:function(l,m,w){return l[m]=this.value,{newDocument:w}},remove:function(l,m,w){var M=l[m];return delete l[m],{newDocument:w,removed:M}},replace:function(l,m,w){var M=l[m];return l[m]=this.value,{newDocument:w,removed:M}},move:function(l,m,w){var M=o(w,this.path);M&&(M=r._deepClone(M));var x=a(w,{op:"remove",path:this.from}).removed;return a(w,{op:"add",path:this.path,value:x}),{newDocument:w,removed:M}},copy:function(l,m,w){var M=o(w,this.from);return a(w,{op:"add",path:this.path,value:r._deepClone(M)}),{newDocument:w}},test:function(l,m,w){return{newDocument:w,test:e(l[m],this.value)}},_get:function(l,m,w){return this.value=l[m],{newDocument:w}}},i={add:function(l,m,w){return r.isInteger(m)?l.splice(m,0,this.value):l[m]=this.value,{newDocument:w,index:m}},remove:function(l,m,w){var M=l.splice(m,1);return{newDocument:w,removed:M[0]}},replace:function(l,m,w){var M=l[m];return l[m]=this.value,{newDocument:w,removed:M}},move:n.move,copy:n.copy,test:n.test,_get:n._get};function o(l,m){if(m=="")return l;var w={op:"_get",path:m};return a(l,w),w.value}t.getValueByPointer=o;function a(l,m,w,M,x,R){if(w===void 0&&(w=!1),M===void 0&&(M=!0),x===void 0&&(x=!0),R===void 0&&(R=0),w&&(typeof w=="function"?w(m,0,l,m.path):f(m,0)),m.path===""){var O={newDocument:l};if(m.op==="add")return O.newDocument=m.value,O;if(m.op==="replace")return O.newDocument=m.value,O.removed=l,O;if(m.op==="move"||m.op==="copy")return O.newDocument=o(l,m.from),m.op==="move"&&(O.removed=l),O;if(m.op==="test"){if(O.test=e(l,m.value),O.test===!1)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",R,m,l);return O.newDocument=l,O}else{if(m.op==="remove")return O.removed=l,O.newDocument=null,O;if(m.op==="_get")return m.value=l,O;if(w)throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",R,m,l);return O}}else{M||(l=r._deepClone(l));var j=m.path||"",q=j.split("/"),B=l,I=1,G=q.length,v=void 0,A=void 0,D=void 0;for(typeof w=="function"?D=w:D=f;;){if(A=q[I],x&&A=="__proto__")throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(w&&v===void 0&&(B[A]===void 0?v=q.slice(0,I).join("/"):I==G-1&&(v=m.path),v!==void 0&&D(m,0,l,v)),I++,Array.isArray(B)){if(A==="-")A=B.length;else{if(w&&!r.isInteger(A))throw new t.JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",R,m,l);r.isInteger(A)&&(A=~~A)}if(I>=G){if(w&&m.op==="add"&&A>B.length)throw new t.JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",R,m,l);var O=i[m.op].call(m,B,A,l);if(O.test===!1)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",R,m,l);return O}}else if(A&&A.indexOf("~")!=-1&&(A=r.unescapePathComponent(A)),I>=G){var O=n[m.op].call(m,B,A,l);if(O.test===!1)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",R,m,l);return O}B=B[A]}}}t.applyOperation=a;function s(l,m,w,M,x){if(M===void 0&&(M=!0),x===void 0&&(x=!0),w&&!Array.isArray(m))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");M||(l=r._deepClone(l));for(var R=new Array(m.length),O=0,j=m.length;O<j;O++)R[O]=a(l,m[O],w,!0,x,O),l=R[O].newDocument;return R.newDocument=l,R}t.applyPatch=s;function u(l,m,w){var M=a(l,m);if(M.test===!1)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",w,m,l);return M.newDocument}t.applyReducer=u;function f(l,m,w,M){if(typeof l!="object"||l===null||Array.isArray(l))throw new t.JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",m,l,w);if(n[l.op]){if(typeof l.path!="string")throw new t.JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",m,l,w);if(l.path.indexOf("/")!==0&&l.path.length>0)throw new t.JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",m,l,w);if((l.op==="move"||l.op==="copy")&&typeof l.from!="string")throw new t.JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",m,l,w);if((l.op==="add"||l.op==="replace"||l.op==="test")&&l.value===void 0)throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",m,l,w);if((l.op==="add"||l.op==="replace"||l.op==="test")&&r.hasUndefined(l.value))throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",m,l,w);if(w){if(l.op=="add"){var x=l.path.split("/").length,R=M.split("/").length;if(x!==R+1&&x!==R)throw new t.JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",m,l,w)}else if(l.op==="replace"||l.op==="remove"||l.op==="_get"){if(l.path!==M)throw new t.JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",m,l,w)}else if(l.op==="move"||l.op==="copy"){var O={op:"_get",path:l.from,value:void 0},j=h([O],w);if(j&&j.name==="OPERATION_PATH_UNRESOLVABLE")throw new t.JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",m,l,w)}}}else throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",m,l,w)}t.validator=f;function h(l,m,w){try{if(!Array.isArray(l))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(m)s(r._deepClone(m),r._deepClone(l),w||!0);else{w=w||f;for(var M=0;M<l.length;M++)w(l[M],M,m,void 0)}}catch(x){if(x instanceof t.JsonPatchError)return x;throw x}}t.validate=h,t.default={JsonPatchError:t.JsonPatchError,deepClone:t.deepClone,getValueByPointer:o,applyOperation:a,applyPatch:s,applyReducer:u,validator:f,validate:h}})(qu);var sh=te&&te.__assign||function(){return sh=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sh.apply(this,arguments)};Object.defineProperty(Zt,"__esModule",{value:!0});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */var Qt=pr,eI=qu,ta=qu;Zt.applyOperation=ta.applyOperation;Zt.applyPatch=ta.applyPatch;Zt.applyReducer=ta.applyReducer;Zt.getValueByPointer=ta.getValueByPointer;Zt.validate=ta.validate;Zt.validator=ta.validator;var Gu=pr;Zt.JsonPatchError=Gu.PatchError;Zt.deepClone=Gu._deepClone;Zt.escapePathComponent=Gu.escapePathComponent;Zt.unescapePathComponent=Gu.unescapePathComponent;var uh=new WeakMap,tI=function(){function t(e){this.observers=new Map,this.obj=e}return t}(),rI=function(){function t(e,r){this.callback=e,this.observer=r}return t}();function nI(t){return uh.get(t)}function iI(t,e){return t.observers.get(e)}function oI(t,e){t.observers.delete(e.callback)}function U1(t,e){e.unobserve()}Zt.unobserve=U1;function B1(t,e){var r=[],n,i=nI(t);if(!i)i=new tI(t),uh.set(t,i);else{var o=iI(i,e);n=o&&o.observer}if(n)return n;if(n={},i.value=Qt._deepClone(t),e){n.callback=e,n.next=null;var a=function(){Hu(n)},s=function(){clearTimeout(n.next),n.next=setTimeout(a)};typeof window!="undefined"&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return n.patches=r,n.object=t,n.unobserve=function(){Hu(n),clearTimeout(n.next),oI(i,n),typeof window!="undefined"&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},i.observers.set(e,new rI(e,n)),n}Zt.observe=B1;function Hu(t,e){e===void 0&&(e=!1);var r=uh.get(t.object);fh(r.value,t.object,t.patches,"",e),t.patches.length&&eI.applyPatch(r.value,t.patches);var n=t.patches;return n.length>0&&(t.patches=[],t.callback&&t.callback(n)),n}Zt.generate=Hu;function fh(t,e,r,n,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var o=Qt._objectKeys(e),a=Qt._objectKeys(t),s=!1,u=a.length-1;u>=0;u--){var f=a[u],h=t[f];if(Qt.hasOwnProperty(e,f)&&!(e[f]===void 0&&h!==void 0&&Array.isArray(e)===!1)){var l=e[f];typeof h=="object"&&h!=null&&typeof l=="object"&&l!=null?fh(h,l,r,n+"/"+Qt.escapePathComponent(f),i):h!==l&&(i&&r.push({op:"test",path:n+"/"+Qt.escapePathComponent(f),value:Qt._deepClone(h)}),r.push({op:"replace",path:n+"/"+Qt.escapePathComponent(f),value:Qt._deepClone(l)}))}else Array.isArray(t)===Array.isArray(e)?(i&&r.push({op:"test",path:n+"/"+Qt.escapePathComponent(f),value:Qt._deepClone(h)}),r.push({op:"remove",path:n+"/"+Qt.escapePathComponent(f)}),s=!0):(i&&r.push({op:"test",path:n,value:t}),r.push({op:"replace",path:n,value:e}))}if(!(!s&&o.length==a.length))for(var u=0;u<o.length;u++){var f=o[u];!Qt.hasOwnProperty(t,f)&&e[f]!==void 0&&r.push({op:"add",path:n+"/"+Qt.escapePathComponent(f),value:Qt._deepClone(e[f])})}}}function F1(t,e,r){r===void 0&&(r=!1);var n=[];return fh(t,e,n,"",r),n}Zt.compare=F1;var aI=qu,j1=pr;Zt.default=sh({},aI,{unobserve:U1,observe:B1,generate:Hu,compare:F1,JsonPatchError:j1.PatchError,deepClone:Qt._deepClone,escapePathComponent:Qt.escapePathComponent,unescapePathComponent:j1.unescapePathComponent});var xi={},ch={},lh={};Object.defineProperty(lh,"__esModule",{value:!0});var z1=65536,sI=function(){function t(){this.isAvailable=!1,this.isInstantiated=!1;var e=typeof self!="undefined"?self.crypto||self.msCrypto:null;e&&e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return t.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");for(var r=new Uint8Array(e),n=0;n<r.length;n+=z1)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,z1)));return r},t}();lh.BrowserRandomSource=sI;var hh={},uI={},fI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uI}),cI=Et(fI);Object.defineProperty(hh,"__esModule",{value:!0});var lI=Nr,hI=function(){function t(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof v5!="undefined"){var e=cI;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}return t.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");var r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");for(var n=new Uint8Array(e),i=0;i<n.length;i++)n[i]=r[i];return lI.wipe(r),n},t}();hh.NodeRandomSource=hI;Object.defineProperty(ch,"__esModule",{value:!0});var dI=lh,vI=hh,pI=function(){function t(){if(this.isAvailable=!1,this.name="",this._source=new dI.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new vI.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}return t.prototype.randomBytes=function(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)},t}();ch.SystemRandomSource=pI;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ch,r=Fe,n=Nr;t.defaultRandomSource=new e.SystemRandomSource;function i(f,h){return h===void 0&&(h=t.defaultRandomSource),h.randomBytes(f)}t.randomBytes=i;function o(f){f===void 0&&(f=t.defaultRandomSource);var h=i(4,f),l=r.readUint32LE(h);return n.wipe(h),l}t.randomUint32=o;var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function s(f,h,l){if(h===void 0&&(h=a),l===void 0&&(l=t.defaultRandomSource),h.length<2)throw new Error("randomString charset is too short");if(h.length>256)throw new Error("randomString charset is too long");for(var m="",w=h.length,M=256-256%w;f>0;){for(var x=i(Math.ceil(f*256/M),l),R=0;R<x.length&&f>0;R++){var O=x[R];O<M&&(m+=h.charAt(O%w),f--)}n.wipe(x)}return m}t.randomString=s;function u(f,h,l){h===void 0&&(h=a),l===void 0&&(l=t.defaultRandomSource);var m=Math.ceil(f/(Math.log(h.length)/Math.LN2));return s(m,h,l)}t.randomStringForEntropy=u})(xi);var Qi={},q1={};Object.defineProperty(q1,"__esModule",{value:!0});var G1={};Object.defineProperty(G1,"__esModule",{value:!0});var H1={};Object.defineProperty(H1,"__esModule",{value:!0});var dh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SyncOptions=void 0,function(e){e[e.PREFER_CACHE=0]="PREFER_CACHE",e[e.SYNC_ALWAYS=1]="SYNC_ALWAYS",e[e.NEVER_SYNC=2]="NEVER_SYNC"}(t.SyncOptions||(t.SyncOptions={}))})(dh);var vh={},Wu={exports:{}};(function(t,e){var r=200,n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Function]",l="[object GeneratorFunction]",m="[object Map]",w="[object Number]",M="[object Object]",x="[object Promise]",R="[object RegExp]",O="[object Set]",j="[object String]",q="[object Symbol]",B="[object WeakMap]",I="[object ArrayBuffer]",G="[object DataView]",v="[object Float32Array]",A="[object Float64Array]",D="[object Int8Array]",K="[object Int16Array]",C="[object Int32Array]",b="[object Uint8Array]",S="[object Uint8ClampedArray]",y="[object Uint16Array]",g="[object Uint32Array]",k=/[\\^$.*+?()[\]{}|]/g,L=/\w*$/,p=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,c={};c[o]=c[a]=c[I]=c[G]=c[s]=c[u]=c[v]=c[A]=c[D]=c[K]=c[C]=c[m]=c[w]=c[M]=c[R]=c[O]=c[j]=c[q]=c[b]=c[S]=c[y]=c[g]=!0,c[f]=c[h]=c[B]=!1;var _=typeof te=="object"&&te&&te.Object===Object&&te,U=typeof self=="object"&&self&&self.Object===Object&&self,H=_||U||Function("return this")(),$=e&&!e.nodeType&&e,T=$&&!0&&t&&!t.nodeType&&t,Z=T&&T.exports===$;function F(X,oe){return X.set(oe[0],oe[1]),X}function V(X,oe){return X.add(oe),X}function W(X,oe){for(var fe=-1,Ee=X?X.length:0;++fe<Ee&&oe(X[fe],fe,X)!==!1;);return X}function E(X,oe){for(var fe=-1,Ee=oe.length,Bt=X.length;++fe<Ee;)X[Bt+fe]=oe[fe];return X}function J(X,oe,fe,Ee){var Bt=-1,vr=X?X.length:0;for(Ee&&vr&&(fe=X[++Bt]);++Bt<vr;)fe=oe(fe,X[Bt],Bt,X);return fe}function ne(X,oe){for(var fe=-1,Ee=Array(X);++fe<X;)Ee[fe]=oe(fe);return Ee}function ae(X,oe){return X==null?void 0:X[oe]}function ue(X){var oe=!1;if(X!=null&&typeof X.toString!="function")try{oe=!!(X+"")}catch{}return oe}function he(X){var oe=-1,fe=Array(X.size);return X.forEach(function(Ee,Bt){fe[++oe]=[Bt,Ee]}),fe}function z(X,oe){return function(fe){return X(oe(fe))}}function P(X){var oe=-1,fe=Array(X.size);return X.forEach(function(Ee){fe[++oe]=Ee}),fe}var N=Array.prototype,Y=Function.prototype,ee=Object.prototype,re=H["__core-js_shared__"],ie=function(){var X=/[^.]+$/.exec(re&&re.keys&&re.keys.IE_PROTO||"");return X?"Symbol(src)_1."+X:""}(),de=Y.toString,ce=ee.hasOwnProperty,le=ee.toString,_e=RegExp("^"+de.call(ce).replace(k,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),se=Z?H.Buffer:void 0,we=H.Symbol,Oe=H.Uint8Array,Se=z(Object.getPrototypeOf,Object),Ae=Object.create,We=ee.propertyIsEnumerable,me=N.splice,Me=Object.getOwnPropertySymbols,Ye=se?se.isBuffer:void 0,Xe=z(Object.keys,Object),Je=$o(H,"DataView"),St=$o(H,"Map"),Ie=$o(H,"Promise"),et=$o(H,"Set"),Vt=$o(H,"WeakMap"),tt=$o(Object,"create"),Pe=qi(Je),dt=qi(St),ke=qi(Ie),$e=qi(et),gt=qi(Vt),Re=we?we.prototype:void 0,Ne=Re?Re.valueOf:void 0;function Te(X){var oe=-1,fe=X?X.length:0;for(this.clear();++oe<fe;){var Ee=X[oe];this.set(Ee[0],Ee[1])}}function Ue(){this.__data__=tt?tt(null):{}}function Be(X){return this.has(X)&&delete this.__data__[X]}function wt(X){var oe=this.__data__;if(tt){var fe=oe[X];return fe===n?void 0:fe}return ce.call(oe,X)?oe[X]:void 0}function Ce(X){var oe=this.__data__;return tt?oe[X]!==void 0:ce.call(oe,X)}function Le(X,oe){var fe=this.__data__;return fe[X]=tt&&oe===void 0?n:oe,this}Te.prototype.clear=Ue,Te.prototype.delete=Be,Te.prototype.get=wt,Te.prototype.has=Ce,Te.prototype.set=Le;function rt(X){var oe=-1,fe=X?X.length:0;for(this.clear();++oe<fe;){var Ee=X[oe];this.set(Ee[0],Ee[1])}}function De(){this.__data__=[]}function xe(X){var oe=this.__data__,fe=Yn(oe,X);if(fe<0)return!1;var Ee=oe.length-1;return fe==Ee?oe.pop():me.call(oe,fe,1),!0}function cn(X){var oe=this.__data__,fe=Yn(oe,X);return fe<0?void 0:oe[fe][1]}function lt(X){return Yn(this.__data__,X)>-1}function ht(X,oe){var fe=this.__data__,Ee=Yn(fe,X);return Ee<0?fe.push([X,oe]):fe[Ee][1]=oe,this}rt.prototype.clear=De,rt.prototype.delete=xe,rt.prototype.get=cn,rt.prototype.has=lt,rt.prototype.set=ht;function Kt(X){var oe=-1,fe=X?X.length:0;for(this.clear();++oe<fe;){var Ee=X[oe];this.set(Ee[0],Ee[1])}}function Br(){this.__data__={hash:new Te,map:new(St||rt),string:new Te}}function Fr(X){return uu(this,X).delete(X)}function jr(X){return uu(this,X).get(X)}function zr(X){return uu(this,X).has(X)}function Ze(X,oe){return uu(this,X).set(X,oe),this}Kt.prototype.clear=Br,Kt.prototype.delete=Fr,Kt.prototype.get=jr,Kt.prototype.has=zr,Kt.prototype.set=Ze;function Jt(X){this.__data__=new rt(X)}function Fi(){this.__data__=new rt}function Q(X){return this.__data__.delete(X)}function Ve(X){return this.__data__.get(X)}function Ke(X){return this.__data__.has(X)}function Ge(X,oe){var fe=this.__data__;if(fe instanceof rt){var Ee=fe.__data__;if(!St||Ee.length<r-1)return Ee.push([X,oe]),this;fe=this.__data__=new Kt(Ee)}return fe.set(X,oe),this}Jt.prototype.clear=Fi,Jt.prototype.delete=Q,Jt.prototype.get=Ve,Jt.prototype.has=Ke,Jt.prototype.set=Ge;function En(X,oe){var fe=rl(X)||R6(X)?ne(X.length,String):[],Ee=fe.length,Bt=!!Ee;for(var vr in X)(oe||ce.call(X,vr))&&!(Bt&&(vr=="length"||k6(vr,Ee)))&&fe.push(vr);return fe}function qr(X,oe,fe){var Ee=X[oe];(!(ce.call(X,oe)&&Bv(Ee,fe))||fe===void 0&&!(oe in X))&&(X[oe]=fe)}function Yn(X,oe){for(var fe=X.length;fe--;)if(Bv(X[fe][0],oe))return fe;return-1}function Ga(X,oe){return X&&Dv(oe,nl(oe),X)}function ji(X,oe,fe,Ee,Bt,vr,Gr){var wr;if(Ee&&(wr=vr?Ee(X,Bt,vr,Gr):Ee(X)),wr!==void 0)return wr;if(!fu(X))return X;var zv=rl(X);if(zv){if(wr=A6(X),!oe)return x6(X,wr)}else{var Uo=zi(X),qv=Uo==h||Uo==l;if(C6(X))return p6(X,oe);if(Uo==M||Uo==o||qv&&!vr){if(ue(X))return vr?X:{};if(wr=I6(qv?{}:X),!oe)return S6(X,Ga(wr,X))}else{if(!c[Uo])return vr?X:{};wr=M6(X,Uo,ji,oe)}}Gr||(Gr=new Jt);var Gv=Gr.get(X);if(Gv)return Gv;if(Gr.set(X,wr),!zv)var Hv=fe?E6(X):nl(X);return W(Hv||X,function(il,cu){Hv&&(cu=il,il=X[cu]),qr(wr,cu,ji(il,oe,fe,Ee,cu,X,Gr))}),wr}function Ha(X){return fu(X)?Ae(X):{}}function Wa(X,oe,fe){var Ee=oe(X);return rl(X)?Ee:E(Ee,fe(X))}function h6(X){return le.call(X)}function d6(X){if(!fu(X)||O6(X))return!1;var oe=jv(X)||ue(X)?_e:p;return oe.test(qi(X))}function v6(X){if(!Uv(X))return Xe(X);var oe=[];for(var fe in Object(X))ce.call(X,fe)&&fe!="constructor"&&oe.push(fe);return oe}function p6(X,oe){if(oe)return X.slice();var fe=new X.constructor(X.length);return X.copy(fe),fe}function tl(X){var oe=new X.constructor(X.byteLength);return new Oe(oe).set(new Oe(X)),oe}function m6(X,oe){var fe=oe?tl(X.buffer):X.buffer;return new X.constructor(fe,X.byteOffset,X.byteLength)}function b6(X,oe,fe){var Ee=oe?fe(he(X),!0):he(X);return J(Ee,F,new X.constructor)}function y6(X){var oe=new X.constructor(X.source,L.exec(X));return oe.lastIndex=X.lastIndex,oe}function g6(X,oe,fe){var Ee=oe?fe(P(X),!0):P(X);return J(Ee,V,new X.constructor)}function w6(X){return Ne?Object(Ne.call(X)):{}}function _6(X,oe){var fe=oe?tl(X.buffer):X.buffer;return new X.constructor(fe,X.byteOffset,X.length)}function x6(X,oe){var fe=-1,Ee=X.length;for(oe||(oe=Array(Ee));++fe<Ee;)oe[fe]=X[fe];return oe}function Dv(X,oe,fe,Ee){fe||(fe={});for(var Bt=-1,vr=oe.length;++Bt<vr;){var Gr=oe[Bt],wr=Ee?Ee(fe[Gr],X[Gr],Gr,fe,X):void 0;qr(fe,Gr,wr===void 0?X[Gr]:wr)}return fe}function S6(X,oe){return Dv(X,$v(X),oe)}function E6(X){return Wa(X,nl,$v)}function uu(X,oe){var fe=X.__data__;return T6(oe)?fe[typeof oe=="string"?"string":"hash"]:fe.map}function $o(X,oe){var fe=ae(X,oe);return d6(fe)?fe:void 0}var $v=Me?z(Me,Object):$6,zi=h6;(Je&&zi(new Je(new ArrayBuffer(1)))!=G||St&&zi(new St)!=m||Ie&&zi(Ie.resolve())!=x||et&&zi(new et)!=O||Vt&&zi(new Vt)!=B)&&(zi=function(X){var oe=le.call(X),fe=oe==M?X.constructor:void 0,Ee=fe?qi(fe):void 0;if(Ee)switch(Ee){case Pe:return G;case dt:return m;case ke:return x;case $e:return O;case gt:return B}return oe});function A6(X){var oe=X.length,fe=X.constructor(oe);return oe&&typeof X[0]=="string"&&ce.call(X,"index")&&(fe.index=X.index,fe.input=X.input),fe}function I6(X){return typeof X.constructor=="function"&&!Uv(X)?Ha(Se(X)):{}}function M6(X,oe,fe,Ee){var Bt=X.constructor;switch(oe){case I:return tl(X);case s:case u:return new Bt(+X);case G:return m6(X,Ee);case v:case A:case D:case K:case C:case b:case S:case y:case g:return _6(X,Ee);case m:return b6(X,Ee,fe);case w:case j:return new Bt(X);case R:return y6(X);case O:return g6(X,Ee,fe);case q:return w6(X)}}function k6(X,oe){return oe=oe==null?i:oe,!!oe&&(typeof X=="number"||d.test(X))&&X>-1&&X%1==0&&X<oe}function T6(X){var oe=typeof X;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?X!=="__proto__":X===null}function O6(X){return!!ie&&ie in X}function Uv(X){var oe=X&&X.constructor,fe=typeof oe=="function"&&oe.prototype||ee;return X===fe}function qi(X){if(X!=null){try{return de.call(X)}catch{}try{return X+""}catch{}}return""}function P6(X){return ji(X,!0,!0)}function Bv(X,oe){return X===oe||X!==X&&oe!==oe}function R6(X){return N6(X)&&ce.call(X,"callee")&&(!We.call(X,"callee")||le.call(X)==o)}var rl=Array.isArray;function Fv(X){return X!=null&&L6(X.length)&&!jv(X)}function N6(X){return D6(X)&&Fv(X)}var C6=Ye||U6;function jv(X){var oe=fu(X)?le.call(X):"";return oe==h||oe==l}function L6(X){return typeof X=="number"&&X>-1&&X%1==0&&X<=i}function fu(X){var oe=typeof X;return!!X&&(oe=="object"||oe=="function")}function D6(X){return!!X&&typeof X=="object"}function nl(X){return Fv(X)?En(X):v6(X)}function $6(){return[]}function U6(){return!1}t.exports=P6})(Wu,Wu.exports);var Mn={},eo={},to={exports:{}};function mI(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var a=t.length,s=t.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var M=0,x=0,R=0,O=w.length;R!==O&&w[R]===0;)R++,M++;for(var j=(O-R)*f+1>>>0,q=new Uint8Array(j);R!==O;){for(var B=w[R],I=0,G=j-1;(B!==0||I<x)&&G!==-1;G--,I++)B+=256*q[G]>>>0,q[G]=B%a>>>0,B=B/a>>>0;if(B!==0)throw new Error("Non-zero carry");x=I,R++}for(var v=j-x;v!==j&&q[v]===0;)v++;for(var A=s.repeat(M);v<j;++v)A+=t.charAt(q[v]);return A}function l(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var M=0;if(w[M]!==" "){for(var x=0,R=0;w[M]===s;)x++,M++;for(var O=(w.length-M)*u+1>>>0,j=new Uint8Array(O);w[M];){var q=e[w.charCodeAt(M)];if(q===255)return;for(var B=0,I=O-1;(q!==0||B<R)&&I!==-1;I--,B++)q+=a*j[I]>>>0,j[I]=q%256>>>0,q=q/256>>>0;if(q!==0)throw new Error("Non-zero carry");R=B,M++}if(w[M]!==" "){for(var G=O-R;G!==O&&j[G]===0;)G++;for(var v=new Uint8Array(x+(O-G)),A=x;G!==O;)v[A++]=j[G++];return v}}}function m(w){var M=l(w);if(M)return M;throw new Error("Non-base"+a+" character")}return{encode:h,decodeUnsafe:l,decode:m}}var bI=mI;const yI=new TextDecoder,gI=t=>yI.decode(t),wI=new TextEncoder,_I=t=>wI.encode(t);function xI(t,e){const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}var ph={decodeText:gI,encodeText:_I,concat:xI};const{encodeText:SI}=ph;class EI{constructor(e,r,n,i){this.name=e,this.code=r,this.codeBuf=SI(this.code),this.alphabet=i,this.codec=n(i)}encode(e){return this.codec.encode(e)}decode(e){for(const r of e)if(this.alphabet&&this.alphabet.indexOf(r)<0)throw new Error(`invalid character '${r}' in '${e}'`);return this.codec.decode(e)}}var AI=EI;const II=(t,e,r)=>{const n={};for(let f=0;f<e.length;++f)n[e[f]]=f;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let a=0,s=0,u=0;for(let f=0;f<i;++f){const h=n[t[f]];if(h===void 0)throw new SyntaxError("Invalid character "+t[f]);s=s<<r|h,a+=r,a>=8&&(a-=8,o[u++]=255&s>>a)}if(a>=r||255&s<<8-a)throw new SyntaxError("Unexpected end of data");return o},MI=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let o="",a=0,s=0;for(let u=0;u<t.length;++u)for(s=s<<8|t[u],a+=8;a>r;)a-=r,o+=e[i&s>>a];if(a&&(o+=e[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},kI=t=>e=>({encode(r){return MI(r,e,t)},decode(r){return II(r,e,t)}});var TI={rfc4648:kI};const ss=bI,OI=AI,{rfc4648:er}=TI,{decodeText:PI,encodeText:RI}=ph,NI=()=>({encode:PI,decode:RI}),W1=[["identity","\0",NI,""],["base2","0",er(1),"01"],["base8","7",er(3),"01234567"],["base10","9",ss,"0123456789"],["base16","f",er(4),"0123456789abcdef"],["base16upper","F",er(4),"0123456789ABCDEF"],["base32hex","v",er(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",er(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",er(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",er(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",er(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",er(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",er(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",er(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",er(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",ss,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",ss,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",ss,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",ss,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",er(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",er(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",er(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",er(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],V1=W1.reduce((t,e)=>(t[e[0]]=new OI(e[0],e[1],e[2],e[3]),t),{}),CI=W1.reduce((t,e)=>(t[e[1]]=V1[e[0]],t),{});var LI={names:V1,codes:CI};(function(t,e){const r=LI,{encodeText:n,decodeText:i,concat:o}=ph;function a(x,R){if(!R)throw new Error("requires an encoded Uint8Array");const{name:O,codeBuf:j}=l(x);return h(O,R),o([j,R],j.length+R.length)}function s(x,R){const O=l(x),j=n(O.encode(R));return o([O.codeBuf,j],O.codeBuf.length+j.length)}function u(x){x instanceof Uint8Array&&(x=i(x));const R=x[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(R)&&(x=x.toLowerCase()),l(x[0]).decode(x.substring(1))}function f(x){if(x instanceof Uint8Array&&(x=i(x)),Object.prototype.toString.call(x)!=="[object String]")return!1;try{return l(x[0]).name}catch{return!1}}function h(x,R){l(x).decode(i(R))}function l(x){if(Object.prototype.hasOwnProperty.call(r.names,x))return r.names[x];if(Object.prototype.hasOwnProperty.call(r.codes,x))return r.codes[x];throw new Error(`Unsupported encoding: ${x}`)}function m(x){return x instanceof Uint8Array&&(x=i(x)),l(x[0])}e=t.exports=a,e.encode=s,e.decode=u,e.isEncoded=f,e.encoding=l,e.encodingFromData=m;const w=Object.freeze(r.names),M=Object.freeze(r.codes);e.names=w,e.codes=M})(to,to.exports);var DI=J1,K1=128,$I=127,UI=~$I,BI=Math.pow(2,31);function J1(t,e,r){e=e||[],r=r||0;for(var n=r;t>=BI;)e[r++]=t&255|K1,t/=128;for(;t&UI;)e[r++]=t&255|K1,t>>>=7;return e[r]=t|0,J1.bytes=r-n+1,e}var FI=mh,jI=128,Y1=127;function mh(t,e){var r=0,e=e||0,n=0,i=e,o,a=t.length;do{if(i>=a)throw mh.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=n<28?(o&Y1)<<n:(o&Y1)*Math.pow(2,n),n+=7}while(o>=jI);return mh.bytes=i-e,r}var zI=Math.pow(2,7),qI=Math.pow(2,14),GI=Math.pow(2,21),HI=Math.pow(2,28),WI=Math.pow(2,35),VI=Math.pow(2,42),KI=Math.pow(2,49),JI=Math.pow(2,56),YI=Math.pow(2,63),XI=function(t){return t<zI?1:t<qI?2:t<GI?3:t<HI?4:t<WI?5:t<VI?6:t<KI?7:t<JI?8:t<YI?9:10},ZI={encode:DI,decode:FI,encodingLength:XI};const QI=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});var eM={names:QI};function X1(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Z1=X1("utf8","u",t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),bh=X1("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Q1=be({utf8:Z1,"utf-8":Z1,hex:Jr.base16,latin1:bh,ascii:bh,binary:bh},Jr);function tM(t,e="utf8"){const r=Q1[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var rM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",toString:tM}),nM=Et(rM);function iM(t,e="utf8"){const r=Q1[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var oM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",fromString:iM}),aM=Et(oM);function sM(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}var uM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",concat:sM}),fM=Et(uM);const em=to.exports,ra=ZI,{names:us}=eM,{toString:Vu}=nM,{fromString:cM}=aM,{concat:lM}=fM,na={};for(const t in us){const e=t;na[us[e]]=e}Object.freeze(na);function hM(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return Vu(t,"base16")}function dM(t){return cM(t,"base16")}function vM(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return Vu(em.encode("base58btc",t)).slice(1)}function pM(t){const e=t instanceof Uint8Array?Vu(t):t;return em.decode("z"+e)}function tm(t){if(!(t instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(t.length<2)throw new Error("multihash too short. must be > 2 bytes.");const e=ra.decode(t);if(!nm(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);t=t.slice(ra.decode.bytes);const r=ra.decode(t);if(r<0)throw new Error(`multihash invalid length: ${r}`);if(t=t.slice(ra.decode.bytes),t.length!==r)throw new Error(`multihash length inconsistent: 0x${Vu(t,"base16")}`);return{code:e,name:na[e],length:r,digest:t}}function mM(t,e,r){if(!t||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");const n=rm(e);if(!(t instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(r==null&&(r=t.length),r&&t.length!==r)throw new Error("digest length should be equal to specified length.");const i=ra.encode(n),o=ra.encode(r);return lM([i,o,t],i.length+o.length+t.length)}function rm(t){let e=t;if(typeof t=="string"){if(us[t]===void 0)throw new Error(`Unrecognized hash function named: ${t}`);e=us[t]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(na[e]===void 0&&!yh(e))throw new Error(`Unrecognized function code: ${e}`);return e}function yh(t){return t>0&&t<16}function nm(t){return!!(yh(t)||na[t])}function im(t){tm(t)}function bM(t){return im(t),t.subarray(0,2)}var fs={names:us,codes:na,toHexString:hM,fromHexString:dM,toB58String:vM,fromB58String:pM,decode:tm,encode:mM,coerceCode:rm,isAppCode:yh,validate:im,prefix:bM,isValidCode:nm},yM=gh,om=128,gM=127,wM=~gM,_M=Math.pow(2,31);function gh(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw gh.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var n=r;t>=_M;)e[r++]=t&255|om,t/=128;for(;t&wM;)e[r++]=t&255|om,t>>>=7;return e[r]=t|0,gh.bytes=r-n+1,e}var xM=wh,SM=128,am=127;function wh(t,e){var r=0,e=e||0,n=0,i=e,o,a=t.length;do{if(i>=a||n>49)throw wh.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=n<28?(o&am)<<n:(o&am)*Math.pow(2,n),n+=7}while(o>=SM);return wh.bytes=i-e,r}var EM=Math.pow(2,7),AM=Math.pow(2,14),IM=Math.pow(2,21),MM=Math.pow(2,28),kM=Math.pow(2,35),TM=Math.pow(2,42),OM=Math.pow(2,49),PM=Math.pow(2,56),RM=Math.pow(2,63),NM=function(t){return t<EM?1:t<AM?2:t<IM?3:t<MM?4:t<kM?5:t<TM?6:t<OM?7:t<PM?8:t<RM?9:10},ro={encode:yM,decode:xM,encodingLength:NM};function CM(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}var LM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",concat:CM}),DM=Et(LM);function sm(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const um=sm("utf8","u",t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),_h=sm("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),fm=be({utf8:um,"utf-8":um,hex:Jr.base16,latin1:_h,ascii:_h,binary:_h},Jr);function $M(t,e="utf8"){const r=fm[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var UM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",toString:$M}),BM=Et(UM);function FM(t,e="utf8"){const r=fm[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var jM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",fromString:FM}),zM=Et(jM);const cm=ro,{toString:qM}=BM,{fromString:GM}=zM;var lm={numberToUint8Array:HM,uint8ArrayToNumber:hm,varintUint8ArrayEncode:WM,varintEncode:VM};function hm(t){return parseInt(qM(t,"base16"),16)}function HM(t){let e=t.toString(16);return e.length%2==1&&(e="0"+e),GM(e,"base16")}function WM(t){return Uint8Array.from(cm.encode(hm(t)))}function VM(t){return Uint8Array.from(cm.encode(t))}const KM=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"eth-receipt-log-trie":153,"eth-reciept-log":154,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,"caip-50":202,streamid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,noise:454,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,"swhid-1-snp":496,json:512,messagepack:513,"libp2p-peer-record":769,"libp2p-relay-rsvp":770,"car-index-sorted":1024,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,"secp256k1-priv":4865,"x25519-priv":4866,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056,"arweave-ns":11704592});var JM={baseTable:KM};const{baseTable:xh}=JM,YM=lm.varintEncode,Sh={},Eh={},Ku={};for(const t in xh){const e=t,r=xh[e];Sh[e]=YM(r);const n=e.toUpperCase().replace(/-/g,"_");Eh[n]=r,Ku[r]||(Ku[r]=e)}Object.freeze(Sh);Object.freeze(Eh);Object.freeze(Ku);const XM=Object.freeze(xh);var ZM={nameToVarint:Sh,constantToCode:Eh,nameToCode:XM,codeToName:Ku};const Ju=ro,{concat:QM}=DM,dm=lm,{nameToVarint:Yu,constantToCode:ek,nameToCode:vm,codeToName:Ah}=ZM;function tk(t,e){let r;if(t instanceof Uint8Array)r=dm.varintUint8ArrayEncode(t);else if(Yu[t])r=Yu[t];else throw new Error("multicodec not recognized");return QM([r,e],r.length+e.length)}function rk(t){return Ju.decode(t),t.slice(Ju.decode.bytes)}function pm(t){const e=Ju.decode(t),r=Ah[e];if(r===void 0)throw new Error(`Code "${e}" not found`);return r}function mm(t){return Ah[t]}function bm(t){const e=vm[t];if(e===void 0)throw new Error(`Codec "${t}" not found`);return e}function ym(t){return Ju.decode(t)}function gm(t){const e=Yu[t];if(e===void 0)throw new Error(`Codec "${t}" not found`);return e}function wm(t){return dm.varintEncode(t)}function nk(t){return pm(t)}function ik(t){return mm(t)}function ok(t){return bm(t)}function ak(t){return ym(t)}function sk(t){return gm(t)}function uk(t){return Array.from(wm(t))}var _m=or(be({addPrefix:tk,rmPrefix:rk,getNameFromData:pm,getNameFromCode:mm,getCodeFromName:bm,getCodeFromData:ym,getVarintFromName:gm,getVarintFromCode:wm,getCodec:nk,getName:ik,getNumber:ok,getCode:ak,getCodeVarint:sk,getVarint:uk},ek),{nameToVarint:Yu,nameToCode:vm,codeToName:Ah});const fk=fs,ck={checkCIDComponents:function(t){if(t==null)return"null values are not valid CIDs";if(!(t.version===0||t.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof t.codec!="string")return"codec must be string";if(t.version===0){if(t.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(t.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(t.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{fk.validate(t.multihash)}catch(e){let r=e.message;return r||(r="Multihash validation failed"),r}}};var lk=ck;function hk(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}var dk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",concat:hk}),vk=Et(dk);function xm(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Sm=xm("utf8","u",t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),Ih=xm("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),pk=be({utf8:Sm,"utf-8":Sm,hex:Jr.base16,latin1:Ih,ascii:Ih,binary:Ih},Jr);function mk(t,e="utf8"){const r=pk[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var bk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",toString:mk}),yk=Et(bk);function gk(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var wk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",equals:gk}),_k=Et(wk);const Xu=fs,Mh=to.exports,no=_m,xk=lk,{concat:Em}=vk,{toString:Sk}=yk,{equals:Ek}=_k,Zu=no.nameToCode,Ak=Object.keys(Zu).reduce((t,e)=>(t[Zu[e]]=e,t),{}),Am=Symbol.for("@ipld/js-cid/CID");class kn{constructor(e,r,n,i){if(this.version,this.codec,this.multihash,Object.defineProperty(this,Am,{value:!0}),kn.isCID(e)){const o=e;this.version=o.version,this.codec=o.codec,this.multihash=o.multihash,this.multibaseName=o.multibaseName||(o.version===0?"base58btc":"base32");return}if(typeof e=="string"){const o=Mh.isEncoded(e);if(o){const a=Mh.decode(e);this.version=parseInt(a[0].toString(),16),this.codec=no.getCodec(a.slice(1)),this.multihash=no.rmPrefix(a.slice(1)),this.multibaseName=o}else this.version=0,this.codec="dag-pb",this.multihash=Xu.fromB58String(e),this.multibaseName="base58btc";kn.validateCID(this),Object.defineProperty(this,"string",{value:e});return}if(e instanceof Uint8Array){const o=parseInt(e[0].toString(),16);if(o===1){const a=e;this.version=o,this.codec=no.getCodec(a.slice(1)),this.multihash=no.rmPrefix(a.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";kn.validateCID(this);return}this.version=e,typeof r=="number"&&(r=Ak[r]),this.codec=r,this.multihash=n,this.multibaseName=i||(e===0?"base58btc":"base32"),kn.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(this.version===0)e=this.multihash;else if(this.version===1){const r=no.getCodeVarint(this.codec);e=Em([[1],r,this.multihash],1+r.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){const e=no.getCodeVarint(this.codec),r=Xu.prefix(this.multihash);return Em([[this.version],e,r],1+e.byteLength+r.byteLength)}get code(){return Zu[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:e,length:r}=Xu.decode(this.multihash);if(e!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(r!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new kn(0,this.codec,this.multihash)}toV1(){return new kn(1,this.codec,this.multihash,this.multibaseName)}toBaseEncodedString(e=this.multibaseName){if(this.string&&this.string.length!==0&&e===this.multibaseName)return this.string;let r;if(this.version===0){if(e!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");r=Xu.toB58String(this.multihash)}else if(this.version===1)r=Sk(Mh.encode(e,this.bytes));else throw new Error("unsupported version");return e===this.multibaseName&&Object.defineProperty(this,"string",{value:r}),r}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&Ek(this.multihash,e.multihash)}static validateCID(e){const r=xk.checkCIDComponents(e);if(r)throw new Error(r)}static isCID(e){return e instanceof kn||Boolean(e&&e[Am])}}kn.codecs=Zu;var Si=kn,kh={},Im={},cs={},Qu={};Qu.byteLength=kk;Qu.toByteArray=Ok;Qu.fromByteArray=Nk;var Tn=[],Yr=[],Ik=typeof Uint8Array!="undefined"?Uint8Array:Array,Th="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ia=0,Mk=Th.length;ia<Mk;++ia)Tn[ia]=Th[ia],Yr[Th.charCodeAt(ia)]=ia;Yr["-".charCodeAt(0)]=62;Yr["_".charCodeAt(0)]=63;function Mm(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function kk(t){var e=Mm(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Tk(t,e,r){return(e+r)*3/4-r}function Ok(t){var e,r=Mm(t),n=r[0],i=r[1],o=new Ik(Tk(t,n,i)),a=0,s=i>0?n-4:n,u;for(u=0;u<s;u+=4)e=Yr[t.charCodeAt(u)]<<18|Yr[t.charCodeAt(u+1)]<<12|Yr[t.charCodeAt(u+2)]<<6|Yr[t.charCodeAt(u+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=e&255;return i===2&&(e=Yr[t.charCodeAt(u)]<<2|Yr[t.charCodeAt(u+1)]>>4,o[a++]=e&255),i===1&&(e=Yr[t.charCodeAt(u)]<<10|Yr[t.charCodeAt(u+1)]<<4|Yr[t.charCodeAt(u+2)]>>2,o[a++]=e>>8&255,o[a++]=e&255),o}function Pk(t){return Tn[t>>18&63]+Tn[t>>12&63]+Tn[t>>6&63]+Tn[t&63]}function Rk(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(Pk(n));return i.join("")}function Nk(t){for(var e,r=t.length,n=r%3,i=[],o=16383,a=0,s=r-n;a<s;a+=o)i.push(Rk(t,a,a+o>s?s:a+o));return n===1?(e=t[r-1],i.push(Tn[e>>2]+Tn[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Tn[e>>10]+Tn[e>>4&63]+Tn[e<<2&63]+"=")),i.join("")}var ef={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ef.read=function(t,e,r,n,i){var o,a,s=i*8-n-1,u=(1<<s)-1,f=u>>1,h=-7,l=r?i-1:0,m=r?-1:1,w=t[e+l];for(l+=m,o=w&(1<<-h)-1,w>>=-h,h+=s;h>0;o=o*256+t[e+l],l+=m,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=n;h>0;a=a*256+t[e+l],l+=m,h-=8);if(o===0)o=1-f;else{if(o===u)return a?NaN:(w?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-f}return(w?-1:1)*a*Math.pow(2,o-n)};ef.write=function(t,e,r,n,i,o){var a,s,u,f=o*8-i-1,h=(1<<f)-1,l=h>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:o-1,M=n?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+l>=1?e+=m/u:e+=m*Math.pow(2,1-l),e*u>=2&&(a++,u/=2),a+l>=h?(s=0,a=h):a+l>=1?(s=(e*u-1)*Math.pow(2,i),a=a+l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[r+w]=s&255,w+=M,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;t[r+w]=a&255,w+=M,a/=256,f-=8);t[r+w-M]|=x*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=Qu,r=ef,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=j,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var z=new Uint8Array(1),P={foo:function(){return 42}};return Object.setPrototypeOf(P,Uint8Array.prototype),Object.setPrototypeOf(z,P),z.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function a(z){if(z>i)throw new RangeError('The value "'+z+'" is invalid for option "size"');var P=new Uint8Array(z);return Object.setPrototypeOf(P,s.prototype),P}function s(z,P,N){if(typeof z=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(z)}return u(z,P,N)}s.poolSize=8192;function u(z,P,N){if(typeof z=="string")return m(z,P);if(ArrayBuffer.isView(z))return M(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(ae(z,ArrayBuffer)||z&&ae(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ae(z,SharedArrayBuffer)||z&&ae(z.buffer,SharedArrayBuffer)))return x(z,P,N);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Y=z.valueOf&&z.valueOf();if(Y!=null&&Y!==z)return s.from(Y,P,N);var ee=R(z);if(ee)return ee;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return s.from(z[Symbol.toPrimitive]("string"),P,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}s.from=function(z,P,N){return u(z,P,N)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function f(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function h(z,P,N){return f(z),z<=0?a(z):P!==void 0?typeof N=="string"?a(z).fill(P,N):a(z).fill(P):a(z)}s.alloc=function(z,P,N){return h(z,P,N)};function l(z){return f(z),a(z<0?0:O(z)|0)}s.allocUnsafe=function(z){return l(z)},s.allocUnsafeSlow=function(z){return l(z)};function m(z,P){if((typeof P!="string"||P==="")&&(P="utf8"),!s.isEncoding(P))throw new TypeError("Unknown encoding: "+P);var N=q(z,P)|0,Y=a(N),ee=Y.write(z,P);return ee!==N&&(Y=Y.slice(0,ee)),Y}function w(z){for(var P=z.length<0?0:O(z.length)|0,N=a(P),Y=0;Y<P;Y+=1)N[Y]=z[Y]&255;return N}function M(z){if(ae(z,Uint8Array)){var P=new Uint8Array(z);return x(P.buffer,P.byteOffset,P.byteLength)}return w(z)}function x(z,P,N){if(P<0||z.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<P+(N||0))throw new RangeError('"length" is outside of buffer bounds');var Y;return P===void 0&&N===void 0?Y=new Uint8Array(z):N===void 0?Y=new Uint8Array(z,P):Y=new Uint8Array(z,P,N),Object.setPrototypeOf(Y,s.prototype),Y}function R(z){if(s.isBuffer(z)){var P=O(z.length)|0,N=a(P);return N.length===0||z.copy(N,0,0,P),N}if(z.length!==void 0)return typeof z.length!="number"||ue(z.length)?a(0):w(z);if(z.type==="Buffer"&&Array.isArray(z.data))return w(z.data)}function O(z){if(z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return z|0}function j(z){return+z!=z&&(z=0),s.alloc(+z)}s.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==s.prototype},s.compare=function(P,N){if(ae(P,Uint8Array)&&(P=s.from(P,P.offset,P.byteLength)),ae(N,Uint8Array)&&(N=s.from(N,N.offset,N.byteLength)),!s.isBuffer(P)||!s.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===N)return 0;for(var Y=P.length,ee=N.length,re=0,ie=Math.min(Y,ee);re<ie;++re)if(P[re]!==N[re]){Y=P[re],ee=N[re];break}return Y<ee?-1:ee<Y?1:0},s.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(P,N){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return s.alloc(0);var Y;if(N===void 0)for(N=0,Y=0;Y<P.length;++Y)N+=P[Y].length;var ee=s.allocUnsafe(N),re=0;for(Y=0;Y<P.length;++Y){var ie=P[Y];if(ae(ie,Uint8Array))re+ie.length>ee.length?s.from(ie).copy(ee,re):Uint8Array.prototype.set.call(ee,ie,re);else if(s.isBuffer(ie))ie.copy(ee,re);else throw new TypeError('"list" argument must be an Array of Buffers');re+=ie.length}return ee};function q(z,P){if(s.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||ae(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);var N=z.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&N===0)return 0;for(var ee=!1;;)switch(P){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return V(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return J(z).length;default:if(ee)return Y?-1:V(z).length;P=(""+P).toLowerCase(),ee=!0}}s.byteLength=q;function B(z,P,N){var Y=!1;if((P===void 0||P<0)&&(P=0),P>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,P>>>=0,N<=P))return"";for(z||(z="utf8");;)switch(z){case"hex":return d(this,P,N);case"utf8":case"utf-8":return y(this,P,N);case"ascii":return L(this,P,N);case"latin1":case"binary":return p(this,P,N);case"base64":return S(this,P,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,P,N);default:if(Y)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),Y=!0}}s.prototype._isBuffer=!0;function I(z,P,N){var Y=z[P];z[P]=z[N],z[N]=Y}s.prototype.swap16=function(){var P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<P;N+=2)I(this,N,N+1);return this},s.prototype.swap32=function(){var P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<P;N+=4)I(this,N,N+3),I(this,N+1,N+2);return this},s.prototype.swap64=function(){var P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<P;N+=8)I(this,N,N+7),I(this,N+1,N+6),I(this,N+2,N+5),I(this,N+3,N+4);return this},s.prototype.toString=function(){var P=this.length;return P===0?"":arguments.length===0?y(this,0,P):B.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(P){if(!s.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:s.compare(this,P)===0},s.prototype.inspect=function(){var P="",N=t.INSPECT_MAX_BYTES;return P=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(P+=" ... "),"<Buffer "+P+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(P,N,Y,ee,re){if(ae(P,Uint8Array)&&(P=s.from(P,P.offset,P.byteLength)),!s.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(N===void 0&&(N=0),Y===void 0&&(Y=P?P.length:0),ee===void 0&&(ee=0),re===void 0&&(re=this.length),N<0||Y>P.length||ee<0||re>this.length)throw new RangeError("out of range index");if(ee>=re&&N>=Y)return 0;if(ee>=re)return-1;if(N>=Y)return 1;if(N>>>=0,Y>>>=0,ee>>>=0,re>>>=0,this===P)return 0;for(var ie=re-ee,de=Y-N,ce=Math.min(ie,de),le=this.slice(ee,re),_e=P.slice(N,Y),se=0;se<ce;++se)if(le[se]!==_e[se]){ie=le[se],de=_e[se];break}return ie<de?-1:de<ie?1:0};function G(z,P,N,Y,ee){if(z.length===0)return-1;if(typeof N=="string"?(Y=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,ue(N)&&(N=ee?0:z.length-1),N<0&&(N=z.length+N),N>=z.length){if(ee)return-1;N=z.length-1}else if(N<0)if(ee)N=0;else return-1;if(typeof P=="string"&&(P=s.from(P,Y)),s.isBuffer(P))return P.length===0?-1:v(z,P,N,Y,ee);if(typeof P=="number")return P=P&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(z,P,N):Uint8Array.prototype.lastIndexOf.call(z,P,N):v(z,[P],N,Y,ee);throw new TypeError("val must be string, number or Buffer")}function v(z,P,N,Y,ee){var re=1,ie=z.length,de=P.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(z.length<2||P.length<2)return-1;re=2,ie/=2,de/=2,N/=2}function ce(Oe,Se){return re===1?Oe[Se]:Oe.readUInt16BE(Se*re)}var le;if(ee){var _e=-1;for(le=N;le<ie;le++)if(ce(z,le)===ce(P,_e===-1?0:le-_e)){if(_e===-1&&(_e=le),le-_e+1===de)return _e*re}else _e!==-1&&(le-=le-_e),_e=-1}else for(N+de>ie&&(N=ie-de),le=N;le>=0;le--){for(var se=!0,we=0;we<de;we++)if(ce(z,le+we)!==ce(P,we)){se=!1;break}if(se)return le}return-1}s.prototype.includes=function(P,N,Y){return this.indexOf(P,N,Y)!==-1},s.prototype.indexOf=function(P,N,Y){return G(this,P,N,Y,!0)},s.prototype.lastIndexOf=function(P,N,Y){return G(this,P,N,Y,!1)};function A(z,P,N,Y){N=Number(N)||0;var ee=z.length-N;Y?(Y=Number(Y),Y>ee&&(Y=ee)):Y=ee;var re=P.length;Y>re/2&&(Y=re/2);for(var ie=0;ie<Y;++ie){var de=parseInt(P.substr(ie*2,2),16);if(ue(de))return ie;z[N+ie]=de}return ie}function D(z,P,N,Y){return ne(V(P,z.length-N),z,N,Y)}function K(z,P,N,Y){return ne(W(P),z,N,Y)}function C(z,P,N,Y){return ne(J(P),z,N,Y)}function b(z,P,N,Y){return ne(E(P,z.length-N),z,N,Y)}s.prototype.write=function(P,N,Y,ee){if(N===void 0)ee="utf8",Y=this.length,N=0;else if(Y===void 0&&typeof N=="string")ee=N,Y=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(Y)?(Y=Y>>>0,ee===void 0&&(ee="utf8")):(ee=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var re=this.length-N;if((Y===void 0||Y>re)&&(Y=re),P.length>0&&(Y<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var ie=!1;;)switch(ee){case"hex":return A(this,P,N,Y);case"utf8":case"utf-8":return D(this,P,N,Y);case"ascii":case"latin1":case"binary":return K(this,P,N,Y);case"base64":return C(this,P,N,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,P,N,Y);default:if(ie)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),ie=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(z,P,N){return P===0&&N===z.length?e.fromByteArray(z):e.fromByteArray(z.slice(P,N))}function y(z,P,N){N=Math.min(z.length,N);for(var Y=[],ee=P;ee<N;){var re=z[ee],ie=null,de=re>239?4:re>223?3:re>191?2:1;if(ee+de<=N){var ce,le,_e,se;switch(de){case 1:re<128&&(ie=re);break;case 2:ce=z[ee+1],(ce&192)==128&&(se=(re&31)<<6|ce&63,se>127&&(ie=se));break;case 3:ce=z[ee+1],le=z[ee+2],(ce&192)==128&&(le&192)==128&&(se=(re&15)<<12|(ce&63)<<6|le&63,se>2047&&(se<55296||se>57343)&&(ie=se));break;case 4:ce=z[ee+1],le=z[ee+2],_e=z[ee+3],(ce&192)==128&&(le&192)==128&&(_e&192)==128&&(se=(re&15)<<18|(ce&63)<<12|(le&63)<<6|_e&63,se>65535&&se<1114112&&(ie=se))}}ie===null?(ie=65533,de=1):ie>65535&&(ie-=65536,Y.push(ie>>>10&1023|55296),ie=56320|ie&1023),Y.push(ie),ee+=de}return k(Y)}var g=4096;function k(z){var P=z.length;if(P<=g)return String.fromCharCode.apply(String,z);for(var N="",Y=0;Y<P;)N+=String.fromCharCode.apply(String,z.slice(Y,Y+=g));return N}function L(z,P,N){var Y="";N=Math.min(z.length,N);for(var ee=P;ee<N;++ee)Y+=String.fromCharCode(z[ee]&127);return Y}function p(z,P,N){var Y="";N=Math.min(z.length,N);for(var ee=P;ee<N;++ee)Y+=String.fromCharCode(z[ee]);return Y}function d(z,P,N){var Y=z.length;(!P||P<0)&&(P=0),(!N||N<0||N>Y)&&(N=Y);for(var ee="",re=P;re<N;++re)ee+=he[z[re]];return ee}function c(z,P,N){for(var Y=z.slice(P,N),ee="",re=0;re<Y.length-1;re+=2)ee+=String.fromCharCode(Y[re]+Y[re+1]*256);return ee}s.prototype.slice=function(P,N){var Y=this.length;P=~~P,N=N===void 0?Y:~~N,P<0?(P+=Y,P<0&&(P=0)):P>Y&&(P=Y),N<0?(N+=Y,N<0&&(N=0)):N>Y&&(N=Y),N<P&&(N=P);var ee=this.subarray(P,N);return Object.setPrototypeOf(ee,s.prototype),ee};function _(z,P,N){if(z%1!=0||z<0)throw new RangeError("offset is not uint");if(z+P>N)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(P,N,Y){P=P>>>0,N=N>>>0,Y||_(P,N,this.length);for(var ee=this[P],re=1,ie=0;++ie<N&&(re*=256);)ee+=this[P+ie]*re;return ee},s.prototype.readUintBE=s.prototype.readUIntBE=function(P,N,Y){P=P>>>0,N=N>>>0,Y||_(P,N,this.length);for(var ee=this[P+--N],re=1;N>0&&(re*=256);)ee+=this[P+--N]*re;return ee},s.prototype.readUint8=s.prototype.readUInt8=function(P,N){return P=P>>>0,N||_(P,1,this.length),this[P]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(P,N){return P=P>>>0,N||_(P,2,this.length),this[P]|this[P+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(P,N){return P=P>>>0,N||_(P,2,this.length),this[P]<<8|this[P+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(P,N){return P=P>>>0,N||_(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+this[P+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(P,N){return P=P>>>0,N||_(P,4,this.length),this[P]*16777216+(this[P+1]<<16|this[P+2]<<8|this[P+3])},s.prototype.readIntLE=function(P,N,Y){P=P>>>0,N=N>>>0,Y||_(P,N,this.length);for(var ee=this[P],re=1,ie=0;++ie<N&&(re*=256);)ee+=this[P+ie]*re;return re*=128,ee>=re&&(ee-=Math.pow(2,8*N)),ee},s.prototype.readIntBE=function(P,N,Y){P=P>>>0,N=N>>>0,Y||_(P,N,this.length);for(var ee=N,re=1,ie=this[P+--ee];ee>0&&(re*=256);)ie+=this[P+--ee]*re;return re*=128,ie>=re&&(ie-=Math.pow(2,8*N)),ie},s.prototype.readInt8=function(P,N){return P=P>>>0,N||_(P,1,this.length),this[P]&128?(255-this[P]+1)*-1:this[P]},s.prototype.readInt16LE=function(P,N){P=P>>>0,N||_(P,2,this.length);var Y=this[P]|this[P+1]<<8;return Y&32768?Y|4294901760:Y},s.prototype.readInt16BE=function(P,N){P=P>>>0,N||_(P,2,this.length);var Y=this[P+1]|this[P]<<8;return Y&32768?Y|4294901760:Y},s.prototype.readInt32LE=function(P,N){return P=P>>>0,N||_(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},s.prototype.readInt32BE=function(P,N){return P=P>>>0,N||_(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},s.prototype.readFloatLE=function(P,N){return P=P>>>0,N||_(P,4,this.length),r.read(this,P,!0,23,4)},s.prototype.readFloatBE=function(P,N){return P=P>>>0,N||_(P,4,this.length),r.read(this,P,!1,23,4)},s.prototype.readDoubleLE=function(P,N){return P=P>>>0,N||_(P,8,this.length),r.read(this,P,!0,52,8)},s.prototype.readDoubleBE=function(P,N){return P=P>>>0,N||_(P,8,this.length),r.read(this,P,!1,52,8)};function U(z,P,N,Y,ee,re){if(!s.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>ee||P<re)throw new RangeError('"value" argument is out of bounds');if(N+Y>z.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(P,N,Y,ee){if(P=+P,N=N>>>0,Y=Y>>>0,!ee){var re=Math.pow(2,8*Y)-1;U(this,P,N,Y,re,0)}var ie=1,de=0;for(this[N]=P&255;++de<Y&&(ie*=256);)this[N+de]=P/ie&255;return N+Y},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(P,N,Y,ee){if(P=+P,N=N>>>0,Y=Y>>>0,!ee){var re=Math.pow(2,8*Y)-1;U(this,P,N,Y,re,0)}var ie=Y-1,de=1;for(this[N+ie]=P&255;--ie>=0&&(de*=256);)this[N+ie]=P/de&255;return N+Y},s.prototype.writeUint8=s.prototype.writeUInt8=function(P,N,Y){return P=+P,N=N>>>0,Y||U(this,P,N,1,255,0),this[N]=P&255,N+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(P,N,Y){return P=+P,N=N>>>0,Y||U(this,P,N,2,65535,0),this[N]=P&255,this[N+1]=P>>>8,N+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(P,N,Y){return P=+P,N=N>>>0,Y||U(this,P,N,2,65535,0),this[N]=P>>>8,this[N+1]=P&255,N+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(P,N,Y){return P=+P,N=N>>>0,Y||U(this,P,N,4,4294967295,0),this[N+3]=P>>>24,this[N+2]=P>>>16,this[N+1]=P>>>8,this[N]=P&255,N+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(P,N,Y){return P=+P,N=N>>>0,Y||U(this,P,N,4,4294967295,0),this[N]=P>>>24,this[N+1]=P>>>16,this[N+2]=P>>>8,this[N+3]=P&255,N+4},s.prototype.writeIntLE=function(P,N,Y,ee){if(P=+P,N=N>>>0,!ee){var re=Math.pow(2,8*Y-1);U(this,P,N,Y,re-1,-re)}var ie=0,de=1,ce=0;for(this[N]=P&255;++ie<Y&&(de*=256);)P<0&&ce===0&&this[N+ie-1]!==0&&(ce=1),this[N+ie]=(P/de>>0)-ce&255;return N+Y},s.prototype.writeIntBE=function(P,N,Y,ee){if(P=+P,N=N>>>0,!ee){var re=Math.pow(2,8*Y-1);U(this,P,N,Y,re-1,-re)}var ie=Y-1,de=1,ce=0;for(this[N+ie]=P&255;--ie>=0&&(de*=256);)P<0&&ce===0&&this[N+ie+1]!==0&&(ce=1),this[N+ie]=(P/de>>0)-ce&255;return N+Y},s.prototype.writeInt8=function(P,N,Y){return P=+P,N=N>>>0,Y||U(this,P,N,1,127,-128),P<0&&(P=255+P+1),this[N]=P&255,N+1},s.prototype.writeInt16LE=function(P,N,Y){return P=+P,N=N>>>0,Y||U(this,P,N,2,32767,-32768),this[N]=P&255,this[N+1]=P>>>8,N+2},s.prototype.writeInt16BE=function(P,N,Y){return P=+P,N=N>>>0,Y||U(this,P,N,2,32767,-32768),this[N]=P>>>8,this[N+1]=P&255,N+2},s.prototype.writeInt32LE=function(P,N,Y){return P=+P,N=N>>>0,Y||U(this,P,N,4,2147483647,-2147483648),this[N]=P&255,this[N+1]=P>>>8,this[N+2]=P>>>16,this[N+3]=P>>>24,N+4},s.prototype.writeInt32BE=function(P,N,Y){return P=+P,N=N>>>0,Y||U(this,P,N,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[N]=P>>>24,this[N+1]=P>>>16,this[N+2]=P>>>8,this[N+3]=P&255,N+4};function H(z,P,N,Y,ee,re){if(N+Y>z.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function $(z,P,N,Y,ee){return P=+P,N=N>>>0,ee||H(z,P,N,4),r.write(z,P,N,Y,23,4),N+4}s.prototype.writeFloatLE=function(P,N,Y){return $(this,P,N,!0,Y)},s.prototype.writeFloatBE=function(P,N,Y){return $(this,P,N,!1,Y)};function T(z,P,N,Y,ee){return P=+P,N=N>>>0,ee||H(z,P,N,8),r.write(z,P,N,Y,52,8),N+8}s.prototype.writeDoubleLE=function(P,N,Y){return T(this,P,N,!0,Y)},s.prototype.writeDoubleBE=function(P,N,Y){return T(this,P,N,!1,Y)},s.prototype.copy=function(P,N,Y,ee){if(!s.isBuffer(P))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!ee&&ee!==0&&(ee=this.length),N>=P.length&&(N=P.length),N||(N=0),ee>0&&ee<Y&&(ee=Y),ee===Y||P.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),P.length-N<ee-Y&&(ee=P.length-N+Y);var re=ee-Y;return this===P&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,Y,ee):Uint8Array.prototype.set.call(P,this.subarray(Y,ee),N),re},s.prototype.fill=function(P,N,Y,ee){if(typeof P=="string"){if(typeof N=="string"?(ee=N,N=0,Y=this.length):typeof Y=="string"&&(ee=Y,Y=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!s.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(P.length===1){var re=P.charCodeAt(0);(ee==="utf8"&&re<128||ee==="latin1")&&(P=re)}}else typeof P=="number"?P=P&255:typeof P=="boolean"&&(P=Number(P));if(N<0||this.length<N||this.length<Y)throw new RangeError("Out of range index");if(Y<=N)return this;N=N>>>0,Y=Y===void 0?this.length:Y>>>0,P||(P=0);var ie;if(typeof P=="number")for(ie=N;ie<Y;++ie)this[ie]=P;else{var de=s.isBuffer(P)?P:s.from(P,ee),ce=de.length;if(ce===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(ie=0;ie<Y-N;++ie)this[ie+N]=de[ie%ce]}return this};var Z=/[^+/0-9A-Za-z-_]/g;function F(z){if(z=z.split("=")[0],z=z.trim().replace(Z,""),z.length<2)return"";for(;z.length%4!=0;)z=z+"=";return z}function V(z,P){P=P||1/0;for(var N,Y=z.length,ee=null,re=[],ie=0;ie<Y;++ie){if(N=z.charCodeAt(ie),N>55295&&N<57344){if(!ee){if(N>56319){(P-=3)>-1&&re.push(239,191,189);continue}else if(ie+1===Y){(P-=3)>-1&&re.push(239,191,189);continue}ee=N;continue}if(N<56320){(P-=3)>-1&&re.push(239,191,189),ee=N;continue}N=(ee-55296<<10|N-56320)+65536}else ee&&(P-=3)>-1&&re.push(239,191,189);if(ee=null,N<128){if((P-=1)<0)break;re.push(N)}else if(N<2048){if((P-=2)<0)break;re.push(N>>6|192,N&63|128)}else if(N<65536){if((P-=3)<0)break;re.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((P-=4)<0)break;re.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return re}function W(z){for(var P=[],N=0;N<z.length;++N)P.push(z.charCodeAt(N)&255);return P}function E(z,P){for(var N,Y,ee,re=[],ie=0;ie<z.length&&!((P-=2)<0);++ie)N=z.charCodeAt(ie),Y=N>>8,ee=N%256,re.push(ee),re.push(Y);return re}function J(z){return e.toByteArray(F(z))}function ne(z,P,N,Y){for(var ee=0;ee<Y&&!(ee+N>=P.length||ee>=z.length);++ee)P[ee+N]=z[ee];return ee}function ae(z,P){return z instanceof P||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===P.name}function ue(z){return z!==z}var he=function(){for(var z="0123456789abcdef",P=new Array(256),N=0;N<16;++N)for(var Y=N*16,ee=0;ee<16;++ee)P[Y+ee]=z[N]+z[ee];return P}()})(cs);var Ck=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Oh=Math.ceil,On=Math.floor,Sr="[BigNumber Error] ",km=Sr+"Number primitive has more than 15 significant digits: ",dn=1e14,je=14,Ph=9007199254740991,Rh=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Ei=1e7,jt=1e9;function Tm(t){var e,r,n,i=O.prototype={constructor:O,toString:null,valueOf:null},o=new O(1),a=20,s=4,u=-7,f=21,h=-1e7,l=1e7,m=!1,w=1,M=0,x={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},R="0123456789abcdefghijklmnopqrstuvwxyz";function O(v,A){var D,K,C,b,S,y,g,k,L=this;if(!(L instanceof O))return new O(v,A);if(A==null){if(v&&v._isBigNumber===!0){L.s=v.s,!v.c||v.e>l?L.c=L.e=null:v.e<h?L.c=[L.e=0]:(L.e=v.e,L.c=v.c.slice());return}if((y=typeof v=="number")&&v*0==0){if(L.s=1/v<0?(v=-v,-1):1,v===~~v){for(b=0,S=v;S>=10;S/=10,b++);b>l?L.c=L.e=null:(L.e=b,L.c=[v]);return}k=String(v)}else{if(!Ck.test(k=String(v)))return n(L,k,y);L.s=k.charCodeAt(0)==45?(k=k.slice(1),-1):1}(b=k.indexOf("."))>-1&&(k=k.replace(".","")),(S=k.search(/e/i))>0?(b<0&&(b=S),b+=+k.slice(S+1),k=k.substring(0,S)):b<0&&(b=k.length)}else{if(xt(A,2,R.length,"Base"),A==10)return L=new O(v),I(L,a+L.e+1,s);if(k=String(v),y=typeof v=="number"){if(v*0!=0)return n(L,k,y,A);if(L.s=1/v<0?(k=k.slice(1),-1):1,O.DEBUG&&k.replace(/^0\.0*|\./,"").length>15)throw Error(km+v)}else L.s=k.charCodeAt(0)===45?(k=k.slice(1),-1):1;for(D=R.slice(0,A),b=S=0,g=k.length;S<g;S++)if(D.indexOf(K=k.charAt(S))<0){if(K=="."){if(S>b){b=g;continue}}else if(!C&&(k==k.toUpperCase()&&(k=k.toLowerCase())||k==k.toLowerCase()&&(k=k.toUpperCase()))){C=!0,S=-1,b=0;continue}return n(L,String(v),y,A)}y=!1,k=r(k,A,10,L.s),(b=k.indexOf("."))>-1?k=k.replace(".",""):b=k.length}for(S=0;k.charCodeAt(S)===48;S++);for(g=k.length;k.charCodeAt(--g)===48;);if(k=k.slice(S,++g)){if(g-=S,y&&O.DEBUG&&g>15&&(v>Ph||v!==On(v)))throw Error(km+L.s*v);if((b=b-S-1)>l)L.c=L.e=null;else if(b<h)L.c=[L.e=0];else{if(L.e=b,L.c=[],S=(b+1)%je,b<0&&(S+=je),S<g){for(S&&L.c.push(+k.slice(0,S)),g-=je;S<g;)L.c.push(+k.slice(S,S+=je));S=je-(k=k.slice(S)).length}else S-=g;for(;S--;k+="0");L.c.push(+k)}}else L.c=[L.e=0]}O.clone=Tm,O.ROUND_UP=0,O.ROUND_DOWN=1,O.ROUND_CEIL=2,O.ROUND_FLOOR=3,O.ROUND_HALF_UP=4,O.ROUND_HALF_DOWN=5,O.ROUND_HALF_EVEN=6,O.ROUND_HALF_CEIL=7,O.ROUND_HALF_FLOOR=8,O.EUCLID=9,O.config=O.set=function(v){var A,D;if(v!=null)if(typeof v=="object"){if(v.hasOwnProperty(A="DECIMAL_PLACES")&&(D=v[A],xt(D,0,jt,A),a=D),v.hasOwnProperty(A="ROUNDING_MODE")&&(D=v[A],xt(D,0,8,A),s=D),v.hasOwnProperty(A="EXPONENTIAL_AT")&&(D=v[A],D&&D.pop?(xt(D[0],-jt,0,A),xt(D[1],0,jt,A),u=D[0],f=D[1]):(xt(D,-jt,jt,A),u=-(f=D<0?-D:D))),v.hasOwnProperty(A="RANGE"))if(D=v[A],D&&D.pop)xt(D[0],-jt,-1,A),xt(D[1],1,jt,A),h=D[0],l=D[1];else if(xt(D,-jt,jt,A),D)h=-(l=D<0?-D:D);else throw Error(Sr+A+" cannot be zero: "+D);if(v.hasOwnProperty(A="CRYPTO"))if(D=v[A],D===!!D)if(D)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))m=D;else throw m=!D,Error(Sr+"crypto unavailable");else m=D;else throw Error(Sr+A+" not true or false: "+D);if(v.hasOwnProperty(A="MODULO_MODE")&&(D=v[A],xt(D,0,9,A),w=D),v.hasOwnProperty(A="POW_PRECISION")&&(D=v[A],xt(D,0,jt,A),M=D),v.hasOwnProperty(A="FORMAT"))if(D=v[A],typeof D=="object")x=D;else throw Error(Sr+A+" not an object: "+D);if(v.hasOwnProperty(A="ALPHABET"))if(D=v[A],typeof D=="string"&&!/^.$|[+-.\s]|(.).*\1/.test(D))R=D;else throw Error(Sr+A+" invalid: "+D)}else throw Error(Sr+"Object expected: "+v);return{DECIMAL_PLACES:a,ROUNDING_MODE:s,EXPONENTIAL_AT:[u,f],RANGE:[h,l],CRYPTO:m,MODULO_MODE:w,POW_PRECISION:M,FORMAT:x,ALPHABET:R}},O.isBigNumber=function(v){if(!v||v._isBigNumber!==!0)return!1;if(!O.DEBUG)return!0;var A,D,K=v.c,C=v.e,b=v.s;e:if({}.toString.call(K)=="[object Array]"){if((b===1||b===-1)&&C>=-jt&&C<=jt&&C===On(C)){if(K[0]===0){if(C===0&&K.length===1)return!0;break e}if(A=(C+1)%je,A<1&&(A+=je),String(K[0]).length==A){for(A=0;A<K.length;A++)if(D=K[A],D<0||D>=dn||D!==On(D))break e;if(D!==0)return!0}}}else if(K===null&&C===null&&(b===null||b===1||b===-1))return!0;throw Error(Sr+"Invalid BigNumber: "+v)},O.maximum=O.max=function(){return q(arguments,i.lt)},O.minimum=O.min=function(){return q(arguments,i.gt)},O.random=function(){var v=9007199254740992,A=Math.random()*v&2097151?function(){return On(Math.random()*v)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(D){var K,C,b,S,y,g=0,k=[],L=new O(o);if(D==null?D=a:xt(D,0,jt),S=Oh(D/je),m)if(crypto.getRandomValues){for(K=crypto.getRandomValues(new Uint32Array(S*=2));g<S;)y=K[g]*131072+(K[g+1]>>>11),y>=9e15?(C=crypto.getRandomValues(new Uint32Array(2)),K[g]=C[0],K[g+1]=C[1]):(k.push(y%1e14),g+=2);g=S/2}else if(crypto.randomBytes){for(K=crypto.randomBytes(S*=7);g<S;)y=(K[g]&31)*281474976710656+K[g+1]*1099511627776+K[g+2]*4294967296+K[g+3]*16777216+(K[g+4]<<16)+(K[g+5]<<8)+K[g+6],y>=9e15?crypto.randomBytes(7).copy(K,g):(k.push(y%1e14),g+=7);g=S/7}else throw m=!1,Error(Sr+"crypto unavailable");if(!m)for(;g<S;)y=A(),y<9e15&&(k[g++]=y%1e14);for(S=k[--g],D%=je,S&&D&&(y=Rh[je-D],k[g]=On(S/y)*y);k[g]===0;k.pop(),g--);if(g<0)k=[b=0];else{for(b=-1;k[0]===0;k.splice(0,1),b-=je);for(g=1,y=k[0];y>=10;y/=10,g++);g<je&&(b-=je-g)}return L.e=b,L.c=k,L}}(),O.sum=function(){for(var v=1,A=arguments,D=new O(A[0]);v<A.length;)D=D.plus(A[v++]);return D},r=function(){var v="0123456789";function A(D,K,C,b){for(var S,y=[0],g,k=0,L=D.length;k<L;){for(g=y.length;g--;y[g]*=K);for(y[0]+=b.indexOf(D.charAt(k++)),S=0;S<y.length;S++)y[S]>C-1&&(y[S+1]==null&&(y[S+1]=0),y[S+1]+=y[S]/C|0,y[S]%=C)}return y.reverse()}return function(D,K,C,b,S){var y,g,k,L,p,d,c,_,U=D.indexOf("."),H=a,$=s;for(U>=0&&(L=M,M=0,D=D.replace(".",""),_=new O(K),d=_.pow(D.length-U),M=L,_.c=A(ti(Zr(d.c),d.e,"0"),10,C,v),_.e=_.c.length),c=A(D,K,C,S?(y=R,v):(y=v,R)),k=L=c.length;c[--L]==0;c.pop());if(!c[0])return y.charAt(0);if(U<0?--k:(d.c=c,d.e=k,d.s=b,d=e(d,_,H,$,C),c=d.c,p=d.r,k=d.e),g=k+H+1,U=c[g],L=C/2,p=p||g<0||c[g+1]!=null,p=$<4?(U!=null||p)&&($==0||$==(d.s<0?3:2)):U>L||U==L&&($==4||p||$==6&&c[g-1]&1||$==(d.s<0?8:7)),g<1||!c[0])D=p?ti(y.charAt(1),-H,y.charAt(0)):y.charAt(0);else{if(c.length=g,p)for(--C;++c[--g]>C;)c[g]=0,g||(++k,c=[1].concat(c));for(L=c.length;!c[--L];);for(U=0,D="";U<=L;D+=y.charAt(c[U++]));D=ti(D,k,y.charAt(0))}return D}}(),e=function(){function v(K,C,b){var S,y,g,k,L=0,p=K.length,d=C%Ei,c=C/Ei|0;for(K=K.slice();p--;)g=K[p]%Ei,k=K[p]/Ei|0,S=c*g+k*d,y=d*g+S%Ei*Ei+L,L=(y/b|0)+(S/Ei|0)+c*k,K[p]=y%b;return L&&(K=[L].concat(K)),K}function A(K,C,b,S){var y,g;if(b!=S)g=b>S?1:-1;else for(y=g=0;y<b;y++)if(K[y]!=C[y]){g=K[y]>C[y]?1:-1;break}return g}function D(K,C,b,S){for(var y=0;b--;)K[b]-=y,y=K[b]<C[b]?1:0,K[b]=y*S+K[b]-C[b];for(;!K[0]&&K.length>1;K.splice(0,1));}return function(K,C,b,S,y){var g,k,L,p,d,c,_,U,H,$,T,Z,F,V,W,E,J,ne=K.s==C.s?1:-1,ae=K.c,ue=C.c;if(!ae||!ae[0]||!ue||!ue[0])return new O(!K.s||!C.s||(ae?ue&&ae[0]==ue[0]:!ue)?NaN:ae&&ae[0]==0||!ue?ne*0:ne/0);for(U=new O(ne),H=U.c=[],k=K.e-C.e,ne=b+k+1,y||(y=dn,k=Xr(K.e/je)-Xr(C.e/je),ne=ne/je|0),L=0;ue[L]==(ae[L]||0);L++);if(ue[L]>(ae[L]||0)&&k--,ne<0)H.push(1),p=!0;else{for(V=ae.length,E=ue.length,L=0,ne+=2,d=On(y/(ue[0]+1)),d>1&&(ue=v(ue,d,y),ae=v(ae,d,y),E=ue.length,V=ae.length),F=E,$=ae.slice(0,E),T=$.length;T<E;$[T++]=0);J=ue.slice(),J=[0].concat(J),W=ue[0],ue[1]>=y/2&&W++;do{if(d=0,g=A(ue,$,E,T),g<0){if(Z=$[0],E!=T&&(Z=Z*y+($[1]||0)),d=On(Z/W),d>1)for(d>=y&&(d=y-1),c=v(ue,d,y),_=c.length,T=$.length;A(c,$,_,T)==1;)d--,D(c,E<_?J:ue,_,y),_=c.length,g=1;else d==0&&(g=d=1),c=ue.slice(),_=c.length;if(_<T&&(c=[0].concat(c)),D($,c,T,y),T=$.length,g==-1)for(;A(ue,$,E,T)<1;)d++,D($,E<T?J:ue,T,y),T=$.length}else g===0&&(d++,$=[0]);H[L++]=d,$[0]?$[T++]=ae[F]||0:($=[ae[F]],T=1)}while((F++<V||$[0]!=null)&&ne--);p=$[0]!=null,H[0]||H.splice(0,1)}if(y==dn){for(L=1,ne=H[0];ne>=10;ne/=10,L++);I(U,b+(U.e=L+k*je-1)+1,S,p)}else U.e=k,U.r=+p;return U}}();function j(v,A,D,K){var C,b,S,y,g;if(D==null?D=s:xt(D,0,8),!v.c)return v.toString();if(C=v.c[0],S=v.e,A==null)g=Zr(v.c),g=K==1||K==2&&(S<=u||S>=f)?rf(g,S):ti(g,S,"0");else if(v=I(new O(v),A,D),b=v.e,g=Zr(v.c),y=g.length,K==1||K==2&&(A<=b||b<=u)){for(;y<A;g+="0",y++);g=rf(g,b)}else if(A-=S,g=ti(g,b,"0"),b+1>y){if(--A>0)for(g+=".";A--;g+="0");}else if(A+=b-y,A>0)for(b+1==y&&(g+=".");A--;g+="0");return v.s<0&&C?"-"+g:g}function q(v,A){for(var D,K=1,C=new O(v[0]);K<v.length;K++)if(D=new O(v[K]),D.s)A.call(C,D)&&(C=D);else{C=D;break}return C}function B(v,A,D){for(var K=1,C=A.length;!A[--C];A.pop());for(C=A[0];C>=10;C/=10,K++);return(D=K+D*je-1)>l?v.c=v.e=null:D<h?v.c=[v.e=0]:(v.e=D,v.c=A),v}n=function(){var v=/^(-?)0([xbo])(?=\w[\w.]*$)/i,A=/^([^.]+)\.$/,D=/^\.([^.]+)$/,K=/^-?(Infinity|NaN)$/,C=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(b,S,y,g){var k,L=y?S:S.replace(C,"");if(K.test(L))b.s=isNaN(L)?null:L<0?-1:1;else{if(!y&&(L=L.replace(v,function(p,d,c){return k=(c=c.toLowerCase())=="x"?16:c=="b"?2:8,!g||g==k?d:p}),g&&(k=g,L=L.replace(A,"$1").replace(D,"0.$1")),S!=L))return new O(L,k);if(O.DEBUG)throw Error(Sr+"Not a"+(g?" base "+g:"")+" number: "+S);b.s=null}b.c=b.e=null}}();function I(v,A,D,K){var C,b,S,y,g,k,L,p=v.c,d=Rh;if(p){e:{for(C=1,y=p[0];y>=10;y/=10,C++);if(b=A-C,b<0)b+=je,S=A,g=p[k=0],L=g/d[C-S-1]%10|0;else if(k=Oh((b+1)/je),k>=p.length)if(K){for(;p.length<=k;p.push(0));g=L=0,C=1,b%=je,S=b-je+1}else break e;else{for(g=y=p[k],C=1;y>=10;y/=10,C++);b%=je,S=b-je+C,L=S<0?0:g/d[C-S-1]%10|0}if(K=K||A<0||p[k+1]!=null||(S<0?g:g%d[C-S-1]),K=D<4?(L||K)&&(D==0||D==(v.s<0?3:2)):L>5||L==5&&(D==4||K||D==6&&(b>0?S>0?g/d[C-S]:0:p[k-1])%10&1||D==(v.s<0?8:7)),A<1||!p[0])return p.length=0,K?(A-=v.e+1,p[0]=d[(je-A%je)%je],v.e=-A||0):p[0]=v.e=0,v;if(b==0?(p.length=k,y=1,k--):(p.length=k+1,y=d[je-b],p[k]=S>0?On(g/d[C-S]%d[S])*y:0),K)for(;;)if(k==0){for(b=1,S=p[0];S>=10;S/=10,b++);for(S=p[0]+=y,y=1;S>=10;S/=10,y++);b!=y&&(v.e++,p[0]==dn&&(p[0]=1));break}else{if(p[k]+=y,p[k]!=dn)break;p[k--]=0,y=1}for(b=p.length;p[--b]===0;p.pop());}v.e>l?v.c=v.e=null:v.e<h&&(v.c=[v.e=0])}return v}function G(v){var A,D=v.e;return D===null?v.toString():(A=Zr(v.c),A=D<=u||D>=f?rf(A,D):ti(A,D,"0"),v.s<0?"-"+A:A)}return i.absoluteValue=i.abs=function(){var v=new O(this);return v.s<0&&(v.s=1),v},i.comparedTo=function(v,A){return oa(this,new O(v,A))},i.decimalPlaces=i.dp=function(v,A){var D,K,C,b=this;if(v!=null)return xt(v,0,jt),A==null?A=s:xt(A,0,8),I(new O(b),v+b.e+1,A);if(!(D=b.c))return null;if(K=((C=D.length-1)-Xr(this.e/je))*je,C=D[C])for(;C%10==0;C/=10,K--);return K<0&&(K=0),K},i.dividedBy=i.div=function(v,A){return e(this,new O(v,A),a,s)},i.dividedToIntegerBy=i.idiv=function(v,A){return e(this,new O(v,A),0,1)},i.exponentiatedBy=i.pow=function(v,A){var D,K,C,b,S,y,g,k,L,p=this;if(v=new O(v),v.c&&!v.isInteger())throw Error(Sr+"Exponent not an integer: "+G(v));if(A!=null&&(A=new O(A)),y=v.e>14,!p.c||!p.c[0]||p.c[0]==1&&!p.e&&p.c.length==1||!v.c||!v.c[0])return L=new O(Math.pow(+G(p),y?2-tf(v):+G(v))),A?L.mod(A):L;if(g=v.s<0,A){if(A.c?!A.c[0]:!A.s)return new O(NaN);K=!g&&p.isInteger()&&A.isInteger(),K&&(p=p.mod(A))}else{if(v.e>9&&(p.e>0||p.e<-1||(p.e==0?p.c[0]>1||y&&p.c[1]>=24e7:p.c[0]<8e13||y&&p.c[0]<=9999975e7)))return b=p.s<0&&tf(v)?-0:0,p.e>-1&&(b=1/b),new O(g?1/b:b);M&&(b=Oh(M/je+2))}for(y?(D=new O(.5),g&&(v.s=1),k=tf(v)):(C=Math.abs(+G(v)),k=C%2),L=new O(o);;){if(k){if(L=L.times(p),!L.c)break;b?L.c.length>b&&(L.c.length=b):K&&(L=L.mod(A))}if(C){if(C=On(C/2),C===0)break;k=C%2}else if(v=v.times(D),I(v,v.e+1,1),v.e>14)k=tf(v);else{if(C=+G(v),C===0)break;k=C%2}p=p.times(p),b?p.c&&p.c.length>b&&(p.c.length=b):K&&(p=p.mod(A))}return K?L:(g&&(L=o.div(L)),A?L.mod(A):b?I(L,M,s,S):L)},i.integerValue=function(v){var A=new O(this);return v==null?v=s:xt(v,0,8),I(A,A.e+1,v)},i.isEqualTo=i.eq=function(v,A){return oa(this,new O(v,A))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(v,A){return oa(this,new O(v,A))>0},i.isGreaterThanOrEqualTo=i.gte=function(v,A){return(A=oa(this,new O(v,A)))===1||A===0},i.isInteger=function(){return!!this.c&&Xr(this.e/je)>this.c.length-2},i.isLessThan=i.lt=function(v,A){return oa(this,new O(v,A))<0},i.isLessThanOrEqualTo=i.lte=function(v,A){return(A=oa(this,new O(v,A)))===-1||A===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(v,A){var D,K,C,b,S=this,y=S.s;if(v=new O(v,A),A=v.s,!y||!A)return new O(NaN);if(y!=A)return v.s=-A,S.plus(v);var g=S.e/je,k=v.e/je,L=S.c,p=v.c;if(!g||!k){if(!L||!p)return L?(v.s=-A,v):new O(p?S:NaN);if(!L[0]||!p[0])return p[0]?(v.s=-A,v):new O(L[0]?S:s==3?-0:0)}if(g=Xr(g),k=Xr(k),L=L.slice(),y=g-k){for((b=y<0)?(y=-y,C=L):(k=g,C=p),C.reverse(),A=y;A--;C.push(0));C.reverse()}else for(K=(b=(y=L.length)<(A=p.length))?y:A,y=A=0;A<K;A++)if(L[A]!=p[A]){b=L[A]<p[A];break}if(b&&(C=L,L=p,p=C,v.s=-v.s),A=(K=p.length)-(D=L.length),A>0)for(;A--;L[D++]=0);for(A=dn-1;K>y;){if(L[--K]<p[K]){for(D=K;D&&!L[--D];L[D]=A);--L[D],L[K]+=dn}L[K]-=p[K]}for(;L[0]==0;L.splice(0,1),--k);return L[0]?B(v,L,k):(v.s=s==3?-1:1,v.c=[v.e=0],v)},i.modulo=i.mod=function(v,A){var D,K,C=this;return v=new O(v,A),!C.c||!v.s||v.c&&!v.c[0]?new O(NaN):!v.c||C.c&&!C.c[0]?new O(C):(w==9?(K=v.s,v.s=1,D=e(C,v,0,3),v.s=K,D.s*=K):D=e(C,v,0,w),v=C.minus(D.times(v)),!v.c[0]&&w==1&&(v.s=C.s),v)},i.multipliedBy=i.times=function(v,A){var D,K,C,b,S,y,g,k,L,p,d,c,_,U,H,$=this,T=$.c,Z=(v=new O(v,A)).c;if(!T||!Z||!T[0]||!Z[0])return!$.s||!v.s||T&&!T[0]&&!Z||Z&&!Z[0]&&!T?v.c=v.e=v.s=null:(v.s*=$.s,!T||!Z?v.c=v.e=null:(v.c=[0],v.e=0)),v;for(K=Xr($.e/je)+Xr(v.e/je),v.s*=$.s,g=T.length,p=Z.length,g<p&&(_=T,T=Z,Z=_,C=g,g=p,p=C),C=g+p,_=[];C--;_.push(0));for(U=dn,H=Ei,C=p;--C>=0;){for(D=0,d=Z[C]%H,c=Z[C]/H|0,S=g,b=C+S;b>C;)k=T[--S]%H,L=T[S]/H|0,y=c*k+L*d,k=d*k+y%H*H+_[b]+D,D=(k/U|0)+(y/H|0)+c*L,_[b--]=k%U;_[b]=D}return D?++K:_.splice(0,1),B(v,_,K)},i.negated=function(){var v=new O(this);return v.s=-v.s||null,v},i.plus=function(v,A){var D,K=this,C=K.s;if(v=new O(v,A),A=v.s,!C||!A)return new O(NaN);if(C!=A)return v.s=-A,K.minus(v);var b=K.e/je,S=v.e/je,y=K.c,g=v.c;if(!b||!S){if(!y||!g)return new O(C/0);if(!y[0]||!g[0])return g[0]?v:new O(y[0]?K:C*0)}if(b=Xr(b),S=Xr(S),y=y.slice(),C=b-S){for(C>0?(S=b,D=g):(C=-C,D=y),D.reverse();C--;D.push(0));D.reverse()}for(C=y.length,A=g.length,C-A<0&&(D=g,g=y,y=D,A=C),C=0;A;)C=(y[--A]=y[A]+g[A]+C)/dn|0,y[A]=dn===y[A]?0:y[A]%dn;return C&&(y=[C].concat(y),++S),B(v,y,S)},i.precision=i.sd=function(v,A){var D,K,C,b=this;if(v!=null&&v!==!!v)return xt(v,1,jt),A==null?A=s:xt(A,0,8),I(new O(b),v,A);if(!(D=b.c))return null;if(C=D.length-1,K=C*je+1,C=D[C]){for(;C%10==0;C/=10,K--);for(C=D[0];C>=10;C/=10,K++);}return v&&b.e+1>K&&(K=b.e+1),K},i.shiftedBy=function(v){return xt(v,-Ph,Ph),this.times("1e"+v)},i.squareRoot=i.sqrt=function(){var v,A,D,K,C,b=this,S=b.c,y=b.s,g=b.e,k=a+4,L=new O("0.5");if(y!==1||!S||!S[0])return new O(!y||y<0&&(!S||S[0])?NaN:S?b:1/0);if(y=Math.sqrt(+G(b)),y==0||y==1/0?(A=Zr(S),(A.length+g)%2==0&&(A+="0"),y=Math.sqrt(+A),g=Xr((g+1)/2)-(g<0||g%2),y==1/0?A="5e"+g:(A=y.toExponential(),A=A.slice(0,A.indexOf("e")+1)+g),D=new O(A)):D=new O(y+""),D.c[0]){for(g=D.e,y=g+k,y<3&&(y=0);;)if(C=D,D=L.times(C.plus(e(b,C,k,1))),Zr(C.c).slice(0,y)===(A=Zr(D.c)).slice(0,y))if(D.e<g&&--y,A=A.slice(y-3,y+1),A=="9999"||!K&&A=="4999"){if(!K&&(I(C,C.e+a+2,0),C.times(C).eq(b))){D=C;break}k+=4,y+=4,K=1}else{(!+A||!+A.slice(1)&&A.charAt(0)=="5")&&(I(D,D.e+a+2,1),v=!D.times(D).eq(b));break}}return I(D,D.e+a+1,s,v)},i.toExponential=function(v,A){return v!=null&&(xt(v,0,jt),v++),j(this,v,A,1)},i.toFixed=function(v,A){return v!=null&&(xt(v,0,jt),v=v+this.e+1),j(this,v,A)},i.toFormat=function(v,A,D){var K,C=this;if(D==null)v!=null&&A&&typeof A=="object"?(D=A,A=null):v&&typeof v=="object"?(D=v,v=A=null):D=x;else if(typeof D!="object")throw Error(Sr+"Argument not an object: "+D);if(K=C.toFixed(v,A),C.c){var b,S=K.split("."),y=+D.groupSize,g=+D.secondaryGroupSize,k=D.groupSeparator||"",L=S[0],p=S[1],d=C.s<0,c=d?L.slice(1):L,_=c.length;if(g&&(b=y,y=g,g=b,_-=b),y>0&&_>0){for(b=_%y||y,L=c.substr(0,b);b<_;b+=y)L+=k+c.substr(b,y);g>0&&(L+=k+c.slice(b)),d&&(L="-"+L)}K=p?L+(D.decimalSeparator||"")+((g=+D.fractionGroupSize)?p.replace(new RegExp("\\d{"+g+"}\\B","g"),"$&"+(D.fractionGroupSeparator||"")):p):L}return(D.prefix||"")+K+(D.suffix||"")},i.toFraction=function(v){var A,D,K,C,b,S,y,g,k,L,p,d,c=this,_=c.c;if(v!=null&&(y=new O(v),!y.isInteger()&&(y.c||y.s!==1)||y.lt(o)))throw Error(Sr+"Argument "+(y.isInteger()?"out of range: ":"not an integer: ")+G(y));if(!_)return new O(c);for(A=new O(o),k=D=new O(o),K=g=new O(o),d=Zr(_),b=A.e=d.length-c.e-1,A.c[0]=Rh[(S=b%je)<0?je+S:S],v=!v||y.comparedTo(A)>0?b>0?A:k:y,S=l,l=1/0,y=new O(d),g.c[0]=0;L=e(y,A,0,1),C=D.plus(L.times(K)),C.comparedTo(v)!=1;)D=K,K=C,k=g.plus(L.times(C=k)),g=C,A=y.minus(L.times(C=A)),y=C;return C=e(v.minus(D),K,0,1),g=g.plus(C.times(k)),D=D.plus(C.times(K)),g.s=k.s=c.s,b=b*2,p=e(k,K,b,s).minus(c).abs().comparedTo(e(g,D,b,s).minus(c).abs())<1?[k,K]:[g,D],l=S,p},i.toNumber=function(){return+G(this)},i.toPrecision=function(v,A){return v!=null&&xt(v,1,jt),j(this,v,A,2)},i.toString=function(v){var A,D=this,K=D.s,C=D.e;return C===null?K?(A="Infinity",K<0&&(A="-"+A)):A="NaN":(v==null?A=C<=u||C>=f?rf(Zr(D.c),C):ti(Zr(D.c),C,"0"):v===10?(D=I(new O(D),a+C+1,s),A=ti(Zr(D.c),D.e,"0")):(xt(v,2,R.length,"Base"),A=r(ti(Zr(D.c),C,"0"),10,v,K,!0)),K<0&&D.c[0]&&(A="-"+A)),A},i.valueOf=i.toJSON=function(){return G(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&O.set(t),O}function Xr(t){var e=t|0;return t>0||t===e?e:e-1}function Zr(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=je-e.length;r--;e="0"+e);o+=e}for(i=o.length;o.charCodeAt(--i)===48;);return o.slice(0,i+1||1)}function oa(t,e){var r,n,i=t.c,o=e.c,a=t.s,s=e.s,u=t.e,f=e.e;if(!a||!s)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=u==f,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>f^r?1:-1;for(s=(u=i.length)<(f=o.length)?u:f,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^r?1:-1;return u==f?0:u>f^r?1:-1}function xt(t,e,r,n){if(t<e||t>r||t!==On(t))throw Error(Sr+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function tf(t){var e=t.c.length-1;return Xr(t.e/je)==e&&t.c[e]%2!=0}function rf(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function ti(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var Om=Tm(),Lk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",BigNumber:Om,default:Om}),nf=Et(Lk),Dk=function(e,r,n){var i=new e.Uint8Array(n),o=r.pushInt,a=r.pushInt32,s=r.pushInt32Neg,u=r.pushInt64,f=r.pushInt64Neg,h=r.pushFloat,l=r.pushFloatSingle,m=r.pushFloatDouble,w=r.pushTrue,M=r.pushFalse,x=r.pushUndefined,R=r.pushNull,O=r.pushInfinity,j=r.pushInfinityNeg,q=r.pushNaN,B=r.pushNaNNeg,I=r.pushArrayStart,G=r.pushArrayStartFixed,v=r.pushArrayStartFixed32,A=r.pushArrayStartFixed64,D=r.pushObjectStart,K=r.pushObjectStartFixed,C=r.pushObjectStartFixed32,b=r.pushObjectStartFixed64,S=r.pushByteString,y=r.pushByteStringStart,g=r.pushUtf8String,k=r.pushUtf8StringStart,L=r.pushSimpleUnassigned,p=r.pushTagStart,d=r.pushTagStart4,c=r.pushTagStart8,_=r.pushTagUnassigned,U=r.pushBreak,H=e.Math.pow,$=0,T=0,Z=0;function F(Q){for(Q=Q|0,$=0,T=Q;($|0)<(T|0)&&(Z=Fi[i[$]&255](i[$]|0)|0,!((Z|0)>0)););return Z|0}function V(Q){return Q=Q|0,(($|0)+(Q|0)|0)<(T|0)?0:1}function W(Q){return Q=Q|0,i[Q|0]<<8|i[Q+1|0]|0}function E(Q){return Q=Q|0,i[Q|0]<<24|i[Q+1|0]<<16|i[Q+2|0]<<8|i[Q+3|0]|0}function J(Q){return Q=Q|0,o(Q|0),$=$+1|0,0}function ne(Q){return Q=Q|0,V(1)|0?1:(o(i[$+1|0]|0),$=$+2|0,0)}function ae(Q){return Q=Q|0,V(2)|0?1:(o(W($+1|0)|0),$=$+3|0,0)}function ue(Q){return Q=Q|0,V(4)|0?1:(a(W($+1|0)|0,W($+3|0)|0),$=$+5|0,0)}function he(Q){return Q=Q|0,V(8)|0?1:(u(W($+1|0)|0,W($+3|0)|0,W($+5|0)|0,W($+7|0)|0),$=$+9|0,0)}function z(Q){return Q=Q|0,o(-1-(Q-32|0)|0),$=$+1|0,0}function P(Q){return Q=Q|0,V(1)|0?1:(o(-1-(i[$+1|0]|0)|0),$=$+2|0,0)}function N(Q){Q=Q|0;var Ve=0;return V(2)|0?1:(Ve=W($+1|0)|0,o(-1-(Ve|0)|0),$=$+3|0,0)}function Y(Q){return Q=Q|0,V(4)|0?1:(s(W($+1|0)|0,W($+3|0)|0),$=$+5|0,0)}function ee(Q){return Q=Q|0,V(8)|0?1:(f(W($+1|0)|0,W($+3|0)|0,W($+5|0)|0,W($+7|0)|0),$=$+9|0,0)}function re(Q){Q=Q|0;var Ve=0,Ke=0,Ge=0;return Ge=Q-64|0,V(Ge|0)|0?1:(Ve=$+1|0,Ke=($+1|0)+(Ge|0)|0,S(Ve|0,Ke|0),$=Ke|0,0)}function ie(Q){Q=Q|0;var Ve=0,Ke=0,Ge=0;return V(1)|0||(Ge=i[$+1|0]|0,Ve=$+2|0,Ke=($+2|0)+(Ge|0)|0,V(Ge+1|0)|0)?1:(S(Ve|0,Ke|0),$=Ke|0,0)}function de(Q){Q=Q|0;var Ve=0,Ke=0,Ge=0;return V(2)|0||(Ge=W($+1|0)|0,Ve=$+3|0,Ke=($+3|0)+(Ge|0)|0,V(Ge+2|0)|0)?1:(S(Ve|0,Ke|0),$=Ke|0,0)}function ce(Q){Q=Q|0;var Ve=0,Ke=0,Ge=0;return V(4)|0||(Ge=E($+1|0)|0,Ve=$+5|0,Ke=($+5|0)+(Ge|0)|0,V(Ge+4|0)|0)?1:(S(Ve|0,Ke|0),$=Ke|0,0)}function le(Q){return Q=Q|0,1}function _e(Q){return Q=Q|0,y(),$=$+1|0,0}function se(Q){Q=Q|0;var Ve=0,Ke=0,Ge=0;return Ge=Q-96|0,V(Ge|0)|0?1:(Ve=$+1|0,Ke=($+1|0)+(Ge|0)|0,g(Ve|0,Ke|0),$=Ke|0,0)}function we(Q){Q=Q|0;var Ve=0,Ke=0,Ge=0;return V(1)|0||(Ge=i[$+1|0]|0,Ve=$+2|0,Ke=($+2|0)+(Ge|0)|0,V(Ge+1|0)|0)?1:(g(Ve|0,Ke|0),$=Ke|0,0)}function Oe(Q){Q=Q|0;var Ve=0,Ke=0,Ge=0;return V(2)|0||(Ge=W($+1|0)|0,Ve=$+3|0,Ke=($+3|0)+(Ge|0)|0,V(Ge+2|0)|0)?1:(g(Ve|0,Ke|0),$=Ke|0,0)}function Se(Q){Q=Q|0;var Ve=0,Ke=0,Ge=0;return V(4)|0||(Ge=E($+1|0)|0,Ve=$+5|0,Ke=($+5|0)+(Ge|0)|0,V(Ge+4|0)|0)?1:(g(Ve|0,Ke|0),$=Ke|0,0)}function Ae(Q){return Q=Q|0,1}function We(Q){return Q=Q|0,k(),$=$+1|0,0}function me(Q){return Q=Q|0,G(Q-128|0),$=$+1|0,0}function Me(Q){return Q=Q|0,V(1)|0?1:(G(i[$+1|0]|0),$=$+2|0,0)}function Ye(Q){return Q=Q|0,V(2)|0?1:(G(W($+1|0)|0),$=$+3|0,0)}function Xe(Q){return Q=Q|0,V(4)|0?1:(v(W($+1|0)|0,W($+3|0)|0),$=$+5|0,0)}function Je(Q){return Q=Q|0,V(8)|0?1:(A(W($+1|0)|0,W($+3|0)|0,W($+5|0)|0,W($+7|0)|0),$=$+9|0,0)}function St(Q){return Q=Q|0,I(),$=$+1|0,0}function Ie(Q){Q=Q|0;var Ve=0;return Ve=Q-160|0,V(Ve|0)|0?1:(K(Ve|0),$=$+1|0,0)}function et(Q){return Q=Q|0,V(1)|0?1:(K(i[$+1|0]|0),$=$+2|0,0)}function Vt(Q){return Q=Q|0,V(2)|0?1:(K(W($+1|0)|0),$=$+3|0,0)}function tt(Q){return Q=Q|0,V(4)|0?1:(C(W($+1|0)|0,W($+3|0)|0),$=$+5|0,0)}function Pe(Q){return Q=Q|0,V(8)|0?1:(b(W($+1|0)|0,W($+3|0)|0,W($+5|0)|0,W($+7|0)|0),$=$+9|0,0)}function dt(Q){return Q=Q|0,D(),$=$+1|0,0}function ke(Q){return Q=Q|0,p(Q-192|0|0),$=$+1|0,0}function $e(Q){return Q=Q|0,p(Q|0),$=$+1|0,0}function gt(Q){return Q=Q|0,p(Q|0),$=$+1|0,0}function Re(Q){return Q=Q|0,p(Q|0),$=$+1|0,0}function Ne(Q){return Q=Q|0,p(Q|0),$=$+1|0,0}function Te(Q){return Q=Q|0,p(Q-192|0|0),$=$+1|0,0}function Ue(Q){return Q=Q|0,p(Q|0),$=$+1|0,0}function Be(Q){return Q=Q|0,p(Q|0),$=$+1|0,0}function wt(Q){return Q=Q|0,p(Q|0),$=$+1|0,0}function Ce(Q){return Q=Q|0,V(1)|0?1:(p(i[$+1|0]|0),$=$+2|0,0)}function Le(Q){return Q=Q|0,V(2)|0?1:(p(W($+1|0)|0),$=$+3|0,0)}function rt(Q){return Q=Q|0,V(4)|0?1:(d(W($+1|0)|0,W($+3|0)|0),$=$+5|0,0)}function De(Q){return Q=Q|0,V(8)|0?1:(c(W($+1|0)|0,W($+3|0)|0,W($+5|0)|0,W($+7|0)|0),$=$+9|0,0)}function xe(Q){return Q=Q|0,L((Q|0)-224|0),$=$+1|0,0}function cn(Q){return Q=Q|0,M(),$=$+1|0,0}function lt(Q){return Q=Q|0,w(),$=$+1|0,0}function ht(Q){return Q=Q|0,R(),$=$+1|0,0}function Kt(Q){return Q=Q|0,x(),$=$+1|0,0}function Br(Q){return Q=Q|0,V(1)|0?1:(L(i[$+1|0]|0),$=$+2|0,0)}function Fr(Q){Q=Q|0;var Ve=0,Ke=0,Ge=1,En=0,qr=0,Yn=0;return V(2)|0?1:(Ve=i[$+1|0]|0,Ke=i[$+2|0]|0,(Ve|0)&128&&(Ge=-1),En=+(((Ve|0)&124)>>2),qr=+(((Ve|0)&3)<<8|Ke),+En==0?h(+(+Ge*5960464477539063e-23*+qr)):+En==31?+Ge==1?+qr>0?q():O():+qr>0?B():j():h(+(+Ge*H(2,+(+En-25))*+(1024+qr))),$=$+3|0,0)}function jr(Q){return Q=Q|0,V(4)|0?1:(l(i[$+1|0]|0,i[$+2|0]|0,i[$+3|0]|0,i[$+4|0]|0),$=$+5|0,0)}function zr(Q){return Q=Q|0,V(8)|0?1:(m(i[$+1|0]|0,i[$+2|0]|0,i[$+3|0]|0,i[$+4|0]|0,i[$+5|0]|0,i[$+6|0]|0,i[$+7|0]|0,i[$+8|0]|0),$=$+9|0,0)}function Ze(Q){return Q=Q|0,1}function Jt(Q){return Q=Q|0,U(),$=$+1|0,0}var Fi=[J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,ne,ae,ue,he,Ze,Ze,Ze,Ze,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,P,N,Y,ee,Ze,Ze,Ze,Ze,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,ie,de,ce,le,Ze,Ze,Ze,_e,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,we,Oe,Se,Ae,Ze,Ze,Ze,We,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,Me,Ye,Xe,Je,Ze,Ze,Ze,St,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,Ie,et,Vt,tt,Pe,Ze,Ze,Ze,dt,ke,ke,ke,ke,ke,ke,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Ce,Le,rt,De,Ze,Ze,Ze,Ze,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,cn,lt,ht,Kt,Br,Fr,jr,zr,Ze,Ze,Ze,Jt];return{parse:F}},of={},ur={};const Nh=nf.BigNumber;ur.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};ur.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};ur.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};ur.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};ur.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};ur.SHIFT32=Math.pow(2,32);ur.SHIFT16=Math.pow(2,16);ur.MAX_SAFE_HIGH=2097151;ur.NEG_ONE=new Nh(-1);ur.TEN=new Nh(10);ur.TWO=new Nh(2);ur.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(t){const{Buffer:e}=cs,r=nf.BigNumber,n=ur,i=n.SHIFT32,o=n.SHIFT16,a=2097151;t.parseHalf=function(f){var h,l,m;return m=f[0]&128?-1:1,h=(f[0]&124)>>2,l=(f[0]&3)<<8|f[1],h?h===31?m*(l?0/0:1/0):m*Math.pow(2,h-25)*(1024+l):m*5960464477539063e-23*l};function s(u){return u<16?"0"+u.toString(16):u.toString(16)}t.arrayBufferToBignumber=function(u){const f=u.byteLength;let h="";for(let l=0;l<f;l++)h+=s(u[l]);return new r(h,16)},t.buildMap=u=>{const f=new Map,h=Object.keys(u),l=h.length;for(let m=0;m<l;m++)f.set(h[m],u[h[m]]);return f},t.buildInt32=(u,f)=>u*o+f,t.buildInt64=(u,f,h,l)=>{const m=t.buildInt32(u,f),w=t.buildInt32(h,l);return m>a?new r(m).times(i).plus(w):m*i+w},t.writeHalf=function(f,h){const l=e.allocUnsafe(4);l.writeFloatBE(h,0);const m=l.readUInt32BE(0);if((m&8191)!=0)return!1;var w=m>>16&32768;const M=m>>23&255,x=m&8388607;if(M>=113&&M<=142)w+=(M-112<<10)+(x>>13);else if(M>=103&&M<113){if(x&(1<<126-M)-1)return!1;w+=x+8388608>>126-M}else return!1;return f.writeUInt16BE(w,0),!0},t.keySorter=function(u,f){var h=u[0].byteLength,l=f[0].byteLength;return h>l?1:l>h?-1:u[0].compare(f[0])},t.isNegativeZero=u=>u===0&&1/u<0,t.nextPowerOf2=u=>{let f=0;if(u&&!(u&u-1))return u;for(;u!==0;)u>>=1,f+=1;return 1<<f}})(of);const Ch=ur,$k=Ch.MT,af=Ch.SIMPLE,Lh=Ch.SYMS;class sf{constructor(e){if(typeof e!="number")throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(e|0)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,$k.SIMPLE_FLOAT)}static isSimple(e){return e instanceof sf}static decode(e,r){switch(r==null&&(r=!0),e){case af.FALSE:return!1;case af.TRUE:return!0;case af.NULL:return r?null:Lh.NULL;case af.UNDEFINED:return r?void 0:Lh.UNDEFINED;case-1:if(!r)throw new Error("Invalid BREAK");return Lh.BREAK;default:return new sf(e)}}}var Pm=sf;class uf{constructor(e,r,n){if(this.tag=e,this.value=r,this.err=n,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){var r,n;if(n=e!=null?e[this.tag]:void 0,typeof n!="function"&&(n=uf["_tag"+this.tag],typeof n!="function"))return this;try{return n.call(uf,this.value)}catch(i){return r=i,this.err=r,this}}}var Rm=uf;const Nm=self.location?self.location.protocol+"//"+self.location.host:"",Dh=self.URL;class Uk{constructor(e="",r=Nm){this.super=new Dh(e,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function Bk(t){if(typeof t=="string")return new Dh(t).toString();if(!(t instanceof Dh)){const e=t.username&&t.password?`${t.username}:${t.password}@`:"",r=t.auth?t.auth+"@":"",n=t.port?":"+t.port:"",i=t.protocol?t.protocol+"//":"",o=t.host||"",a=t.hostname||"",s=t.search||(t.query?"?"+t.query:""),u=t.hash||"",f=t.pathname||"",h=t.path||f+s;return`${i}${e||r}${o||a+n}${h}${u}`}}var Cm={URLWithLegacySupport:Uk,URLSearchParams:self.URLSearchParams,defaultBase:Nm,format:Bk};const{URLWithLegacySupport:Lm,format:Fk}=Cm;var jk=(t,e={},r={},n)=>{let i=e.protocol?e.protocol.replace(":",""):"http";i=(r[i]||n||i)+":";let o;try{o=new Lm(t)}catch{o={}}const a=Object.assign({},e,{protocol:i||o.protocol,host:e.host||o.host});return new Lm(t,Fk(a)).toString()};const{URLWithLegacySupport:zk,format:qk,URLSearchParams:Gk,defaultBase:Hk}=Cm,Wk=jk;var Dm={URL:zk,URLSearchParams:Gk,format:qk,relative:Wk,defaultBase:Hk};const{Buffer:aa}=cs,$m=ef,Vk=nf.BigNumber,Kk=Dk,mr=of,vt=ur,Jk=Pm,Yk=Rm,{URL:Xk}=Dm;class sa{constructor(e){e=e||{},!e.size||e.size<65536?e.size=65536:e.size=mr.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=aa.from(this._heap),this._reset(),this._knownTags=Object.assign({0:r=>new Date(r),1:r=>new Date(r*1e3),2:r=>mr.arrayBufferToBignumber(r),3:r=>vt.NEG_ONE.minus(mr.arrayBufferToBignumber(r)),4:r=>vt.TEN.pow(r[0]).times(r[1]),5:r=>vt.TWO.pow(r[0]).times(r[1]),32:r=>new Xk(r),35:r=>new RegExp(r)},e.tags),this.parser=Kk(te,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var e=this._parents.pop();if(e.length>0)throw new Error(`Missing ${e.length} elements`);switch(e.type){case vt.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case vt.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case vt.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case vt.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case vt.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case vt.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length));break}this._currentParent&&this._currentParent.type===vt.PARENT.TAG&&this._dec()}_dec(){const e=this._currentParent;e.length<0||(e.length--,e.length===0&&this._closeParent())}_push(e,r){const n=this._currentParent;switch(n.values++,n.type){case vt.PARENT.ARRAY:case vt.PARENT.BYTE_STRING:case vt.PARENT.UTF8_STRING:n.length>-1?this._ref[this._ref.length-n.length]=e:this._ref.push(e),this._dec();break;case vt.PARENT.OBJECT:n.tmpKey!=null?(this._ref[n.tmpKey]=e,n.tmpKey=null,this._dec()):(n.tmpKey=e,typeof n.tmpKey!="string"&&(n.type=vt.PARENT.MAP,n.ref=mr.buildMap(n.ref)));break;case vt.PARENT.MAP:n.tmpKey!=null?(this._ref.set(n.tmpKey,e),n.tmpKey=null,this._dec()):n.tmpKey=e;break;case vt.PARENT.TAG:this._ref.push(e),r||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(e,r,n){this._parents[this._depth]={type:r,length:n,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:vt.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,r){const n=this._knownTags[e];return n?n(r):new Yk(e,r)}createMap(e,r){return e}createObject(e,r){return e}createArray(e,r){return e}createByteString(e,r){return aa.concat(e)}createByteStringFromHeap(e,r){return e===r?aa.alloc(0):aa.from(this._heap.slice(e,r))}createInt(e){return e}createInt32(e,r){return mr.buildInt32(e,r)}createInt64(e,r,n,i){return mr.buildInt64(e,r,n,i)}createFloat(e){return e}createFloatSingle(e,r,n,i){return $m.read([e,r,n,i],0,!1,23,4)}createFloatDouble(e,r,n,i,o,a,s,u){return $m.read([e,r,n,i,o,a,s,u],0,!1,52,8)}createInt32Neg(e,r){return-1-mr.buildInt32(e,r)}createInt64Neg(e,r,n,i){const o=mr.buildInt32(e,r),a=mr.buildInt32(n,i);return o>vt.MAX_SAFE_HIGH?vt.NEG_ONE.minus(new Vk(o).times(vt.SHIFT32).plus(a)):-1-(o*vt.SHIFT32+a)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(e,r){return e.join("")}createUtf8StringFromHeap(e,r){return e===r?"":this._buffer.toString("utf8",e,r)}createSimpleUnassigned(e){return new Jk(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,r){this._push(this.createInt32(e,r))}pushInt64(e,r,n,i){this._push(this.createInt64(e,r,n,i))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,r,n,i){this._push(this.createFloatSingle(e,r,n,i))}pushFloatDouble(e,r,n,i,o,a,s,u){this._push(this.createFloatDouble(e,r,n,i,o,a,s,u))}pushInt32Neg(e,r){this._push(this.createInt32Neg(e,r))}pushInt64Neg(e,r,n,i){this._push(this.createInt64Neg(e,r,n,i))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],vt.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,r){const n=mr.buildInt32(e,r);this._createArrayStartFixed(n)}pushArrayStartFixed64(e,r,n,i){const o=mr.buildInt64(e,r,n,i);this._createArrayStartFixed(o)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,r){const n=mr.buildInt32(e,r);this._createObjectStartFixed(n)}pushObjectStartFixed64(e,r,n,i){const o=mr.buildInt64(e,r,n,i);this._createObjectStartFixed(o)}pushByteStringStart(){this._parents[this._depth]={type:vt.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,r){this._push(this.createByteStringFromHeap(e,r))}pushUtf8StringStart(){this._parents[this._depth]={type:vt.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,r){this._push(this.createUtf8StringFromHeap(e,r))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:vt.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,r){this.pushTagStart(mr.buildInt32(e,r))}pushTagStart8(e,r,n,i){this.pushTagStart(mr.buildInt64(e,r,n,i))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){if(e===0){this._push(this.createObject({}));return}this._createParent({},vt.PARENT.OBJECT,e)}_createArrayStartFixed(e){if(e===0){this._push(this.createArray([]));return}this._createParent(new Array(e),vt.PARENT.ARRAY,e)}_decode(e){if(e.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(e);const r=this.parser.parse(e.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(r>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,r){return typeof e=="string"&&(e=aa.from(e,r||"hex")),new sa({size:e.length}).decodeFirst(e)}static decodeAll(e,r){return typeof e=="string"&&(e=aa.from(e,r||"hex")),new sa({size:e.length}).decodeAll(e)}}sa.decodeFirst=sa.decode;var Um=sa;const{Buffer:$h}=cs,Zk=Um,Qk=of;class Uh extends Zk{createTag(e,r){return`${e}(${r})`}createInt(e){return super.createInt(e).toString()}createInt32(e,r){return super.createInt32(e,r).toString()}createInt64(e,r,n,i){return super.createInt64(e,r,n,i).toString()}createInt32Neg(e,r){return super.createInt32Neg(e,r).toString()}createInt64Neg(e,r,n,i){return super.createInt64Neg(e,r,n,i).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){const r=super.createFloat(e);return Qk.isNegativeZero(e)?"-0_1":`${r}_1`}createFloatSingle(e,r,n,i){return`${super.createFloatSingle(e,r,n,i)}_2`}createFloatDouble(e,r,n,i,o,a,s,u){return`${super.createFloatDouble(e,r,n,i,o,a,s,u)}_3`}createByteString(e,r){const n=e.join(", ");return r===-1?`(_ ${n})`:`h'${n}`}createByteStringFromHeap(e,r){return`h'${$h.from(super.createByteStringFromHeap(e,r)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,r){const n=super.createArray(e,r);return r===-1?`[_ ${n.join(", ")}]`:`[${n.join(", ")}]`}createMap(e,r){const n=super.createMap(e),i=Array.from(n.keys()).reduce(Bm(n),"");return r===-1?`{_ ${i}}`:`{${i}}`}createObject(e,r){const n=super.createObject(e),i=Object.keys(n).reduce(Bm(n),"");return r===-1?`{_ ${i}}`:`{${i}}`}createUtf8String(e,r){const n=e.join(", ");return r===-1?`(_ ${n})`:`"${n}"`}createUtf8StringFromHeap(e,r){return`"${$h.from(super.createUtf8StringFromHeap(e,r)).toString("utf8")}"`}static diagnose(e,r){return typeof e=="string"&&(e=$h.from(e,r||"hex")),new Uh().decodeFirst(e)}}var eT=Uh;function Bm(t){return(e,r)=>e?`${e}, ${r}: ${t[r]}`:`${r}: ${t[r]}`}const{Buffer:Pn}=cs,{URL:tT}=Dm,Bh=nf.BigNumber,Fh=of,Lt=ur,vn=Lt.MT,ff=Lt.NUMBYTES,Fm=Lt.SHIFT32,jm=Lt.SYMS,ua=Lt.TAG,rT=Lt.MT.SIMPLE_FLOAT<<5|Lt.NUMBYTES.TWO,nT=Lt.MT.SIMPLE_FLOAT<<5|Lt.NUMBYTES.FOUR,iT=Lt.MT.SIMPLE_FLOAT<<5|Lt.NUMBYTES.EIGHT,oT=Lt.MT.SIMPLE_FLOAT<<5|Lt.SIMPLE.TRUE,aT=Lt.MT.SIMPLE_FLOAT<<5|Lt.SIMPLE.FALSE,sT=Lt.MT.SIMPLE_FLOAT<<5|Lt.SIMPLE.UNDEFINED,zm=Lt.MT.SIMPLE_FLOAT<<5|Lt.SIMPLE.NULL,uT=new Bh("0x20000000000000"),fT=Pn.from("f97e00","hex"),cT=Pn.from("f9fc00","hex"),lT=Pn.from("f97c00","hex");function hT(t){return{}.toString.call(t).slice(8,-1)}class cf{constructor(e){e=e||{},this.streaming=typeof e.stream=="function",this.onData=e.stream,this.semanticTypes=[[tT,this._pushUrl],[Bh,this._pushBigNumber]];const r=e.genTypes||[],n=r.length;for(let i=0;i<n;i++)this.addSemanticType(r[i][0],r[i][1]);this._reset()}addSemanticType(e,r){const n=this.semanticTypes.length;for(let i=0;i<n;i++)if(this.semanticTypes[i][0]===e){const a=this.semanticTypes[i][1];return this.semanticTypes[i][1]=r,a}return this.semanticTypes.push([e,r]),null}push(e){return e&&(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(e,r,n){return this.result[this.offset]=e,this.resultMethod[this.offset]=r,this.resultLength[this.offset]=n,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(fT)}_pushInfinity(e){const r=e<0?cT:lT;return this.push(r)}_pushFloat(e){const r=Pn.allocUnsafe(2);if(Fh.writeHalf(r,e)&&Fh.parseHalf(r)===e)return this._pushUInt8(rT)&&this.push(r);const n=Pn.allocUnsafe(4);return n.writeFloatBE(e,0),n.readFloatBE(0)===e?this._pushUInt8(nT)&&this.push(n):this._pushUInt8(iT)&&this._pushDoubleBE(e)}_pushInt(e,r,n){const i=r<<5;return e<24?this._pushUInt8(i|e):e<=255?this._pushUInt8(i|ff.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(i|ff.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(i|ff.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(i|ff.EIGHT)&&this._pushUInt32BE(Math.floor(e/Fm))&&this._pushUInt32BE(e%Fm):r===vn.NEG_INT?this._pushFloat(n):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,vn.NEG_INT,e):this._pushInt(e,vn.POS_INT)}_pushNumber(e){switch(!1){case e===e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!=0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const r=Pn.byteLength(e,"utf8");return this._pushInt(r,vn.UTF8_STRING)&&this.pushWrite(e,5,r)}_pushBoolean(e){return this._pushUInt8(e?oT:aT)}_pushUndefined(e){return this._pushUInt8(sT)}_pushArray(e,r){const n=r.length;if(!e._pushInt(n,vn.ARRAY))return!1;for(let i=0;i<n;i++)if(!e.pushAny(r[i]))return!1;return!0}_pushTag(e){return this._pushInt(e,vn.TAG)}_pushDate(e,r){return e._pushTag(ua.DATE_EPOCH)&&e.pushAny(Math.round(r/1e3))}_pushBuffer(e,r){return e._pushInt(r.length,vn.BYTE_STRING)&&e.push(r)}_pushNoFilter(e,r){return e._pushBuffer(e,r.slice())}_pushRegexp(e,r){return e._pushTag(ua.REGEXP)&&e.pushAny(r.source)}_pushSet(e,r){if(!e._pushInt(r.size,vn.ARRAY))return!1;for(const n of r)if(!e.pushAny(n))return!1;return!0}_pushUrl(e,r){return e._pushTag(ua.URI)&&e.pushAny(r.format())}_pushBigint(e){let r=ua.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),r=ua.NEG_BIGINT);let n=e.toString(16);n.length%2&&(n="0"+n);const i=Pn.from(n,"hex");return this._pushTag(r)&&this._pushBuffer(this,i)}_pushBigNumber(e,r){if(r.isNaN())return e._pushNaN();if(!r.isFinite())return e._pushInfinity(r.isNegative()?-1/0:1/0);if(r.isInteger())return e._pushBigint(r);if(!(e._pushTag(ua.DECIMAL_FRAC)&&e._pushInt(2,vn.ARRAY)))return!1;const n=r.decimalPlaces(),i=r.multipliedBy(new Bh(10).pow(n));return e._pushIntNum(-n)?i.abs().isLessThan(uT)?e._pushIntNum(i.toNumber()):e._pushBigint(i):!1}_pushMap(e,r){return e._pushInt(r.size,vn.MAP)?this._pushRawMap(r.size,Array.from(r)):!1}_pushObject(e){if(!e)return this._pushUInt8(zm);for(var r=this.semanticTypes.length,n=0;n<r;n++)if(e instanceof this.semanticTypes[n][0])return this.semanticTypes[n][1].call(e,this,e);var i=e.encodeCBOR;if(typeof i=="function")return i.call(e,this);var o=Object.keys(e),a=o.length;return this._pushInt(a,vn.MAP)?this._pushRawMap(a,o.map(s=>[s,e[s]])):!1}_pushRawMap(e,r){r=r.map(function(i){return i[0]=cf.encode(i[0]),i}).sort(Fh.keySorter);for(var n=0;n<e;n++)if(!this.push(r[n][0])||!this.pushAny(r[n][1]))return!1;return!0}write(e){return this.pushAny(e)}pushAny(e){var r=hT(e);switch(r){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,Pn.isBuffer(e)?e:Pn.from(e));case"Null":return this._pushUInt8(zm);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case jm.NULL:return this._pushObject(null);case jm.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(this.offset===0)return null;for(var e=this.result,r=this.resultLength,n=this.resultMethod,i=this.offset,o=0,a=0;a<i;a++)o+=r[a];var s=Pn.allocUnsafe(o),u=0,f=0;for(a=0;a<i;a++){switch(f=r[a],n[a]){case 0:e[a].copy(s,u);break;case 1:s.writeUInt8(e[a],u,!0);break;case 2:s.writeUInt16BE(e[a],u,!0);break;case 3:s.writeUInt32BE(e[a],u,!0);break;case 4:s.writeDoubleBE(e[a],u,!0);break;case 5:s.write(e[a],u,f,"utf8");break;default:throw new Error("unkown method")}u+=f}var h=s;return this._reset(),h}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){const r=new cf;if(!r.pushAny(e))throw new Error("Failed to encode input");return r.finalize()}}var dT=cf;(function(t){t.Diagnose=eT,t.Decoder=Um,t.Encoder=dT,t.Simple=Pm,t.Tagged=Rm,t.decodeAll=t.Decoder.decodeAll,t.decodeFirst=t.Decoder.decodeFirst,t.diagnose=t.Diagnose.diagnose,t.encode=t.Encoder.encode,t.decode=t.Decoder.decode,t.leveldb={decode:t.Decoder.decodeAll,encode:t.Encoder.encode,buffer:!0,name:"cbor"}})(Im);function qm(t,e){for(const r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function vT(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return qm(t,r)}catch{r.message=t.message,r.stack=t.stack;const i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),qm(new i,r)}}var pT=vT,jh={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&typeof self=="object",a=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?i=te:o&&(i=self);var s=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,u=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",f="0123456789abcdef".split(""),h=[31,7936,2031616,520093696],l=[4,1024,262144,67108864],m=[1,256,65536,16777216],w=[6,1536,393216,100663296],M=[0,8,16,24],x=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],R=[224,256,384,512],O=[128,256],j=["hex","buffer","arrayBuffer","array","digest"],q={"128":168,"256":136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(T){return Object.prototype.toString.call(T)==="[object Array]"}),u&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(T){return typeof T=="object"&&T.buffer&&T.buffer.constructor===ArrayBuffer});for(var B=function(T,Z,F){return function(V){return new U(T,Z,T).update(V)[F]()}},I=function(T,Z,F){return function(V,W){return new U(T,Z,W).update(V)[F]()}},G=function(T,Z,F){return function(V,W,E,J){return y["cshake"+T].update(V,W,E,J)[F]()}},v=function(T,Z,F){return function(V,W,E,J){return y["kmac"+T].update(V,W,E,J)[F]()}},A=function(T,Z,F,V){for(var W=0;W<j.length;++W){var E=j[W];T[E]=Z(F,V,E)}return T},D=function(T,Z){var F=B(T,Z,"hex");return F.create=function(){return new U(T,Z,T)},F.update=function(V){return F.create().update(V)},A(F,B,T,Z)},K=function(T,Z){var F=I(T,Z,"hex");return F.create=function(V){return new U(T,Z,V)},F.update=function(V,W){return F.create(W).update(V)},A(F,I,T,Z)},C=function(T,Z){var F=q[T],V=G(T,Z,"hex");return V.create=function(W,E,J){return!E&&!J?y["shake"+T].create(W):new U(T,Z,W).bytepad([E,J],F)},V.update=function(W,E,J,ne){return V.create(E,J,ne).update(W)},A(V,G,T,Z)},b=function(T,Z){var F=q[T],V=v(T,Z,"hex");return V.create=function(W,E,J){return new H(T,Z,E).bytepad(["KMAC",J],F).bytepad([W],F)},V.update=function(W,E,J,ne){return V.create(W,J,ne).update(E)},A(V,v,T,Z)},S=[{name:"keccak",padding:m,bits:R,createMethod:D},{name:"sha3",padding:w,bits:R,createMethod:D},{name:"shake",padding:h,bits:O,createMethod:K},{name:"cshake",padding:l,bits:O,createMethod:C},{name:"kmac",padding:l,bits:O,createMethod:b}],y={},g=[],k=0;k<S.length;++k)for(var L=S[k],p=L.bits,d=0;d<p.length;++d){var c=L.name+"_"+p[d];if(g.push(c),y[c]=L.createMethod(p[d],L.padding),L.name!=="sha3"){var _=L.name+p[d];g.push(_),y[_]=y[c]}}function U(T,Z,F){this.blocks=[],this.s=[],this.padding=Z,this.outputBits=F,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(T<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=F>>5,this.extraBytes=(F&31)>>3;for(var V=0;V<50;++V)this.s[V]=0}U.prototype.update=function(T){if(this.finalized)throw new Error(r);var Z,F=typeof T;if(F!=="string"){if(F==="object"){if(T===null)throw new Error(e);if(u&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!u||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);Z=!0}for(var V=this.blocks,W=this.byteCount,E=T.length,J=this.blockCount,ne=0,ae=this.s,ue,he;ne<E;){if(this.reset)for(this.reset=!1,V[0]=this.block,ue=1;ue<J+1;++ue)V[ue]=0;if(Z)for(ue=this.start;ne<E&&ue<W;++ne)V[ue>>2]|=T[ne]<<M[ue++&3];else for(ue=this.start;ne<E&&ue<W;++ne)he=T.charCodeAt(ne),he<128?V[ue>>2]|=he<<M[ue++&3]:he<2048?(V[ue>>2]|=(192|he>>6)<<M[ue++&3],V[ue>>2]|=(128|he&63)<<M[ue++&3]):he<55296||he>=57344?(V[ue>>2]|=(224|he>>12)<<M[ue++&3],V[ue>>2]|=(128|he>>6&63)<<M[ue++&3],V[ue>>2]|=(128|he&63)<<M[ue++&3]):(he=65536+((he&1023)<<10|T.charCodeAt(++ne)&1023),V[ue>>2]|=(240|he>>18)<<M[ue++&3],V[ue>>2]|=(128|he>>12&63)<<M[ue++&3],V[ue>>2]|=(128|he>>6&63)<<M[ue++&3],V[ue>>2]|=(128|he&63)<<M[ue++&3]);if(this.lastByteIndex=ue,ue>=W){for(this.start=ue-W,this.block=V[J],ue=0;ue<J;++ue)ae[ue]^=V[ue];$(ae),this.reset=!0}else this.start=ue}return this},U.prototype.encode=function(T,Z){var F=T&255,V=1,W=[F];for(T=T>>8,F=T&255;F>0;)W.unshift(F),T=T>>8,F=T&255,++V;return Z?W.push(V):W.unshift(V),this.update(W),W.length},U.prototype.encodeString=function(T){var Z,F=typeof T;if(F!=="string"){if(F==="object"){if(T===null)throw new Error(e);if(u&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!u||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);Z=!0}var V=0,W=T.length;if(Z)V=W;else for(var E=0;E<T.length;++E){var J=T.charCodeAt(E);J<128?V+=1:J<2048?V+=2:J<55296||J>=57344?V+=3:(J=65536+((J&1023)<<10|T.charCodeAt(++E)&1023),V+=4)}return V+=this.encode(V*8),this.update(T),V},U.prototype.bytepad=function(T,Z){for(var F=this.encode(Z),V=0;V<T.length;++V)F+=this.encodeString(T[V]);var W=Z-F%Z,E=[];return E.length=W,this.update(E),this},U.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var T=this.blocks,Z=this.lastByteIndex,F=this.blockCount,V=this.s;if(T[Z>>2]|=this.padding[Z&3],this.lastByteIndex===this.byteCount)for(T[0]=T[F],Z=1;Z<F+1;++Z)T[Z]=0;for(T[F-1]|=2147483648,Z=0;Z<F;++Z)V[Z]^=T[Z];$(V)}},U.prototype.toString=U.prototype.hex=function(){this.finalize();for(var T=this.blockCount,Z=this.s,F=this.outputBlocks,V=this.extraBytes,W=0,E=0,J="",ne;E<F;){for(W=0;W<T&&E<F;++W,++E)ne=Z[W],J+=f[ne>>4&15]+f[ne&15]+f[ne>>12&15]+f[ne>>8&15]+f[ne>>20&15]+f[ne>>16&15]+f[ne>>28&15]+f[ne>>24&15];E%T==0&&($(Z),W=0)}return V&&(ne=Z[W],J+=f[ne>>4&15]+f[ne&15],V>1&&(J+=f[ne>>12&15]+f[ne>>8&15]),V>2&&(J+=f[ne>>20&15]+f[ne>>16&15])),J},U.prototype.arrayBuffer=function(){this.finalize();var T=this.blockCount,Z=this.s,F=this.outputBlocks,V=this.extraBytes,W=0,E=0,J=this.outputBits>>3,ne;V?ne=new ArrayBuffer(F+1<<2):ne=new ArrayBuffer(J);for(var ae=new Uint32Array(ne);E<F;){for(W=0;W<T&&E<F;++W,++E)ae[E]=Z[W];E%T==0&&$(Z)}return V&&(ae[W]=Z[W],ne=ne.slice(0,J)),ne},U.prototype.buffer=U.prototype.arrayBuffer,U.prototype.digest=U.prototype.array=function(){this.finalize();for(var T=this.blockCount,Z=this.s,F=this.outputBlocks,V=this.extraBytes,W=0,E=0,J=[],ne,ae;E<F;){for(W=0;W<T&&E<F;++W,++E)ne=E<<2,ae=Z[W],J[ne]=ae&255,J[ne+1]=ae>>8&255,J[ne+2]=ae>>16&255,J[ne+3]=ae>>24&255;E%T==0&&$(Z)}return V&&(ne=E<<2,ae=Z[W],J[ne]=ae&255,V>1&&(J[ne+1]=ae>>8&255),V>2&&(J[ne+2]=ae>>16&255)),J};function H(T,Z,F){U.call(this,T,Z,F)}H.prototype=new U,H.prototype.finalize=function(){return this.encode(this.outputBits,!0),U.prototype.finalize.call(this)};var $=function(T){var Z,F,V,W,E,J,ne,ae,ue,he,z,P,N,Y,ee,re,ie,de,ce,le,_e,se,we,Oe,Se,Ae,We,me,Me,Ye,Xe,Je,St,Ie,et,Vt,tt,Pe,dt,ke,$e,gt,Re,Ne,Te,Ue,Be,wt,Ce,Le,rt,De,xe,cn,lt,ht,Kt,Br,Fr,jr,zr,Ze,Jt;for(V=0;V<48;V+=2)W=T[0]^T[10]^T[20]^T[30]^T[40],E=T[1]^T[11]^T[21]^T[31]^T[41],J=T[2]^T[12]^T[22]^T[32]^T[42],ne=T[3]^T[13]^T[23]^T[33]^T[43],ae=T[4]^T[14]^T[24]^T[34]^T[44],ue=T[5]^T[15]^T[25]^T[35]^T[45],he=T[6]^T[16]^T[26]^T[36]^T[46],z=T[7]^T[17]^T[27]^T[37]^T[47],P=T[8]^T[18]^T[28]^T[38]^T[48],N=T[9]^T[19]^T[29]^T[39]^T[49],Z=P^(J<<1|ne>>>31),F=N^(ne<<1|J>>>31),T[0]^=Z,T[1]^=F,T[10]^=Z,T[11]^=F,T[20]^=Z,T[21]^=F,T[30]^=Z,T[31]^=F,T[40]^=Z,T[41]^=F,Z=W^(ae<<1|ue>>>31),F=E^(ue<<1|ae>>>31),T[2]^=Z,T[3]^=F,T[12]^=Z,T[13]^=F,T[22]^=Z,T[23]^=F,T[32]^=Z,T[33]^=F,T[42]^=Z,T[43]^=F,Z=J^(he<<1|z>>>31),F=ne^(z<<1|he>>>31),T[4]^=Z,T[5]^=F,T[14]^=Z,T[15]^=F,T[24]^=Z,T[25]^=F,T[34]^=Z,T[35]^=F,T[44]^=Z,T[45]^=F,Z=ae^(P<<1|N>>>31),F=ue^(N<<1|P>>>31),T[6]^=Z,T[7]^=F,T[16]^=Z,T[17]^=F,T[26]^=Z,T[27]^=F,T[36]^=Z,T[37]^=F,T[46]^=Z,T[47]^=F,Z=he^(W<<1|E>>>31),F=z^(E<<1|W>>>31),T[8]^=Z,T[9]^=F,T[18]^=Z,T[19]^=F,T[28]^=Z,T[29]^=F,T[38]^=Z,T[39]^=F,T[48]^=Z,T[49]^=F,Y=T[0],ee=T[1],Ue=T[11]<<4|T[10]>>>28,Be=T[10]<<4|T[11]>>>28,me=T[20]<<3|T[21]>>>29,Me=T[21]<<3|T[20]>>>29,jr=T[31]<<9|T[30]>>>23,zr=T[30]<<9|T[31]>>>23,gt=T[40]<<18|T[41]>>>14,Re=T[41]<<18|T[40]>>>14,Ie=T[2]<<1|T[3]>>>31,et=T[3]<<1|T[2]>>>31,re=T[13]<<12|T[12]>>>20,ie=T[12]<<12|T[13]>>>20,wt=T[22]<<10|T[23]>>>22,Ce=T[23]<<10|T[22]>>>22,Ye=T[33]<<13|T[32]>>>19,Xe=T[32]<<13|T[33]>>>19,Ze=T[42]<<2|T[43]>>>30,Jt=T[43]<<2|T[42]>>>30,cn=T[5]<<30|T[4]>>>2,lt=T[4]<<30|T[5]>>>2,Vt=T[14]<<6|T[15]>>>26,tt=T[15]<<6|T[14]>>>26,de=T[25]<<11|T[24]>>>21,ce=T[24]<<11|T[25]>>>21,Le=T[34]<<15|T[35]>>>17,rt=T[35]<<15|T[34]>>>17,Je=T[45]<<29|T[44]>>>3,St=T[44]<<29|T[45]>>>3,Oe=T[6]<<28|T[7]>>>4,Se=T[7]<<28|T[6]>>>4,ht=T[17]<<23|T[16]>>>9,Kt=T[16]<<23|T[17]>>>9,Pe=T[26]<<25|T[27]>>>7,dt=T[27]<<25|T[26]>>>7,le=T[36]<<21|T[37]>>>11,_e=T[37]<<21|T[36]>>>11,De=T[47]<<24|T[46]>>>8,xe=T[46]<<24|T[47]>>>8,Ne=T[8]<<27|T[9]>>>5,Te=T[9]<<27|T[8]>>>5,Ae=T[18]<<20|T[19]>>>12,We=T[19]<<20|T[18]>>>12,Br=T[29]<<7|T[28]>>>25,Fr=T[28]<<7|T[29]>>>25,ke=T[38]<<8|T[39]>>>24,$e=T[39]<<8|T[38]>>>24,se=T[48]<<14|T[49]>>>18,we=T[49]<<14|T[48]>>>18,T[0]=Y^~re&de,T[1]=ee^~ie&ce,T[10]=Oe^~Ae&me,T[11]=Se^~We&Me,T[20]=Ie^~Vt&Pe,T[21]=et^~tt&dt,T[30]=Ne^~Ue&wt,T[31]=Te^~Be&Ce,T[40]=cn^~ht&Br,T[41]=lt^~Kt&Fr,T[2]=re^~de&le,T[3]=ie^~ce&_e,T[12]=Ae^~me&Ye,T[13]=We^~Me&Xe,T[22]=Vt^~Pe&ke,T[23]=tt^~dt&$e,T[32]=Ue^~wt&Le,T[33]=Be^~Ce&rt,T[42]=ht^~Br&jr,T[43]=Kt^~Fr&zr,T[4]=de^~le&se,T[5]=ce^~_e&we,T[14]=me^~Ye&Je,T[15]=Me^~Xe&St,T[24]=Pe^~ke&gt,T[25]=dt^~$e&Re,T[34]=wt^~Le&De,T[35]=Ce^~rt&xe,T[44]=Br^~jr&Ze,T[45]=Fr^~zr&Jt,T[6]=le^~se&Y,T[7]=_e^~we&ee,T[16]=Ye^~Je&Oe,T[17]=Xe^~St&Se,T[26]=ke^~gt&Ie,T[27]=$e^~Re&et,T[36]=Le^~De&Ne,T[37]=rt^~xe&Te,T[46]=jr^~Ze&cn,T[47]=zr^~Jt&lt,T[8]=se^~Y&re,T[9]=we^~ee&ie,T[18]=Je^~Oe&Ae,T[19]=St^~Se&We,T[28]=gt^~Ie&Vt,T[29]=Re^~et&tt,T[38]=De^~Ne&Ue,T[39]=xe^~Te&Be,T[48]=Ze^~cn&ht,T[49]=Jt^~lt&Kt,T[0]^=x[V],T[1]^=x[V+1]};if(s)t.exports=y;else for(k=0;k<g.length;++k)i[g[k]]=y[g[k]]})()})(jh);var zh={exports:{}};(function(t,e){(function(r,n){var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function o(x){if(!Array.isArray(x)&&!ArrayBuffer.isView(x))return!1;for(var R=0;R<x.length;R++)if(!Number.isInteger(x[R])||x[R]<0||x[R]>255)return!1;return!0}function a(x,R){return(x&65535)*R+(((x>>>16)*R&65535)<<16)}function s(x,R){return x<<R|x>>>32-R}function u(x){return x^=x>>>16,x=a(x,2246822507),x^=x>>>13,x=a(x,3266489909),x^=x>>>16,x}function f(x,R){x=[x[0]>>>16,x[0]&65535,x[1]>>>16,x[1]&65535],R=[R[0]>>>16,R[0]&65535,R[1]>>>16,R[1]&65535];var O=[0,0,0,0];return O[3]+=x[3]+R[3],O[2]+=O[3]>>>16,O[3]&=65535,O[2]+=x[2]+R[2],O[1]+=O[2]>>>16,O[2]&=65535,O[1]+=x[1]+R[1],O[0]+=O[1]>>>16,O[1]&=65535,O[0]+=x[0]+R[0],O[0]&=65535,[O[0]<<16|O[1],O[2]<<16|O[3]]}function h(x,R){x=[x[0]>>>16,x[0]&65535,x[1]>>>16,x[1]&65535],R=[R[0]>>>16,R[0]&65535,R[1]>>>16,R[1]&65535];var O=[0,0,0,0];return O[3]+=x[3]*R[3],O[2]+=O[3]>>>16,O[3]&=65535,O[2]+=x[2]*R[3],O[1]+=O[2]>>>16,O[2]&=65535,O[2]+=x[3]*R[2],O[1]+=O[2]>>>16,O[2]&=65535,O[1]+=x[1]*R[3],O[0]+=O[1]>>>16,O[1]&=65535,O[1]+=x[2]*R[2],O[0]+=O[1]>>>16,O[1]&=65535,O[1]+=x[3]*R[1],O[0]+=O[1]>>>16,O[1]&=65535,O[0]+=x[0]*R[3]+x[1]*R[2]+x[2]*R[1]+x[3]*R[0],O[0]&=65535,[O[0]<<16|O[1],O[2]<<16|O[3]]}function l(x,R){return R%=64,R===32?[x[1],x[0]]:R<32?[x[0]<<R|x[1]>>>32-R,x[1]<<R|x[0]>>>32-R]:(R-=32,[x[1]<<R|x[0]>>>32-R,x[0]<<R|x[1]>>>32-R])}function m(x,R){return R%=64,R===0?x:R<32?[x[0]<<R|x[1]>>>32-R,x[1]<<R]:[x[1]<<R-32,0]}function w(x,R){return[x[0]^R[0],x[1]^R[1]]}function M(x){return x=w(x,[0,x[0]>>>1]),x=h(x,[4283543511,3981806797]),x=w(x,[0,x[0]>>>1]),x=h(x,[3301882366,444984403]),x=w(x,[0,x[0]>>>1]),x}i.x86.hash32=function(x,R){if(i.inputValidation&&!o(x))return n;R=R||0;for(var O=x.length%4,j=x.length-O,q=R,B=0,I=3432918353,G=461845907,v=0;v<j;v=v+4)B=x[v]|x[v+1]<<8|x[v+2]<<16|x[v+3]<<24,B=a(B,I),B=s(B,15),B=a(B,G),q^=B,q=s(q,13),q=a(q,5)+3864292196;switch(B=0,O){case 3:B^=x[v+2]<<16;case 2:B^=x[v+1]<<8;case 1:B^=x[v],B=a(B,I),B=s(B,15),B=a(B,G),q^=B}return q^=x.length,q=u(q),q>>>0},i.x86.hash128=function(x,R){if(i.inputValidation&&!o(x))return n;R=R||0;for(var O=x.length%16,j=x.length-O,q=R,B=R,I=R,G=R,v=0,A=0,D=0,K=0,C=597399067,b=2869860233,S=951274213,y=2716044179,g=0;g<j;g=g+16)v=x[g]|x[g+1]<<8|x[g+2]<<16|x[g+3]<<24,A=x[g+4]|x[g+5]<<8|x[g+6]<<16|x[g+7]<<24,D=x[g+8]|x[g+9]<<8|x[g+10]<<16|x[g+11]<<24,K=x[g+12]|x[g+13]<<8|x[g+14]<<16|x[g+15]<<24,v=a(v,C),v=s(v,15),v=a(v,b),q^=v,q=s(q,19),q+=B,q=a(q,5)+1444728091,A=a(A,b),A=s(A,16),A=a(A,S),B^=A,B=s(B,17),B+=I,B=a(B,5)+197830471,D=a(D,S),D=s(D,17),D=a(D,y),I^=D,I=s(I,15),I+=G,I=a(I,5)+2530024501,K=a(K,y),K=s(K,18),K=a(K,C),G^=K,G=s(G,13),G+=q,G=a(G,5)+850148119;switch(v=0,A=0,D=0,K=0,O){case 15:K^=x[g+14]<<16;case 14:K^=x[g+13]<<8;case 13:K^=x[g+12],K=a(K,y),K=s(K,18),K=a(K,C),G^=K;case 12:D^=x[g+11]<<24;case 11:D^=x[g+10]<<16;case 10:D^=x[g+9]<<8;case 9:D^=x[g+8],D=a(D,S),D=s(D,17),D=a(D,y),I^=D;case 8:A^=x[g+7]<<24;case 7:A^=x[g+6]<<16;case 6:A^=x[g+5]<<8;case 5:A^=x[g+4],A=a(A,b),A=s(A,16),A=a(A,S),B^=A;case 4:v^=x[g+3]<<24;case 3:v^=x[g+2]<<16;case 2:v^=x[g+1]<<8;case 1:v^=x[g],v=a(v,C),v=s(v,15),v=a(v,b),q^=v}return q^=x.length,B^=x.length,I^=x.length,G^=x.length,q+=B,q+=I,q+=G,B+=q,I+=q,G+=q,q=u(q),B=u(B),I=u(I),G=u(G),q+=B,q+=I,q+=G,B+=q,I+=q,G+=q,("00000000"+(q>>>0).toString(16)).slice(-8)+("00000000"+(B>>>0).toString(16)).slice(-8)+("00000000"+(I>>>0).toString(16)).slice(-8)+("00000000"+(G>>>0).toString(16)).slice(-8)},i.x64.hash128=function(x,R){if(i.inputValidation&&!o(x))return n;R=R||0;for(var O=x.length%16,j=x.length-O,q=[0,R],B=[0,R],I=[0,0],G=[0,0],v=[2277735313,289559509],A=[1291169091,658871167],D=0;D<j;D=D+16)I=[x[D+4]|x[D+5]<<8|x[D+6]<<16|x[D+7]<<24,x[D]|x[D+1]<<8|x[D+2]<<16|x[D+3]<<24],G=[x[D+12]|x[D+13]<<8|x[D+14]<<16|x[D+15]<<24,x[D+8]|x[D+9]<<8|x[D+10]<<16|x[D+11]<<24],I=h(I,v),I=l(I,31),I=h(I,A),q=w(q,I),q=l(q,27),q=f(q,B),q=f(h(q,[0,5]),[0,1390208809]),G=h(G,A),G=l(G,33),G=h(G,v),B=w(B,G),B=l(B,31),B=f(B,q),B=f(h(B,[0,5]),[0,944331445]);switch(I=[0,0],G=[0,0],O){case 15:G=w(G,m([0,x[D+14]],48));case 14:G=w(G,m([0,x[D+13]],40));case 13:G=w(G,m([0,x[D+12]],32));case 12:G=w(G,m([0,x[D+11]],24));case 11:G=w(G,m([0,x[D+10]],16));case 10:G=w(G,m([0,x[D+9]],8));case 9:G=w(G,[0,x[D+8]]),G=h(G,A),G=l(G,33),G=h(G,v),B=w(B,G);case 8:I=w(I,m([0,x[D+7]],56));case 7:I=w(I,m([0,x[D+6]],48));case 6:I=w(I,m([0,x[D+5]],40));case 5:I=w(I,m([0,x[D+4]],32));case 4:I=w(I,m([0,x[D+3]],24));case 3:I=w(I,m([0,x[D+2]],16));case 2:I=w(I,m([0,x[D+1]],8));case 1:I=w(I,[0,x[D]]),I=h(I,v),I=l(I,31),I=h(I,A),q=w(q,I)}return q=w(q,[0,x.length]),B=w(B,[0,x.length]),q=f(q,B),B=f(B,q),q=M(q),B=M(B),q=f(q,B),B=f(B,q),("00000000"+(q[0]>>>0).toString(16)).slice(-8)+("00000000"+(q[1]>>>0).toString(16)).slice(-8)+("00000000"+(B[0]>>>0).toString(16)).slice(-8)+("00000000"+(B[1]>>>0).toString(16)).slice(-8)},t.exports&&(e=t.exports=i),e.murmurHash3=i})()})(zh,zh.exports);var mT=zh.exports;const bT=fs,fa=self.crypto||self.msCrypto,qh=async(t,e)=>{if(typeof self=="undefined"||!fa)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(e){case"sha1":return new Uint8Array(await fa.subtle.digest({name:"SHA-1"},t));case"sha2-256":return new Uint8Array(await fa.subtle.digest({name:"SHA-256"},t));case"sha2-512":return new Uint8Array(await fa.subtle.digest({name:"SHA-512"},t));case"dbl-sha2-256":{const r=await fa.subtle.digest({name:"SHA-256"},t);return new Uint8Array(await fa.subtle.digest({name:"SHA-256"},r))}default:throw new Error(`${e} is not a supported algorithm`)}};var yT={factory:t=>async e=>qh(e,t),digest:qh,multihashing:async(t,e,r)=>{const n=await qh(t,e);return bT.encode(n,e,r)}};const gT=t=>{const e=new Uint8Array(4);for(let r=0;r<4;r++)e[r]=t&255,t=t>>8;return e};var wT={fromNumberTo32BitBuf:gT};function Gm(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Hm=Gm("utf8","u",t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),Gh=Gm("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),_T=be({utf8:Hm,"utf-8":Hm,hex:Jr.base16,latin1:Gh,ascii:Gh,binary:Gh},Jr);function xT(t,e="utf8"){const r=_T[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var ST=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",fromString:xT}),ET=Et(ST);const AT="Input must be an string, Buffer or Uint8Array";function IT(t){let e;if(t instanceof Uint8Array)e=t;else if(t instanceof Buffer)e=new Uint8Array(t);else if(typeof t=="string")e=new Uint8Array(Buffer.from(t,"utf8"));else throw new Error(AT);return e}function MT(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function lf(t){return(4294967296+t).toString(16).substring(1)}function kT(t,e,r){let n=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(r===32)n+=lf(e[i]).toUpperCase(),n+=" ",n+=lf(e[i+1]).toUpperCase();else if(r===64)n+=lf(e[i+1]).toUpperCase(),n+=lf(e[i]).toUpperCase();else throw new Error("Invalid size "+r);i%6==4?n+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(n+=" ")}console.log(n)}function TT(t,e,r){let n=new Date().getTime();const i=new Uint8Array(e);for(let a=0;a<e;a++)i[a]=a%256;const o=new Date().getTime();console.log("Generated random input in "+(o-n)+"ms"),n=o;for(let a=0;a<r;a++){const s=t(i),u=new Date().getTime(),f=u-n;n=u,console.log("Hashed in "+f+"ms: "+s.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(f/1e3)*100)/100+" MB PER SECOND")}}var Wm={normalizeInput:IT,toHex:MT,debugPrint:kT,testSpeed:TT};const Vm=Wm;function hf(t,e,r){const n=t[e]+t[r];let i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function Km(t,e,r,n){let i=t[e]+r;r<0&&(i+=4294967296);let o=t[e+1]+n;i>=4294967296&&o++,t[e]=i,t[e+1]=o}function OT(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Ai(t,e,r,n,i,o){const a=ls[i],s=ls[i+1],u=ls[o],f=ls[o+1];hf(He,t,e),Km(He,t,a,s);let h=He[n]^He[t],l=He[n+1]^He[t+1];He[n]=l,He[n+1]=h,hf(He,r,n),h=He[e]^He[r],l=He[e+1]^He[r+1],He[e]=h>>>24^l<<8,He[e+1]=l>>>24^h<<8,hf(He,t,e),Km(He,t,u,f),h=He[n]^He[t],l=He[n+1]^He[t+1],He[n]=h>>>16^l<<16,He[n+1]=l>>>16^h<<16,hf(He,r,n),h=He[e]^He[r],l=He[e+1]^He[r+1],He[e]=l>>>31^h<<1,He[e+1]=h>>>31^l<<1}const Jm=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),PT=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],fr=new Uint8Array(PT.map(function(t){return t*2})),He=new Uint32Array(32),ls=new Uint32Array(32);function Ym(t,e){let r=0;for(r=0;r<16;r++)He[r]=t.h[r],He[r+16]=Jm[r];for(He[24]=He[24]^t.t,He[25]=He[25]^t.t/4294967296,e&&(He[28]=~He[28],He[29]=~He[29]),r=0;r<32;r++)ls[r]=OT(t.b,4*r);for(r=0;r<12;r++)Ai(0,8,16,24,fr[r*16+0],fr[r*16+1]),Ai(2,10,18,26,fr[r*16+2],fr[r*16+3]),Ai(4,12,20,28,fr[r*16+4],fr[r*16+5]),Ai(6,14,22,30,fr[r*16+6],fr[r*16+7]),Ai(0,10,20,30,fr[r*16+8],fr[r*16+9]),Ai(2,12,22,24,fr[r*16+10],fr[r*16+11]),Ai(4,14,16,26,fr[r*16+12],fr[r*16+13]),Ai(6,8,18,28,fr[r*16+14],fr[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^He[r]^He[r+16]}function Xm(t,e){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");const r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};for(let i=0;i<16;i++)r.h[i]=Jm[i];const n=e?e.length:0;return r.h[0]^=16842752^n<<8^t,e&&(Hh(r,e),r.c=128),r}function Hh(t,e){for(let r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,Ym(t,!1),t.c=0),t.b[t.c++]=e[r]}function Zm(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;Ym(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function Qm(t,e,r){r=r||64,t=Vm.normalizeInput(t);const n=Xm(r,e);return Hh(n,t),Zm(n)}function RT(t,e,r){const n=Qm(t,e,r);return Vm.toHex(n)}var NT={blake2b:Qm,blake2bHex:RT,blake2bInit:Xm,blake2bUpdate:Hh,blake2bFinal:Zm};const eb=Wm;function CT(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Ii(t,e,r,n,i,o){ct[t]=ct[t]+ct[e]+i,ct[n]=df(ct[n]^ct[t],16),ct[r]=ct[r]+ct[n],ct[e]=df(ct[e]^ct[r],12),ct[t]=ct[t]+ct[e]+o,ct[n]=df(ct[n]^ct[t],8),ct[r]=ct[r]+ct[n],ct[e]=df(ct[e]^ct[r],7)}function df(t,e){return t>>>e^t<<32-e}const tb=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cr=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),ct=new Uint32Array(16),tr=new Uint32Array(16);function rb(t,e){let r=0;for(r=0;r<8;r++)ct[r]=t.h[r],ct[r+8]=tb[r];for(ct[12]^=t.t,ct[13]^=t.t/4294967296,e&&(ct[14]=~ct[14]),r=0;r<16;r++)tr[r]=CT(t.b,4*r);for(r=0;r<10;r++)Ii(0,4,8,12,tr[cr[r*16+0]],tr[cr[r*16+1]]),Ii(1,5,9,13,tr[cr[r*16+2]],tr[cr[r*16+3]]),Ii(2,6,10,14,tr[cr[r*16+4]],tr[cr[r*16+5]]),Ii(3,7,11,15,tr[cr[r*16+6]],tr[cr[r*16+7]]),Ii(0,5,10,15,tr[cr[r*16+8]],tr[cr[r*16+9]]),Ii(1,6,11,12,tr[cr[r*16+10]],tr[cr[r*16+11]]),Ii(2,7,8,13,tr[cr[r*16+12]],tr[cr[r*16+13]]),Ii(3,4,9,14,tr[cr[r*16+14]],tr[cr[r*16+15]]);for(r=0;r<8;r++)t.h[r]^=ct[r]^ct[r+8]}function nb(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(tb),b:new Uint8Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(Wh(n,e),n.c=64),n}function Wh(t,e){for(let r=0;r<e.length;r++)t.c===64&&(t.t+=t.c,rb(t,!1),t.c=0),t.b[t.c++]=e[r]}function ib(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;rb(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3)&255;return e}function ob(t,e,r){r=r||32,t=eb.normalizeInput(t);const n=nb(r,e);return Wh(n,t),ib(n)}function LT(t,e,r){const n=ob(t,e,r);return eb.toHex(n)}var DT={blake2s:ob,blake2sHex:LT,blake2sInit:nb,blake2sUpdate:Wh,blake2sFinal:ib};const hs=NT,ds=DT;var $T={blake2b:hs.blake2b,blake2bHex:hs.blake2bHex,blake2bInit:hs.blake2bInit,blake2bUpdate:hs.blake2bUpdate,blake2bFinal:hs.blake2bFinal,blake2s:ds.blake2s,blake2sHex:ds.blake2sHex,blake2sInit:ds.blake2sInit,blake2sUpdate:ds.blake2sUpdate,blake2sFinal:ds.blake2sFinal};const ca=$T,UT=45569,BT=45633,FT={init:ca.blake2bInit,update:ca.blake2bUpdate,digest:ca.blake2bFinal},jT={init:ca.blake2sInit,update:ca.blake2sUpdate,digest:ca.blake2sFinal},ab=(t,e)=>async r=>{const n=e.init(t,null);return e.update(n,r),e.digest(n)};var zT=t=>{for(let e=0;e<64;e++)t[UT+e]=ab(e+1,FT);for(let e=0;e<32;e++)t[BT+e]=ab(e+1,jT)};const Rn=jh.exports,sb=mT,{factory:vf}=yT,{fromNumberTo32BitBuf:qT}=wT,{fromString:GT}=ET,Qr=t=>async e=>{switch(t){case"sha3-224":return new Uint8Array(Rn.sha3_224.arrayBuffer(e));case"sha3-256":return new Uint8Array(Rn.sha3_256.arrayBuffer(e));case"sha3-384":return new Uint8Array(Rn.sha3_384.arrayBuffer(e));case"sha3-512":return new Uint8Array(Rn.sha3_512.arrayBuffer(e));case"shake-128":return new Uint8Array(Rn.shake128.create(128).update(e).arrayBuffer());case"shake-256":return new Uint8Array(Rn.shake256.create(256).update(e).arrayBuffer());case"keccak-224":return new Uint8Array(Rn.keccak224.arrayBuffer(e));case"keccak-256":return new Uint8Array(Rn.keccak256.arrayBuffer(e));case"keccak-384":return new Uint8Array(Rn.keccak384.arrayBuffer(e));case"keccak-512":return new Uint8Array(Rn.keccak512.arrayBuffer(e));case"murmur3-128":return GT(sb.x64.hash128(e),"base16");case"murmur3-32":return qT(sb.x86.hash32(e));default:throw new TypeError(`${t} is not a supported algorithm`)}},HT=t=>t;var WT={identity:HT,sha1:vf("sha1"),sha2256:vf("sha2-256"),sha2512:vf("sha2-512"),dblSha2256:vf("dbl-sha2-256"),sha3224:Qr("sha3-224"),sha3256:Qr("sha3-256"),sha3384:Qr("sha3-384"),sha3512:Qr("sha3-512"),shake128:Qr("shake-128"),shake256:Qr("shake-256"),keccak224:Qr("keccak-224"),keccak256:Qr("keccak-256"),keccak384:Qr("keccak-384"),keccak512:Qr("keccak-512"),murmur3128:Qr("murmur3-128"),murmur332:Qr("murmur3-32"),addBlake:zT};function VT(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var KT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",equals:VT}),JT=Et(KT);const ub=pT,pf=fs,zt=WT,{equals:YT}=JT;async function en(t,e,r){const n=await en.digest(t,e,r);return pf.encode(n,e,r)}en.multihash=pf;en.digest=async(t,e,r)=>{const i=await en.createHash(e)(t);return r?i.slice(0,r):i};en.createHash=function(t){if(!t)throw ub(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");const e=pf.coerceCode(t);if(!en.functions[e])throw ub(new Error(`multihash function '${t}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return en.functions[e]};en.functions={0:zt.identity,17:zt.sha1,18:zt.sha2256,19:zt.sha2512,20:zt.sha3512,21:zt.sha3384,22:zt.sha3256,23:zt.sha3224,24:zt.shake128,25:zt.shake256,26:zt.keccak224,27:zt.keccak256,28:zt.keccak384,29:zt.keccak512,34:zt.murmur3128,35:zt.murmur332,86:zt.dblSha2256};zt.addBlake(en.functions);en.validate=async(t,e)=>{const r=await en(t,pf.decode(e).name);return YT(e,r)};var XT=en,ZT=fb;function fb(t,e){this.value=t,this.next=e}fb.prototype.contains=function(t){for(var e=this;e;){if(e.value===t)return!0;e=e.next}return!1};var QT=ZT,eO=tO;function tO(t){if(!(t instanceof Object))throw new TypeError('"obj" must be an object (or inherit from it)');return cb(t)}function cb(t,e){e=new QT(t,e);for(var r in t){var n=t[r];if(n instanceof Object&&(e.contains(n)||cb(n,e)))return!0}return!1}const Vh=Im,Kh=_m,rO=XT,vs=Si,nO=eO,iO=gu,oO=Ip,lb=42;function aO(t){return typeof t=="string"?t=new vs(t).bytes:vs.isCID(t)&&(t=t.bytes),new Vh.Tagged(lb,iO([oO("00","base16"),t],1+t.length))}function sO(t){let e;try{e=nO(t)}catch{e=!1}if(e)throw new Error("The object passed has circular references");function r(n){if(!n||n instanceof Uint8Array||typeof n=="string")return n;if(Array.isArray(n))return n.map(r);if(vs.isCID(n))return aO(n);const i=Object.keys(n);if(i.length>0){const o={};return i.forEach(a=>{typeof n[a]=="object"?o[a]=r(n[a]):o[a]=n[a]}),o}else return n}return r(t)}const hb=Kh.DAG_CBOR,db=Kh.SHA2_256,vb={[lb]:t=>(t=t.slice(1),new vs(t))},pb=64*1024;let la=pb;const mb=64*1024*1024;let Jh=mb,bb=null;function Yh(t){let e=vb;t?(typeof t.size=="number"&&(la=t.size),typeof t.maxSize=="number"&&(Jh=t.maxSize),t.tags&&(e=Object.assign({},vb,t&&t.tags))):(la=pb,Jh=mb);const r={tags:e,size:la};bb=new Vh.Decoder(r),la=r.size}Yh();function uO(t){const e=sO(t);return Vh.encode(e)}function fO(t){if(t.length>la&&t.length<=Jh&&Yh({size:t.length}),t.length>la)throw new Error("Data is too large to deserialize with current decoder");const e=bb.decodeAll(t);if(e.length!==1)throw new Error("Extraneous CBOR data found beyond initial top-level object");return e[0]}async function cO(t,e){const n=Object.assign({cidVersion:1,hashAlg:db},e),i=await rO(t,n.hashAlg),o=Kh.getNameFromCode(hb);return new vs(n.cidVersion,o,i)}var yb={codec:hb,defaultHashAlg:db,configureDecoder:Yh,serialize:uO,deserialize:fO,cid:cO},Xh={};const gb=Si,wb=yb;Xh.resolve=(t,e)=>{let r=wb.deserialize(t);const n=e.split("/").filter(Boolean);for(;n.length;){const i=n.shift();if(r[i]===void 0)throw new Error(`Object has no property '${i}'`);if(r=r[i],gb.isCID(r))return{value:r,remainderPath:n.join("/")}}return{value:r,remainderPath:""}};const _b=function*(t,e){if(!(t instanceof Uint8Array||gb.isCID(t)||typeof t=="string"||t===null))for(const r of Object.keys(t)){const n=e===void 0?r:e+"/"+r;yield n,yield*_b(t[r],n)}};Xh.tree=function*(t){const e=wb.deserialize(t);yield*_b(e)};(function(t){t.util=yb,t.resolver=Xh,t.codec=t.util.codec,t.defaultHashAlg=t.util.defaultHashAlg})(kh);var io={};Object.defineProperty(io,"__esModule",{value:!0});io.DEFAULT_BASE=io.STREAMID_CODEC=void 0;io.STREAMID_CODEC=206;io.DEFAULT_BASE="base36";var oo={},xb=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oo,"__esModule",{value:!0});oo.readCid=oo.readVarint=void 0;const lO=xb(Si),Sb=xb(ro);function ps(t){const e=Sb.default.decode(t),r=Sb.default.decode.bytes,n=t.slice(r);return[e,n,r]}oo.readVarint=ps;function hO(t){return t===0||t===1}function dO(t){const[e,r]=ps(t);if(!hO(e))throw new Error(`Unknown CID version ${e}`);const[n,i]=ps(r),[,o,a]=ps(i),[s,,u]=ps(o),f=i.slice(0,a+u+s),h=i.slice(a+u+s);return[new lO.default(e,n,f),h]}oo.readCid=dO;function vO(t){return(e,r,n)=>{if(n.value!=null)n.value=mf(n.value,t);else if(n.get!=null)n.get=mf(n.get,t);else throw"Only put a Memoize() decorator on a method or get accessor."}}function pO(t,e){return(r,n,i)=>{if(i.value!=null)i.value=mf(i.value,e,t);else if(i.get!=null)i.get=mf(i.get,e,t);else throw"Only put a Memoize() decorator on a method or get accessor."}}let mO=0;function mf(t,e,r=0){const n=++mO;return function(...i){const o=`__memoized_value_${n}`,a=`__memoized_map_${n}`;let s;if(e||i.length>0||r>0){this.hasOwnProperty(a)||Object.defineProperty(this,a,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let u=this[a],f;e===!0?f=i.map(m=>m.toString()).join("!"):e?f=e.apply(this,i):f=i[0];const h=`${f}__timestamp`;let l=!1;if(r>0)if(!u.has(h))l=!0;else{let m=u.get(h);l=Date.now()-m>r}u.has(f)&&!l?s=u.get(f):(s=t.apply(this,i),u.set(f,s),r>0&&u.set(h,Date.now()))}else this.hasOwnProperty(o)?s=this[o]:(s=t.apply(this,i),Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:s}));return s}}var bO=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Memoize:vO,MemoizeExpiring:pO}),Eb=Et(bO),ha={},da={};Object.defineProperty(da,"__esModule",{value:!0});da.StreamType=void 0;const Ab={tile:0,"caip10-link":1};function yO(t){const e=Ab[t];if(typeof e!="undefined")return e;throw new Error(`No stream type registered for name ${t}`)}function gO(t){const e=Object.entries(Ab).find(([,r])=>r===t);if(e)return e[0];throw new Error(`No stream type registered for index ${t}`)}class Zh{}da.StreamType=Zh;Zh.nameByCode=gO;Zh.codeByName=yO;var va=te&&te.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},Er=te&&te.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Qh=te&&te.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},pn=te&&te.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ms=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ao,Mi,bs;Object.defineProperty(ha,"__esModule",{value:!0});ha.CommitID=void 0;const e0=ms(Si),Ib=ms(to.exports),Mb=da,kb=ms(ro),wO=ms(gu),_O=ms(wl),pa=Eb,t0=io,bf=oo,r0=eo;function Tb(t){const[e,r]=bf.readVarint(t);if(e!==t0.STREAMID_CODEC)throw new Error("fromBytes: invalid streamid, does not include streamid codec");const[n,i]=bf.readVarint(r),[o,a]=bf.readCid(i);if(a.length===0)throw new Error("No commit information provided");if(a.length===1)return new Lr(n,o,a[0]);{const[s]=bf.readCid(a);return new Lr(n,o,s)}}function xO(t){try{return new e0.default(t)}catch{return}}function SO(t,e=null){if(!e)return null;const r=xO(e);if(r)return t.equals(r)?null:r;if(String(e)==="0")return null;throw new Error("Cannot specify commit as a number except to request commit 0 (the genesis commit)")}function EO(t){const e=t.replace("ceramic://","").replace("/ceramic/","");if(e.includes("commit")){const r=e.split("?")[1].split("=")[1],n=e.split("?")[0];return r0.StreamID.fromString(n).atCommit(r)}else return Tb(Ib.default.decode(e))}const Ob=Symbol.for("@ceramicnetwork/streamid/CommitID");class Lr{constructor(e,r,n=null){if(this._tag=Ob,ao.set(this,void 0),Mi.set(this,void 0),bs.set(this,void 0),!e&&e!==0)throw new Error("constructor: type required");if(!r)throw new Error("constructor: cid required");Qh(this,ao,typeof e=="string"?Mb.StreamType.codeByName(e):e,"f"),Qh(this,Mi,typeof r=="string"?new e0.default(r):r,"f"),Qh(this,bs,SO(pn(this,Mi,"f"),n),"f")}static isInstance(e){return typeof e=="object"&&"_tag"in e&&e._tag===Ob}get baseID(){return new r0.StreamID(pn(this,ao,"f"),pn(this,Mi,"f"))}get type(){return pn(this,ao,"f")}get typeName(){return Mb.StreamType.nameByCode(pn(this,ao,"f"))}get cid(){return pn(this,Mi,"f")}get commit(){return pn(this,bs,"f")||pn(this,Mi,"f")}get bytes(){var e;const r=kb.default.encode(t0.STREAMID_CODEC),n=kb.default.encode(this.type),i=((e=pn(this,bs,"f"))===null||e===void 0?void 0:e.bytes)||new Uint8Array([0]);return wO.default([r,n,this.cid.bytes,i])}atCommit(e){return new Lr(pn(this,ao,"f"),pn(this,Mi,"f"),e)}equals(e){return this.type===e.type&&this.cid.equals(e.cid)&&this.commit.equals(e.commit)}toString(){return _O.default(Ib.default.encode(t0.DEFAULT_BASE,this.bytes))}toUrl(){return`ceramic://${this.toString()}`}[(ao=new WeakMap,Mi=new WeakMap,bs=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return`CommitID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}Lr.fromBytes=Tb;Lr.fromString=EO;va([pa.Memoize(),Er("design:type",r0.StreamID),Er("design:paramtypes",[])],Lr.prototype,"baseID",null);va([pa.Memoize(),Er("design:type",String),Er("design:paramtypes",[])],Lr.prototype,"typeName",null);va([pa.Memoize(),Er("design:type",e0.default),Er("design:paramtypes",[])],Lr.prototype,"commit",null);va([pa.Memoize(),Er("design:type",Uint8Array),Er("design:paramtypes",[])],Lr.prototype,"bytes",null);va([pa.Memoize(),Er("design:type",Function),Er("design:paramtypes",[]),Er("design:returntype",String)],Lr.prototype,"toString",null);va([pa.Memoize(),Er("design:type",Function),Er("design:paramtypes",[]),Er("design:returntype",String)],Lr.prototype,"toUrl",null);ha.CommitID=Lr;var ys=te&&te.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},tn=te&&te.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Pb=te&&te.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},so=te&&te.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ma=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},uo,ba;Object.defineProperty(eo,"__esModule",{value:!0});eo.StreamID=void 0;const AO=ma(Si),Rb=ma(to.exports),Nb=ma(ro),Cb=ma(kh),IO=ma(gu),MO=ma(wl),n0=io,i0=oo,gs=Eb,kO=ha,Lb=da;function Db(t){const[e,r]=i0.readVarint(t);if(e!==n0.STREAMID_CODEC)throw new Error("fromBytes: invalid streamid, does not include streamid codec");const[n,i]=i0.readVarint(r),[o,a]=i0.readCid(i);if(a.length>0)throw new Error("Invalid StreamID: contains commit");return new Ar(n,o)}function TO(t){const e=t.replace("ceramic://","").replace("/ceramic/",""),r=e.includes("commit")?e.split("?")[0]:e,n=Rb.default.decode(r);return Db(n)}const $b=Symbol.for("@ceramicnetwork/streamid/StreamID");class Ar{constructor(e,r){if(this._tag=$b,uo.set(this,void 0),ba.set(this,void 0),!(e||e===0))throw new Error("constructor: type required");if(!r)throw new Error("constructor: cid required");Pb(this,uo,typeof e=="string"?Lb.StreamType.codeByName(e):e,"f"),Pb(this,ba,typeof r=="string"?new AO.default(r):r,"f")}static isInstance(e){return typeof e=="object"&&"_tag"in e&&e._tag===$b}static async fromGenesis(e,r){const n=await Cb.default.util.cid(new Uint8Array(Cb.default.util.serialize(r)));return new Ar(e,n)}get type(){return so(this,uo,"f")}get typeName(){return Lb.StreamType.nameByCode(so(this,uo,"f"))}get cid(){return so(this,ba,"f")}get bytes(){const e=Nb.default.encode(n0.STREAMID_CODEC),r=Nb.default.encode(this.type);return IO.default([e,r,this.cid.bytes])}get baseID(){return new Ar(so(this,uo,"f"),so(this,ba,"f"))}atCommit(e){return new kO.CommitID(so(this,uo,"f"),so(this,ba,"f"),e)}equals(e){return Ar.isInstance(e)?this.type===e.type&&this.cid.equals(e.cid):!1}toString(){return MO.default(Rb.default.encode(n0.DEFAULT_BASE,this.bytes))}toUrl(){return`ceramic://${this.toString()}`}[(uo=new WeakMap,ba=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return`StreamID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}Ar.fromBytes=Db;Ar.fromString=TO;ys([gs.Memoize(),tn("design:type",String),tn("design:paramtypes",[])],Ar.prototype,"typeName",null);ys([gs.Memoize(),tn("design:type",Uint8Array),tn("design:paramtypes",[])],Ar.prototype,"bytes",null);ys([gs.Memoize(),tn("design:type",Ar),tn("design:paramtypes",[])],Ar.prototype,"baseID",null);ys([gs.Memoize(),tn("design:type",Function),tn("design:paramtypes",[]),tn("design:returntype",String)],Ar.prototype,"toString",null);ys([gs.Memoize(),tn("design:type",Function),tn("design:paramtypes",[]),tn("design:returntype",String)],Ar.prototype,"toUrl",null);eo.StreamID=Ar;var Ub={};(function(t){var e=te&&te.__createBinding||(Object.create?function(f,h,l,m){m===void 0&&(m=l),Object.defineProperty(f,m,{enumerable:!0,get:function(){return h[l]}})}:function(f,h,l,m){m===void 0&&(m=l),f[m]=h[l]}),r=te&&te.__setModuleDefault||(Object.create?function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}:function(f,h){f.default=h}),n=te&&te.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var l in f)l!=="default"&&Object.prototype.hasOwnProperty.call(f,l)&&e(h,f,l);return r(h,f),h};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamRef=void 0;const i=eo,o=ha,a=n(sr);function s(f){try{return f()}catch{return null}}function u(f){throw new Error(f)}(function(f){function h(l){if(i.StreamID.isInstance(l))return l;if(o.CommitID.isInstance(l))return l;if(l instanceof Uint8Array)return s(()=>o.CommitID.fromBytes(l))||s(()=>i.StreamID.fromBytes(l))||u(`Can not build CommitID or StreamID from bytes ${a.toString(l,"base36")}`);if(typeof l=="string")return s(()=>o.CommitID.fromString(l))||s(()=>i.StreamID.fromString(l))||u(`Can not build CommitID or StreamID from string ${l}`);throw new Error("Can not build CommitID or StreamID")}f.from=h})(t.StreamRef||(t.StreamRef={}))})(Ub);(function(t){var e=te&&te.__createBinding||(Object.create?function(s,u,f,h){h===void 0&&(h=f),Object.defineProperty(s,h,{enumerable:!0,get:function(){return u[f]}})}:function(s,u,f,h){h===void 0&&(h=f),s[h]=u[f]}),r=te&&te.__exportStar||function(s,u){for(var f in s)f!=="default"&&!Object.prototype.hasOwnProperty.call(u,f)&&e(u,s,f)};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamRef=t.StreamID=t.CommitID=void 0;const n=eo;var i=ha;Object.defineProperty(t,"CommitID",{enumerable:!0,get:function(){return i.CommitID}});var o=eo;Object.defineProperty(t,"StreamID",{enumerable:!0,get:function(){return o.StreamID}});var a=Ub;Object.defineProperty(t,"StreamRef",{enumerable:!0,get:function(){return a.StreamRef}}),r(da,t),t.default=n.StreamID})(Mn);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var o0=function(t,e){return o0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},o0(t,e)};function kt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function OO(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(h){try{f(n.next(h))}catch(l){a(l)}}function u(h){try{f(n.throw(h))}catch(l){a(l)}}function f(h){h.done?o(h.value):i(h.value).then(s,u)}f((n=n.apply(t,e||[])).next())})}function a0(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(h){return u([f,h])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(h){f=[6,h],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Ir(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pt(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function mt(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t}function ya(t){return this instanceof ya?(this.v=t,this):new ya(t)}function PO(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(m){n[m]&&(i[m]=function(w){return new Promise(function(M,x){o.push([m,w,M,x])>1||s(m,w)})})}function s(m,w){try{u(n[m](w))}catch(M){l(o[0][3],M)}}function u(m){m.value instanceof ya?Promise.resolve(m.value.v).then(f,h):l(o[0][2],m)}function f(m){s("next",m)}function h(m){s("throw",m)}function l(m,w){m(w),o.shift(),o.length&&s(o[0][0],o[0][1])}}function RO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ir=="function"?Ir(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(f){o({value:f,done:s})},a)}}function ze(t){return typeof t=="function"}function fo(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var yf=fo(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function ri(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var br=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return t.prototype.unsubscribe=function(){var e,r,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=Ir(a),u=s.next();!u.done;u=s.next()){var f=u.value;f.remove(this)}}catch(x){e={error:x}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}else a.remove(this);var h=this.initialTeardown;if(ze(h))try{h()}catch(x){o=x instanceof yf?x.errors:[x]}var l=this._teardowns;if(l){this._teardowns=null;try{for(var m=Ir(l),w=m.next();!w.done;w=m.next()){var M=w.value;try{jb(M)}catch(x){o=o!=null?o:[],x instanceof yf?o=mt(mt([],pt(o)),pt(x.errors)):o.push(x)}}}catch(x){n={error:x}}finally{try{w&&!w.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}}if(o)throw new yf(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)jb(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=(r=this._teardowns)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&ri(r,e)},t.prototype.remove=function(e){var r=this._teardowns;r&&ri(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Bb=br.EMPTY;function Fb(t){return t instanceof br||t&&"closed"in t&&ze(t.remove)&&ze(t.add)&&ze(t.unsubscribe)}function jb(t){ze(t)?t():t.unsubscribe()}var ki={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},gf={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=gf.delegate;return((r==null?void 0:r.setTimeout)||setTimeout).apply(void 0,mt([],pt(t)))},clearTimeout:function(t){var e=gf.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function zb(t){gf.setTimeout(function(){var e=ki.onUnhandledError;if(e)e(t);else throw t})}function At(){}var NO=function(){return s0("C",void 0,void 0)}();function CO(t){return s0("E",void 0,t)}function LO(t){return s0("N",t,void 0)}function s0(t,e,r){return{kind:t,value:e,error:r}}var co=null;function wf(t){if(ki.useDeprecatedSynchronousErrorHandling){var e=!co;if(e&&(co={errorThrown:!1,error:null}),t(),e){var r=co,n=r.errorThrown,i=r.error;if(co=null,n)throw i}}else t()}function DO(t){ki.useDeprecatedSynchronousErrorHandling&&co&&(co.errorThrown=!0,co.error=t)}var _f=function(t){kt(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Fb(r)&&r.add(n)):n.destination=$O,n}return e.create=function(r,n,i){return new xf(r,n,i)},e.prototype.next=function(r){this.isStopped?f0(LO(r),this):this._next(r)},e.prototype.error=function(r){this.isStopped?f0(CO(r),this):(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped?f0(NO,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(br),xf=function(t){kt(e,t);function e(r,n,i){var o=t.call(this)||this,a;if(ze(r))a=r;else if(r){a=r.next,n=r.error,i=r.complete;var s;o&&ki.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=function(){return o.unsubscribe()}):s=r,a=a==null?void 0:a.bind(s),n=n==null?void 0:n.bind(s),i=i==null?void 0:i.bind(s)}return o.destination={next:a?u0(a):At,error:u0(n!=null?n:qb),complete:i?u0(i):At},o}return e}(_f);function u0(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{t.apply(void 0,mt([],pt(r)))}catch(i){ki.useDeprecatedSynchronousErrorHandling?DO(i):zb(i)}}}function qb(t){throw t}function f0(t,e){var r=ki.onStoppedNotification;r&&gf.setTimeout(function(){return r(t,e)})}var $O={closed:!0,next:At,error:qb,complete:At},Sf=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function rr(t){return t}function c0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Gb(t)}function Gb(t){return t.length===0?rr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ut=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,o=BO(e)?e:new xf(e,r,n);return wf(function(){var a=i,s=a.operator,u=a.source;o.add(s?s.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Hb(r),new r(function(i,o){var a;a=n.subscribe(function(s){try{e(s)}catch(u){o(u),a==null||a.unsubscribe()}},o,i)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[Sf]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Gb(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Hb(e),new e(function(n,i){var o;r.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function Hb(t){var e;return(e=t!=null?t:ki.Promise)!==null&&e!==void 0?e:Promise}function UO(t){return t&&ze(t.next)&&ze(t.error)&&ze(t.complete)}function BO(t){return t&&t instanceof _f||UO(t)&&Fb(t)}function Wb(t){return ze(t==null?void 0:t.lift)}function ye(t){return function(e){if(Wb(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}var ve=function(t){kt(e,t);function e(r,n,i,o,a){var s=t.call(this,r)||this;return s.onFinalize=a,s._next=n?function(u){try{n(u)}catch(f){r.error(f)}}:t.prototype._next,s._error=o?function(u){try{o(u)}catch(f){r.error(f)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=i?function(){try{i()}catch(u){r.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,s}return e.prototype.unsubscribe=function(){var r,n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))},e}(_f);function l0(){return ye(function(t,e){var r=null;t._refCount++;var n=new ve(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount){r=null;return}var i=t._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var Ef=function(t){kt(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._subject=null,i._refCount=0,i._connection=null,Wb(r)&&(i.lift=r.lift),i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r==null||r.unsubscribe()},e.prototype.connect=function(){var r=this,n=this._connection;if(!n){n=this._connection=new br;var i=this.getSubject();n.add(this.source.subscribe(new ve(i,void 0,function(){r._teardown(),i.complete()},function(o){r._teardown(),i.error(o)},function(){return r._teardown()}))),n.closed&&(this._connection=null,n=br.EMPTY)}return n},e.prototype.refCount=function(){return l0()(this)},e}(ut),Vb={now:function(){return(Vb.delegate||performance).now()},delegate:void 0},ga={schedule:function(t){var e=requestAnimationFrame,r=cancelAnimationFrame,n=ga.delegate;n&&(e=n.requestAnimationFrame,r=n.cancelAnimationFrame);var i=e(function(o){r=void 0,t(o)});return new br(function(){return r==null?void 0:r(i)})},requestAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ga.delegate;return((r==null?void 0:r.requestAnimationFrame)||requestAnimationFrame).apply(void 0,mt([],pt(t)))},cancelAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ga.delegate;return((r==null?void 0:r.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,mt([],pt(t)))},delegate:void 0};function FO(t){return t?Kb(t):jO}function Kb(t){var e=ga.schedule;return new ut(function(r){var n=new br,i=t||Vb,o=i.now(),a=function(s){var u=i.now();r.next({timestamp:t?u:s,elapsed:u-o}),r.closed||n.add(e(a))};return n.add(e(a)),n})}var jO=Kb(),Jb=fo(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Dt=function(t){kt(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new Yb(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new Jb},e.prototype.next=function(r){var n=this;wf(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){var a=n.observers.slice();try{for(var s=Ir(a),u=s.next();!u.done;u=s.next()){var f=u.value;f.next(r)}}catch(h){i={error:h}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;wf(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;wf(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=n.hasError,o=n.isStopped,a=n.observers;return i||o?Bb:(a.push(r),new br(function(){return ri(a,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,a=n.isStopped;i?r.error(o):a&&r.complete()},e.prototype.asObservable=function(){var r=new ut;return r.source=this,r},e.create=function(r,n){return new Yb(r,n)},e}(ut),Yb=function(t){kt(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:Bb},e}(Dt),Xb=function(t){kt(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,o=r._value;if(n)throw i;return this._throwIfClosed(),o},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Dt),Af={now:function(){return(Af.delegate||Date).now()},delegate:void 0},h0=function(t){kt(e,t);function e(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=Af);var o=t.call(this)||this;return o._bufferSize=r,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,r),o._windowTime=Math.max(1,n),o}return e.prototype.next=function(r){var n=this,i=n.isStopped,o=n._buffer,a=n._infiniteTimeWindow,s=n._timestampProvider,u=n._windowTime;i||(o.push(r),!a&&o.push(s.now()+u)),this._trimBuffer(),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,o=i._infiniteTimeWindow,a=i._buffer,s=a.slice(),u=0;u<s.length&&!r.closed;u+=o?1:2)r.next(s[u]);return this._checkFinalizedStatuses(r),n},e.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,o=r._buffer,a=r._infiniteTimeWindow,s=(a?1:2)*n;if(n<1/0&&s<o.length&&o.splice(0,o.length-s),!a){for(var u=i.now(),f=0,h=1;h<o.length&&o[h]<=u;h+=2)f=h;f&&o.splice(0,f+1)}},e}(Dt),d0=function(t){kt(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n._hasValue,a=n._value,s=n.thrownError,u=n.isStopped,f=n._isComplete;i?r.error(s):(u||f)&&(o&&r.next(a),r.complete())},e.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},e.prototype.complete=function(){var r=this,n=r._hasValue,i=r._value,o=r._isComplete;o||(this._isComplete=!0,n&&t.prototype.next.call(this,i),t.prototype.complete.call(this))},e}(Dt),zO=function(t){kt(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(br),If={setInterval:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=If.delegate;return((r==null?void 0:r.setInterval)||setInterval).apply(void 0,mt([],pt(t)))},clearInterval:function(t){var e=If.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},ws=function(t){kt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),If.setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;If.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,o;try{this.work(r)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,ri(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(zO),qO=1,v0,p0={};function Zb(t){return t in p0?(delete p0[t],!0):!1}var Qb={setImmediate:function(t){var e=qO++;return p0[e]=!0,v0||(v0=Promise.resolve()),v0.then(function(){return Zb(e)&&t()}),e},clearImmediate:function(t){Zb(t)}},GO=Qb.setImmediate,HO=Qb.clearImmediate,Mf={setImmediate:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Mf.delegate;return((r==null?void 0:r.setImmediate)||GO).apply(void 0,mt([],pt(t)))},clearImmediate:function(t){var e=Mf.delegate;return((e==null?void 0:e.clearImmediate)||HO)(t)},delegate:void 0},WO=function(t){kt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=Mf.setImmediate(r.flush.bind(r,void 0))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Mf.clearImmediate(n),r._scheduled=void 0)},e}(ws),m0=function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=Af.now,t}(),_s=function(t){kt(e,t);function e(r,n){n===void 0&&(n=m0.now);var i=t.call(this,r,n)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(m0),VO=function(t){kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this._active=!0,this._scheduled=void 0;var n=this.actions,i,o=-1;r=r||n.shift();var a=n.length;do if(i=r.execute(r.state,r.delay))break;while(++o<a&&(r=n.shift()));if(this._active=!1,i){for(;++o<a&&(r=n.shift());)r.unsubscribe();throw i}},e}(_s),ey=new VO(WO),KO=ey,Nn=new _s(ws),xs=Nn,JO=function(t){kt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(ws),YO=function(t){kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(_s),ty=new YO(JO),XO=ty,ZO=function(t){kt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=ga.requestAnimationFrame(function(){return r.flush(void 0)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(ga.cancelAnimationFrame(n),r._scheduled=void 0)},e}(ws),QO=function(t){kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this._active=!0,this._scheduled=void 0;var n=this.actions,i,o=-1;r=r||n.shift();var a=n.length;do if(i=r.execute(r.state,r.delay))break;while(++o<a&&(r=n.shift()));if(this._active=!1,i){for(;++o<a&&(r=n.shift());)r.unsubscribe();throw i}},e}(_s),ry=new QO(ZO),eP=ry,tP=function(t){kt(e,t);function e(r,n){r===void 0&&(r=ny),n===void 0&&(n=1/0);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,o,a;(a=n[0])&&a.delay<=i&&(n.shift(),this.frame=a.delay,!(o=a.execute(a.state,a.delay))););if(o){for(;a=n.shift();)a.unsubscribe();throw o}},e.frameTimeFactor=10,e}(_s),ny=function(t){kt(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var o=t.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.index=i,o.active=!0,o.index=r.index=i,o}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)}else return br.EMPTY},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var o=r.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(ws),mn=new ut(function(t){return t.complete()});function rP(t){return t?nP(t):mn}function nP(t){return new ut(function(e){return t.schedule(function(){return e.complete()})})}function kf(t){return t&&ze(t.schedule)}function b0(t){return t[t.length-1]}function Ss(t){return ze(b0(t))?t.pop():void 0}function ni(t){return kf(b0(t))?t.pop():void 0}function iy(t,e){return typeof b0(t)=="number"?t.pop():e}var y0=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function oy(t){return ze(t==null?void 0:t.then)}function ay(t){return ze(t[Sf])}function sy(t){return Symbol.asyncIterator&&ze(t==null?void 0:t[Symbol.asyncIterator])}function uy(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function iP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fy=iP();function cy(t){return ze(t==null?void 0:t[fy])}function ly(t){return PO(this,arguments,function(){var r,n,i,o;return a0(this,function(a){switch(a.label){case 0:r=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,ya(r.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,ya(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,ya(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function hy(t){return ze(t==null?void 0:t.getReader)}function ot(t){if(t instanceof ut)return t;if(t!=null){if(ay(t))return oP(t);if(y0(t))return aP(t);if(oy(t))return sP(t);if(sy(t))return dy(t);if(cy(t))return uP(t);if(hy(t))return fP(t)}throw uy(t)}function oP(t){return new ut(function(e){var r=t[Sf]();if(ze(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aP(t){return new ut(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function sP(t){return new ut(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,zb)})}function uP(t){return new ut(function(e){var r,n;try{for(var i=Ir(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function dy(t){return new ut(function(e){cP(t,e).catch(function(r){return e.error(r)})})}function fP(t){return dy(ly(t))}function cP(t,e){var r,n,i,o;return OO(this,void 0,void 0,function(){var a,s;return a0(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=RO(t),u.label=1;case 1:return[4,r.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(a=n.value,e.next(a),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Mr(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function Es(t,e){return e===void 0&&(e=0),ye(function(r,n){r.subscribe(new ve(n,function(i){return Mr(n,t,function(){return n.next(i)},e)},function(){return Mr(n,t,function(){return n.complete()},e)},function(i){return Mr(n,t,function(){return n.error(i)},e)}))})}function As(t,e){return e===void 0&&(e=0),ye(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function lP(t,e){return ot(t).pipe(As(e),Es(e))}function hP(t,e){return ot(t).pipe(As(e),Es(e))}function dP(t,e){return new ut(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function vy(t,e){return new ut(function(r){var n;return Mr(r,e,function(){n=t[fy](),Mr(r,e,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(s){r.error(s);return}a?r.complete():r.next(o)},0,!0)}),function(){return ze(n==null?void 0:n.return)&&n.return()}})}function py(t,e){if(!t)throw new Error("Iterable cannot be null");return new ut(function(r){Mr(r,e,function(){var n=t[Symbol.asyncIterator]();Mr(r,e,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function vP(t,e){return py(ly(t),e)}function my(t,e){if(t!=null){if(ay(t))return lP(t,e);if(y0(t))return dP(t,e);if(oy(t))return hP(t,e);if(sy(t))return py(t,e);if(cy(t))return vy(t,e);if(hy(t))return vP(t,e)}throw uy(t)}function bn(t,e){return e?my(t,e):ot(t)}function g0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ni(t);return bn(t,r)}function by(t,e){var r=ze(t)?t:function(){return t},n=function(i){return i.error(r())};return new ut(e?function(i){return e.schedule(n,0,i)}:n)}var w0;(function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"})(w0||(w0={}));var Tf=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){return yy(this,e)},t.prototype.do=function(e,r,n){var i=this,o=i.kind,a=i.value,s=i.error;return o==="N"?e==null?void 0:e(a):o==="E"?r==null?void 0:r(s):n==null?void 0:n()},t.prototype.accept=function(e,r,n){var i;return ze((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this,r=e.kind,n=e.value,i=e.error,o=r==="N"?g0(n):r==="E"?by(function(){return i}):r==="C"?mn:0;if(!o)throw new TypeError("Unexpected notification kind "+r);return o},t.createNext=function(e){return new t("N",e)},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t}();function yy(t,e){var r,n,i,o=t,a=o.kind,s=o.value,u=o.error;if(typeof a!="string")throw new TypeError('Invalid notification, missing "kind"');a==="N"?(r=e.next)===null||r===void 0||r.call(e,s):a==="E"?(n=e.error)===null||n===void 0||n.call(e,u):(i=e.complete)===null||i===void 0||i.call(e)}function pP(t){return!!t&&(t instanceof ut||ze(t.lift)&&ze(t.subscribe))}var lo=fo(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function mP(t,e){var r=typeof e=="object";return new Promise(function(n,i){var o=!1,a;t.subscribe({next:function(s){a=s,o=!0},error:i,complete:function(){o?n(a):r?n(e.defaultValue):i(new lo)}})})}function bP(t,e){var r=typeof e=="object";return new Promise(function(n,i){var o=new xf({next:function(a){n(a),o.unsubscribe()},error:i,complete:function(){r?n(e.defaultValue):i(new lo)}});t.subscribe(o)})}var _0=fo(function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}),gy=fo(function(t){return function(r){t(this),this.name="NotFoundError",this.message=r}}),wy=fo(function(t){return function(r){t(this),this.name="SequenceError",this.message=r}});function x0(t){return t instanceof Date&&!isNaN(t)}var _y=fo(function(t){return function(r){r===void 0&&(r=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}});function S0(t,e){var r=x0(t)?{first:t}:typeof t=="number"?{each:t}:t,n=r.first,i=r.each,o=r.with,a=o===void 0?yP:o,s=r.scheduler,u=s===void 0?e!=null?e:Nn:s,f=r.meta,h=f===void 0?null:f;if(n==null&&i==null)throw new TypeError("No timeout provided.");return ye(function(l,m){var w,M,x=null,R=0,O=function(j){M=Mr(m,u,function(){try{w.unsubscribe(),ot(a({meta:h,lastValue:x,seen:R})).subscribe(m)}catch(q){m.error(q)}},j)};w=l.subscribe(new ve(m,function(j){M==null||M.unsubscribe(),R++,m.next(x=j),i>0&&O(i)},void 0,void 0,function(){(M==null?void 0:M.closed)||M==null||M.unsubscribe(),x=null})),O(n!=null?typeof n=="number"?n:+n-u.now():i)})}function yP(t){throw new _y(t)}function ii(t,e){return ye(function(r,n){var i=0;r.subscribe(new ve(n,function(o){n.next(t.call(e,o,i++))}))})}var gP=Array.isArray;function wP(t,e){return gP(e)?t.apply(void 0,mt([],pt(e))):t(e)}function ho(t){return ii(function(e){return wP(t,e)})}function Of(t,e,r,n){if(r)if(kf(r))n=r;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return Of(t,e,n).apply(this,i).pipe(ho(r))};return n?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return Of(t,e).apply(this,i).pipe(As(n),Es(n))}:function(){for(var i=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=new d0,u=!0;return new ut(function(f){var h=s.subscribe(f);if(u){u=!1;var l=!1,m=!1;e.apply(i,mt(mt([],pt(o)),[function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];if(t){var x=w.shift();if(x!=null){s.error(x);return}}s.next(1<w.length?w:w[0]),m=!0,l&&s.complete()}])),m&&s.complete(),l=!0}return h})}}function _P(t,e,r){return Of(!1,t,e,r)}function xP(t,e,r){return Of(!0,t,e,r)}var SP=Array.isArray,EP=Object.getPrototypeOf,AP=Object.prototype,IP=Object.keys;function xy(t){if(t.length===1){var e=t[0];if(SP(e))return{args:e,keys:null};if(MP(e)){var r=IP(e);return{args:r.map(function(n){return e[n]}),keys:r}}}return{args:t,keys:null}}function MP(t){return t&&typeof t=="object"&&EP(t)===AP}function Sy(t,e){return t.reduce(function(r,n,i){return r[n]=e[i],r},{})}function Ey(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ni(t),n=Ss(t),i=xy(t),o=i.args,a=i.keys;if(o.length===0)return bn([],r);var s=new ut(Ay(o,r,a?function(u){return Sy(a,u)}:rr));return n?s.pipe(ho(n)):s}function Ay(t,e,r){return r===void 0&&(r=rr),function(n){Iy(e,function(){for(var i=t.length,o=new Array(i),a=i,s=i,u=function(h){Iy(e,function(){var l=bn(t[h],e),m=!1;l.subscribe(new ve(n,function(w){o[h]=w,m||(m=!0,s--),s||n.next(r(o.slice()))},function(){--a||n.complete()}))},n)},f=0;f<i;f++)u(f)},n)}}function Iy(t,e,r){t?Mr(r,t,e):e()}function E0(t,e,r,n,i,o,a,s){var u=[],f=0,h=0,l=!1,m=function(){l&&!u.length&&!f&&e.complete()},w=function(x){return f<n?M(x):u.push(x)},M=function(x){o&&e.next(x),f++;var R=!1;ot(r(x,h++)).subscribe(new ve(e,function(O){i==null||i(O),o?w(O):e.next(O)},function(){R=!0},void 0,function(){if(R)try{f--;for(var O=function(){var j=u.shift();a?Mr(e,a,function(){return M(j)}):M(j)};u.length&&f<n;)O();m()}catch(j){e.error(j)}}))};return t.subscribe(new ve(e,w,function(){l=!0,m()})),function(){s==null||s()}}function rn(t,e,r){return r===void 0&&(r=1/0),ze(e)?rn(function(n,i){return ii(function(o,a){return e(n,o,i,a)})(ot(t(n,i)))},r):(typeof e=="number"&&(r=e),ye(function(n,i){return E0(n,i,t,r)}))}function Is(t){return t===void 0&&(t=1/0),rn(rr,t)}function Pf(){return Is(1)}function Ms(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Pf()(bn(t,ni(t)))}function ks(t){return new ut(function(e){ot(t()).subscribe(e)})}var kP={connector:function(){return new Dt},resetOnDisconnect:!0};function TP(t,e){e===void 0&&(e=kP);var r=null,n=e.connector,i=e.resetOnDisconnect,o=i===void 0?!0:i,a=n(),s=new ut(function(u){return a.subscribe(u)});return s.connect=function(){return(!r||r.closed)&&(r=ks(function(){return t}).subscribe(a),o&&r.add(function(){return a=n()})),r},s}function OP(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ss(t),n=xy(t),i=n.args,o=n.keys,a=new ut(function(s){var u=i.length;if(!u){s.complete();return}for(var f=new Array(u),h=u,l=u,m=function(M){var x=!1;ot(i[M]).subscribe(new ve(s,function(R){x||(x=!0,l--),f[M]=R},function(){return h--},void 0,function(){(!h||!x)&&(l||s.next(o?Sy(o,f):f),s.complete())}))},w=0;w<u;w++)m(w)});return r?a.pipe(ho(r)):a}var PP=["addListener","removeListener"],RP=["addEventListener","removeEventListener"],NP=["on","off"];function A0(t,e,r,n){if(ze(r)&&(n=r,r=void 0),n)return A0(t,e,r).pipe(ho(n));var i=pt(DP(t)?RP.map(function(s){return function(u){return t[s](e,u,r)}}):CP(t)?PP.map(My(t,e)):LP(t)?NP.map(My(t,e)):[],2),o=i[0],a=i[1];if(!o&&y0(t))return rn(function(s){return A0(s,e,r)})(ot(t));if(!o)throw new TypeError("Invalid event target");return new ut(function(s){var u=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];return s.next(1<f.length?f:f[0])};return o(u),function(){return a(u)}})}function My(t,e){return function(r){return function(n){return t[r](e,n)}}}function CP(t){return ze(t.addListener)&&ze(t.removeListener)}function LP(t){return ze(t.on)&&ze(t.off)}function DP(t){return ze(t.addEventListener)&&ze(t.removeEventListener)}function ky(t,e,r){return r?ky(t,e).pipe(ho(r)):new ut(function(n){var i=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return n.next(a.length===1?a[0]:a)},o=t(i);return ze(e)?function(){return e(i,o)}:void 0})}function $P(t,e,r,n,i){var o,a,s,u;arguments.length===1?(o=t,u=o.initialState,e=o.condition,r=o.iterate,a=o.resultSelector,s=a===void 0?rr:a,i=o.scheduler):(u=t,!n||kf(n)?(s=rr,i=n):s=n);function f(){var h;return a0(this,function(l){switch(l.label){case 0:h=u,l.label=1;case 1:return!e||e(h)?[4,s(h)]:[3,4];case 2:l.sent(),l.label=3;case 3:return h=r(h),[3,1];case 4:return[2]}})}return ks(i?function(){return vy(f(),i)}:f)}function UP(t,e,r){return ks(function(){return t()?e:r})}function wa(t,e,r){t===void 0&&(t=0),r===void 0&&(r=xs);var n=-1;return e!=null&&(kf(e)?r=e:n=e),new ut(function(i){var o=x0(t)?+t-r.now():t;o<0&&(o=0);var a=0;return r.schedule(function(){i.closed||(i.next(a++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function Ty(t,e){return t===void 0&&(t=0),e===void 0&&(e=Nn),t<0&&(t=0),wa(t,t,e)}function BP(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ni(t),n=iy(t,1/0),i=t;return i.length?i.length===1?ot(i[0]):Is(n)(bn(i,r)):mn}var Oy=new ut(At);function FP(){return Oy}var jP=Array.isArray;function vo(t){return t.length===1&&jP(t[0])?t[0]:t}function Py(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=vo(t);return ye(function(n,i){var o=mt([n],pt(r)),a=function(){if(!i.closed)if(o.length>0){var s=void 0;try{s=ot(o.shift())}catch{a();return}var u=new ve(i,void 0,At,At);i.add(s.subscribe(u)),u.add(a)}else i.complete()};a()})}function zP(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Py(vo(t))(mn)}function qP(t,e){return bn(Object.entries(t),e)}function Ry(t,e){return function(r,n){return!t.call(e,r,n)}}function Cn(t,e){return ye(function(r,n){var i=0;r.subscribe(new ve(n,function(o){return t.call(e,o,i++)&&n.next(o)}))})}function GP(t,e,r){return[Cn(e,r)(ot(t)),Cn(Ry(e,r))(ot(t))]}function HP(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t=vo(t),t.length===1?ot(t[0]):new ut(Ny(t))}function Ny(t){return function(e){for(var r=[],n=function(o){r.push(ot(t[o]).subscribe(new ve(e,function(a){if(r){for(var s=0;s<r.length;s++)s!==o&&r[s].unsubscribe();r=null}e.next(a)})))},i=0;r&&!e.closed&&i<t.length;i++)n(i)}}function WP(t,e,r){if(e==null&&(e=t,t=0),e<=0)return mn;var n=e+t;return new ut(r?function(i){var o=t;return r.schedule(function(){o<n?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=t;o<n&&!i.closed;)i.next(o++);i.complete()})}function VP(t,e){return new ut(function(r){var n=t(),i=e(n),o=i?ot(i):mn;return o.subscribe(r),function(){n&&n.unsubscribe()}})}function I0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ss(t),n=vo(t);return n.length?new ut(function(i){var o=n.map(function(){return[]}),a=n.map(function(){return!1});i.add(function(){o=a=null});for(var s=function(f){ot(n[f]).subscribe(new ve(i,function(h){if(o[f].push(h),o.every(function(m){return m.length})){var l=o.map(function(m){return m.shift()});i.next(r?r.apply(void 0,mt([],pt(l))):l),o.some(function(m,w){return!m.length&&a[w]})&&i.complete()}},function(){a[f]=!0,!o[f].length&&i.complete()}))},u=0;!i.closed&&u<n.length;u++)s(u);return function(){o=a=null}}):mn}function M0(t){return ye(function(e,r){var n=!1,i=null,o=null,a=!1,s=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var f=i;i=null,r.next(f)}a&&r.complete()},u=function(){o=null,a&&r.complete()};e.subscribe(new ve(r,function(f){n=!0,i=f,o||ot(t(f)).subscribe(o=new ve(r,s,u))},function(){a=!0,(!n||!o||o.closed)&&r.complete()}))})}function Cy(t,e){return e===void 0&&(e=xs),M0(function(){return wa(t,e)})}function Ly(t){return ye(function(e,r){var n=[];return e.subscribe(new ve(r,function(i){return n.push(i)},function(){r.next(n),r.complete()})),t.subscribe(new ve(r,function(){var i=n;n=[],r.next(i)},At)),function(){n=null}})}function Dy(t,e){return e===void 0&&(e=null),e=e!=null?e:t,ye(function(r,n){var i=[],o=0;r.subscribe(new ve(n,function(a){var s,u,f,h,l=null;o++%e==0&&i.push([]);try{for(var m=Ir(i),w=m.next();!w.done;w=m.next()){var M=w.value;M.push(a),t<=M.length&&(l=l!=null?l:[],l.push(M))}}catch(O){s={error:O}}finally{try{w&&!w.done&&(u=m.return)&&u.call(m)}finally{if(s)throw s.error}}if(l)try{for(var x=Ir(l),R=x.next();!R.done;R=x.next()){var M=R.value;ri(i,M),n.next(M)}}catch(O){f={error:O}}finally{try{R&&!R.done&&(h=x.return)&&h.call(x)}finally{if(f)throw f.error}}},function(){var a,s;try{for(var u=Ir(i),f=u.next();!f.done;f=u.next()){var h=f.value;n.next(h)}}catch(l){a={error:l}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}n.complete()},void 0,function(){i=null}))})}function $y(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(e=ni(n))!==null&&e!==void 0?e:Nn,a=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return ye(function(u,f){var h=[],l=!1,m=function(x){var R=x.buffer,O=x.subs;O.unsubscribe(),ri(h,x),f.next(R),l&&w()},w=function(){if(h){var x=new br;f.add(x);var R=[],O={buffer:R,subs:x};h.push(O),Mr(x,o,function(){return m(O)},t)}};a!==null&&a>=0?Mr(f,o,w,a,!0):l=!0,w();var M=new ve(f,function(x){var R,O,j=h.slice();try{for(var q=Ir(j),B=q.next();!B.done;B=q.next()){var I=B.value,G=I.buffer;G.push(x),s<=G.length&&m(I)}}catch(v){R={error:v}}finally{try{B&&!B.done&&(O=q.return)&&O.call(q)}finally{if(R)throw R.error}}},function(){for(;h==null?void 0:h.length;)f.next(h.shift().buffer);M==null||M.unsubscribe(),f.complete(),f.unsubscribe()},void 0,function(){return h=null});u.subscribe(M)})}function Uy(t,e){return ye(function(r,n){var i=[];ot(t).subscribe(new ve(n,function(o){var a=[];i.push(a);var s=new br,u=function(){ri(i,a),n.next(a),s.unsubscribe()};s.add(ot(e(o)).subscribe(new ve(n,u,At)))},At)),r.subscribe(new ve(n,function(o){var a,s;try{for(var u=Ir(i),f=u.next();!f.done;f=u.next()){var h=f.value;h.push(o)}}catch(l){a={error:l}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})}function By(t){return ye(function(e,r){var n=null,i=null,o=function(){i==null||i.unsubscribe();var a=n;n=[],a&&r.next(a),ot(t()).subscribe(i=new ve(r,o,At))};o(),e.subscribe(new ve(r,function(a){return n==null?void 0:n.push(a)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=i=null}))})}function k0(t){return ye(function(e,r){var n=null,i=!1,o;n=e.subscribe(new ve(r,void 0,void 0,function(a){o=ot(t(a,k0(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function Fy(t,e,r,n,i){return function(o,a){var s=r,u=e,f=0;o.subscribe(new ve(a,function(h){var l=f++;u=s?t(u,h,l):(s=!0,h),n&&a.next(u)},i&&function(){s&&a.next(u),a.complete()}))}}function _a(t,e){return ye(Fy(t,e,arguments.length>=2,!1,!0))}var KP=function(t,e){return t.push(e),t};function T0(){return ye(function(t,e){_a(KP,[])(t).subscribe(e)})}function jy(t,e){return c0(T0(),rn(function(r){return t(r)}),e?ho(e):rr)}function O0(t){return jy(Ey,t)}var zy=O0;function P0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ss(t);return r?c0(P0.apply(void 0,mt([],pt(t))),ho(r)):ye(function(n,i){Ay(mt([n],pt(vo(t))))(i)})}function qy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P0.apply(void 0,mt([],pt(t)))}function Rf(t,e){return ze(e)?rn(t,e,1):rn(t,1)}function Gy(t,e){return ze(e)?Rf(function(){return t},e):Rf(function(){return t})}function Hy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ni(t);return ye(function(n,i){Pf()(bn(mt([n],pt(t)),r)).subscribe(i)})}function Wy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Hy.apply(void 0,mt([],pt(t)))}function JP(t){return new ut(function(e){return t.subscribe(e)})}var YP={connector:function(){return new Dt}};function Nf(t,e){e===void 0&&(e=YP);var r=e.connector;return ye(function(n,i){var o=r();bn(t(JP(o))).subscribe(i),i.add(n.subscribe(o))})}function Vy(t){return _a(function(e,r,n){return!t||t(r,n)?e+1:e},0)}function Ky(t){return ye(function(e,r){var n=!1,i=null,o=null,a=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var s=i;i=null,r.next(s)}};e.subscribe(new ve(r,function(s){o==null||o.unsubscribe(),n=!0,i=s,o=new ve(r,a,At),ot(t(s)).subscribe(o)},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function Jy(t,e){return e===void 0&&(e=Nn),ye(function(r,n){var i=null,o=null,a=null,s=function(){if(i){i.unsubscribe(),i=null;var f=o;o=null,n.next(f)}};function u(){var f=a+t,h=e.now();if(h<f){i=this.schedule(void 0,f-h),n.add(i);return}s()}r.subscribe(new ve(n,function(f){o=f,a=e.now(),i||(i=e.schedule(u,t),n.add(i))},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function Ts(t){return ye(function(e,r){var n=!1;e.subscribe(new ve(r,function(i){n=!0,r.next(i)},function(){n||r.next(t),r.complete()}))})}function po(t){return t<=0?function(){return mn}:ye(function(e,r){var n=0;e.subscribe(new ve(r,function(i){++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function R0(){return ye(function(t,e){t.subscribe(new ve(e,At))})}function N0(t){return ii(function(){return t})}function Cf(t,e){return e?function(r){return Ms(e.pipe(po(1),R0()),r.pipe(Cf(t)))}:rn(function(r,n){return t(r,n).pipe(po(1),N0(r))})}function Yy(t,e){e===void 0&&(e=Nn);var r=wa(t,e);return Cf(function(){return r})}function Xy(){return ye(function(t,e){t.subscribe(new ve(e,function(r){return yy(r,e)}))})}function Zy(t,e){return ye(function(r,n){var i=new Set;r.subscribe(new ve(n,function(o){var a=t?t(o):o;i.has(a)||(i.add(a),n.next(o))})),e==null||e.subscribe(new ve(n,function(){return i.clear()},At))})}function C0(t,e){return e===void 0&&(e=rr),t=t!=null?t:XP,ye(function(r,n){var i,o=!0;r.subscribe(new ve(n,function(a){var s=e(a);(o||!t(i,s))&&(o=!1,i=s,n.next(a))}))})}function XP(t,e){return t===e}function Qy(t,e){return C0(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Os(t){return t===void 0&&(t=ZP),ye(function(e,r){var n=!1;e.subscribe(new ve(r,function(i){n=!0,r.next(i)},function(){return n?r.complete():r.error(t())}))})}function ZP(){return new lo}function e2(t,e){if(t<0)throw new _0;var r=arguments.length>=2;return function(n){return n.pipe(Cn(function(i,o){return o===t}),po(1),r?Ts(e):Os(function(){return new _0}))}}function t2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return Ms(r,g0.apply(void 0,mt([],pt(t))))}}function r2(t,e){return ye(function(r,n){var i=0;r.subscribe(new ve(n,function(o){t.call(e,o,i++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}function L0(){return ye(function(t,e){var r=!1,n=null;t.subscribe(new ve(e,function(i){n||(n=ot(i).subscribe(new ve(e,void 0,function(){n=null,r&&e.complete()})))},function(){r=!0,!n&&e.complete()}))})}var n2=L0;function D0(t,e){return e?function(r){return r.pipe(D0(function(n,i){return ot(t(n,i)).pipe(ii(function(o,a){return e(n,o,i,a)}))}))}:ye(function(r,n){var i=0,o=null,a=!1;r.subscribe(new ve(n,function(s){o||(o=new ve(n,void 0,function(){o=null,a&&n.complete()}),ot(t(s,i++)).subscribe(o))},function(){a=!0,!o&&n.complete()}))})}function i2(t,e,r){return e===void 0&&(e=1/0),e=(e||0)<1?1/0:e,ye(function(n,i){return E0(n,i,t,e,void 0,!0,r)})}function o2(t){return ye(function(e,r){try{e.subscribe(r)}finally{r.add(t)}})}function a2(t,e){return ye(s2(t,e,"value"))}function s2(t,e,r){var n=r==="index";return function(i,o){var a=0;i.subscribe(new ve(o,function(s){var u=a++;t.call(e,s,u,i)&&(o.next(n?u:s),o.complete())},function(){o.next(n?-1:void 0),o.complete()}))}}function u2(t,e){return ye(s2(t,e,"index"))}function f2(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Cn(function(i,o){return t(i,o,n)}):rr,po(1),r?Ts(e):Os(function(){return new lo}))}}function c2(t,e,r,n){return ye(function(i,o){var a;!e||typeof e=="function"?a=e:(r=e.duration,a=e.element,n=e.connector);var s=new Map,u=function(m){s.forEach(m),m(o)},f=function(m){return u(function(w){return w.error(m)})},h=new QP(o,function(m){try{var w=t(m),M=s.get(w);if(!M){s.set(w,M=n?n():new Dt);var x=l(w,M);if(o.next(x),r){var R=new ve(M,function(){M.complete(),R==null||R.unsubscribe()},void 0,void 0,function(){return s.delete(w)});h.add(ot(r(x)).subscribe(R))}}M.next(a?a(m):m)}catch(O){f(O)}},function(){return u(function(m){return m.complete()})},f,function(){return s.clear()});i.subscribe(h);function l(m,w){var M=new ut(function(x){h.activeGroups++;var R=w.subscribe(x);return function(){R.unsubscribe(),--h.activeGroups==0&&h.teardownAttempted&&h.unsubscribe()}});return M.key=m,M}})}var QP=function(t){kt(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.activeGroups=0,r.teardownAttempted=!1,r}return e.prototype.unsubscribe=function(){this.teardownAttempted=!0,this.activeGroups===0&&t.prototype.unsubscribe.call(this)},e}(ve);function l2(){return ye(function(t,e){t.subscribe(new ve(e,function(){e.next(!1),e.complete()},function(){e.next(!0),e.complete()}))})}function $0(t){return t<=0?function(){return mn}:ye(function(e,r){var n=[];e.subscribe(new ve(r,function(i){n.push(i),t<n.length&&n.shift()},function(){var i,o;try{for(var a=Ir(n),s=a.next();!s.done;s=a.next()){var u=s.value;r.next(u)}}catch(f){i={error:f}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}r.complete()},void 0,function(){n=null}))})}function h2(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Cn(function(i,o){return t(i,o,n)}):rr,$0(1),r?Ts(e):Os(function(){return new lo}))}}function d2(){return ye(function(t,e){t.subscribe(new ve(e,function(r){e.next(Tf.createNext(r))},function(){e.next(Tf.createComplete()),e.complete()},function(r){e.next(Tf.createError(r)),e.complete()}))})}function v2(t){return _a(ze(t)?function(e,r){return t(e,r)>0?e:r}:function(e,r){return e>r?e:r})}var p2=rn;function m2(t,e,r){return r===void 0&&(r=1/0),ze(e)?rn(function(){return t},e,r):(typeof e=="number"&&(r=e),rn(function(){return t},r))}function b2(t,e,r){return r===void 0&&(r=1/0),ye(function(n,i){var o=e;return E0(n,i,function(a,s){return t(o,a,s)},r,function(a){o=a},!1,void 0,function(){return o=null})})}function y2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ni(t),n=iy(t,1/0);return t=vo(t),ye(function(i,o){Is(n)(bn(mt([i],pt(t)),r)).subscribe(o)})}function g2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y2.apply(void 0,mt([],pt(t)))}function w2(t){return _a(ze(t)?function(e,r){return t(e,r)<0?e:r}:function(e,r){return e<r?e:r})}function Lf(t,e){var r=ze(t)?t:function(){return t};return ze(e)?Nf(e,{connector:r}):function(n){return new Ef(n,r)}}function _2(){return ye(function(t,e){var r,n=!1;t.subscribe(new ve(e,function(i){var o=r;r=i,n&&e.next([o,i]),n=!0}))})}function x2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return ii(function(n){for(var i=n,o=0;o<r;o++){var a=i==null?void 0:i[t[o]];if(typeof a!="undefined")i=a;else return}return i})}function S2(t){return t?function(e){return Nf(t)(e)}:function(e){return Lf(new Dt)(e)}}function E2(t){return function(e){var r=new Xb(t);return new Ef(e,function(){return r})}}function A2(){return function(t){var e=new d0;return new Ef(t,function(){return e})}}function I2(t,e,r,n){r&&!ze(r)&&(n=r);var i=ze(r)?r:void 0;return function(o){return Lf(new h0(t,e,n),i)(o)}}function U0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?ye(function(r,n){Ny(mt([r],pt(t)))(n)}):rr}function M2(t){return t===void 0&&(t=1/0),t<=0?function(){return mn}:ye(function(e,r){var n=0,i,o=function(){var a=!1;i=e.subscribe(new ve(r,void 0,function(){++n<t?i?(i.unsubscribe(),i=null,o()):a=!0:r.complete()})),a&&(i.unsubscribe(),i=null,o())};o()})}function k2(t){return ye(function(e,r){var n,i=!1,o,a=!1,s=!1,u=function(){return s&&a&&(r.complete(),!0)},f=function(){return o||(o=new Dt,t(o).subscribe(new ve(r,function(){n?h():i=!0},function(){a=!0,u()}))),o},h=function(){s=!1,n=e.subscribe(new ve(r,void 0,function(){s=!0,!u()&&f().next()})),i&&(n.unsubscribe(),n=null,i=!1,h())};h()})}function T2(t){t===void 0&&(t=1/0);var e;t&&typeof t=="object"?e=t:e={count:t};var r=e.count,n=r===void 0?1/0:r,i=e.delay,o=e.resetOnSuccess,a=o===void 0?!1:o;return n<=0?rr:ye(function(s,u){var f=0,h,l=function(){var m=!1;h=s.subscribe(new ve(u,function(w){a&&(f=0),u.next(w)},void 0,function(w){if(f++<n){var M=function(){h?(h.unsubscribe(),h=null,l()):m=!0};if(i!=null){var x=typeof i=="number"?wa(i):ot(i(w,f)),R=new ve(u,function(){R.unsubscribe(),M()},function(){u.complete()});x.subscribe(R)}else M()}else u.error(w)})),m&&(h.unsubscribe(),h=null,l())};l()})}function O2(t){return ye(function(e,r){var n,i=!1,o,a=function(){n=e.subscribe(new ve(r,void 0,void 0,function(s){o||(o=new Dt,t(o).subscribe(new ve(r,function(){return n?a():i=!0}))),o&&o.next(s)})),i&&(n.unsubscribe(),n=null,i=!1,a())};a()})}function B0(t){return ye(function(e,r){var n=!1,i=null;e.subscribe(new ve(r,function(a){n=!0,i=a}));var o=function(){if(n){n=!1;var a=i;i=null,r.next(a)}};t.subscribe(new ve(r,o,At))})}function P2(t,e){return e===void 0&&(e=Nn),B0(Ty(t,e))}function F0(t,e){return ye(Fy(t,e,arguments.length>=2,!0))}function R2(t,e){return e===void 0&&(e=function(r,n){return r===n}),ye(function(r,n){var i=N2(),o=N2(),a=function(u){n.next(u),n.complete()},s=function(u,f){var h=new ve(n,function(l){var m=f.buffer,w=f.complete;m.length===0?w?a(!1):u.buffer.push(l):!e(l,m.shift())&&a(!1)},function(){u.complete=!0;var l=f.complete,m=f.buffer;l&&a(m.length===0),h==null||h.unsubscribe()});return h};r.subscribe(s(i,o)),t.subscribe(s(o,i))})}function N2(){return{buffer:[],complete:!1}}function j0(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new Dt}:e,n=t.resetOnError,i=n===void 0?!0:n,o=t.resetOnComplete,a=o===void 0?!0:o,s=t.resetOnRefCountZero,u=s===void 0?!0:s;return function(f){var h=null,l=null,m=null,w=0,M=!1,x=!1,R=function(){l==null||l.unsubscribe(),l=null},O=function(){R(),h=m=null,M=x=!1},j=function(){var q=h;O(),q==null||q.unsubscribe()};return ye(function(q,B){w++,!x&&!M&&R();var I=m=m!=null?m:r();B.add(function(){w--,w===0&&!x&&!M&&(l=z0(j,u))}),I.subscribe(B),h||(h=new xf({next:function(G){return I.next(G)},error:function(G){x=!0,R(),l=z0(O,i,G),I.error(G)},complete:function(){M=!0,R(),l=z0(O,a),I.complete()}}),bn(q).subscribe(h))})(f)}}function z0(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return e===!0?(t(),null):e===!1?null:e.apply(void 0,mt([],pt(r))).pipe(po(1)).subscribe(function(){return t()})}function C2(t,e,r){var n,i,o,a=!1;return t&&typeof t=="object"?(o=(n=t.bufferSize)!==null&&n!==void 0?n:1/0,e=(i=t.windowTime)!==null&&i!==void 0?i:1/0,a=!!t.refCount,r=t.scheduler):o=t!=null?t:1/0,j0({connector:function(){return new h0(o,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function L2(t){return ye(function(e,r){var n=!1,i,o=!1,a=0;e.subscribe(new ve(r,function(s){o=!0,(!t||t(s,a++,e))&&(n&&r.error(new wy("Too many matching values")),n=!0,i=s)},function(){n?(r.next(i),r.complete()):r.error(o?new gy("No matching values"):new lo)}))})}function D2(t){return Cn(function(e,r){return t<=r})}function $2(t){return t<=0?rr:ye(function(e,r){var n=new Array(t),i=0;return e.subscribe(new ve(r,function(o){var a=i++;if(a<t)n[a]=o;else{var s=a%t,u=n[s];n[s]=o,r.next(u)}})),function(){n=null}})}function U2(t){return ye(function(e,r){var n=!1,i=new ve(r,function(){i==null||i.unsubscribe(),n=!0},At);ot(t).subscribe(i),e.subscribe(new ve(r,function(o){return n&&r.next(o)}))})}function B2(t){return ye(function(e,r){var n=!1,i=0;e.subscribe(new ve(r,function(o){return(n||(n=!t(o,i++)))&&r.next(o)}))})}function F2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ni(t);return ye(function(n,i){(r?Ms(t,n,r):Ms(t,n)).subscribe(i)})}function xa(t,e){return ye(function(r,n){var i=null,o=0,a=!1,s=function(){return a&&!i&&n.complete()};r.subscribe(new ve(n,function(u){i==null||i.unsubscribe();var f=0,h=o++;ot(t(u,h)).subscribe(i=new ve(n,function(l){return n.next(e?e(u,l,h,f++):l)},function(){i=null,s()}))},function(){a=!0,s()}))})}function j2(){return xa(rr)}function z2(t,e){return ze(e)?xa(function(){return t},e):xa(function(){return t})}function q2(t,e){return ye(function(r,n){var i=e;return xa(function(o,a){return t(i,o,a)},function(o,a){return i=a,a})(r).subscribe(n),function(){i=null}})}function G2(t){return ye(function(e,r){ot(t).subscribe(new ve(r,function(){return r.complete()},At)),!r.closed&&e.subscribe(r)})}function H2(t,e){return e===void 0&&(e=!1),ye(function(r,n){var i=0;r.subscribe(new ve(n,function(o){var a=t(o,i++);(a||e)&&n.next(o),!a&&n.complete()}))})}function W2(t,e,r){var n=ze(t)||e||r?{next:t,error:e,complete:r}:t;return n?ye(function(i,o){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var s=!0;i.subscribe(new ve(o,function(u){var f;(f=n.next)===null||f===void 0||f.call(n,u),o.next(u)},function(){var u;s=!1,(u=n.complete)===null||u===void 0||u.call(n),o.complete()},function(u){var f;s=!1,(f=n.error)===null||f===void 0||f.call(n,u),o.error(u)},function(){var u,f;s&&((u=n.unsubscribe)===null||u===void 0||u.call(n)),(f=n.finalize)===null||f===void 0||f.call(n)}))}):rr}var V2={leading:!0,trailing:!1};function q0(t,e){var r=e===void 0?V2:e,n=r.leading,i=r.trailing;return ye(function(o,a){var s=!1,u=null,f=null,h=!1,l=function(){f==null||f.unsubscribe(),f=null,i&&(M(),h&&a.complete())},m=function(){f=null,h&&a.complete()},w=function(x){return f=ot(t(x)).subscribe(new ve(a,l,m))},M=function(){if(s){s=!1;var x=u;u=null,a.next(x),!h&&w(x)}};o.subscribe(new ve(a,function(x){s=!0,u=x,!(f&&!f.closed)&&(n?M():w(x))},function(){h=!0,!(i&&s&&f&&!f.closed)&&a.complete()}))})}function K2(t,e,r){e===void 0&&(e=Nn),r===void 0&&(r=V2);var n=wa(t,e);return q0(function(){return n},r)}function J2(t){return t===void 0&&(t=xs),function(e){return ks(function(){return e.pipe(F0(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),ii(function(r){var n=r.current,i=r.last,o=r.value;return new e7(o,n-i)}))})}}var e7=function(){function t(e,r){this.value=e,this.interval=r}return t}();function Y2(t,e,r){var n,i,o;if(r=r!=null?r:xs,x0(t)?n=t:typeof t=="number"&&(i=t),e)o=function(){return e};else throw new TypeError("No observable provided to switch to");if(n==null&&i==null)throw new TypeError("No timeout provided.");return S0({first:n,each:i,scheduler:r,with:o})}function X2(t){return t===void 0&&(t=Af),ii(function(e){return{value:e,timestamp:t.now()}})}function Z2(t){return ye(function(e,r){var n=new Dt;r.next(n.asObservable());var i=function(o){n.error(o),r.error(o)};return e.subscribe(new ve(r,function(o){return n==null?void 0:n.next(o)},function(){n.complete(),r.complete()},i)),t.subscribe(new ve(r,function(){n.complete(),r.next(n=new Dt)},At,i)),function(){n==null||n.unsubscribe(),n=null}})}function Q2(t,e){e===void 0&&(e=0);var r=e>0?e:t;return ye(function(n,i){var o=[new Dt],a=[],s=0;i.next(o[0].asObservable()),n.subscribe(new ve(i,function(u){var f,h;try{for(var l=Ir(o),m=l.next();!m.done;m=l.next()){var w=m.value;w.next(u)}}catch(R){f={error:R}}finally{try{m&&!m.done&&(h=l.return)&&h.call(l)}finally{if(f)throw f.error}}var M=s-t+1;if(M>=0&&M%r==0&&o.shift().complete(),++s%r==0){var x=new Dt;o.push(x),i.next(x.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(u){for(;o.length>0;)o.shift().error(u);i.error(u)},function(){a=null,o=null}))})}function eg(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(e=ni(n))!==null&&e!==void 0?e:Nn,a=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return ye(function(u,f){var h=[],l=!1,m=function(R){var O=R.window,j=R.subs;O.complete(),j.unsubscribe(),ri(h,R),l&&w()},w=function(){if(h){var R=new br;f.add(R);var O=new Dt,j={window:O,subs:R,seen:0};h.push(j),f.next(O.asObservable()),Mr(R,o,function(){return m(j)},t)}};a!==null&&a>=0?Mr(f,o,w,a,!0):l=!0,w();var M=function(R){return h.slice().forEach(R)},x=function(R){M(function(O){var j=O.window;return R(j)}),R(f),f.unsubscribe()};return u.subscribe(new ve(f,function(R){M(function(O){O.window.next(R),s<=++O.seen&&m(O)})},function(){return x(function(R){return R.complete()})},function(R){return x(function(O){return O.error(R)})})),function(){h=null}})}function tg(t,e){return ye(function(r,n){var i=[],o=function(a){for(;0<i.length;)i.shift().error(a);n.error(a)};ot(t).subscribe(new ve(n,function(a){var s=new Dt;i.push(s);var u=new br,f=function(){ri(i,s),s.complete(),u.unsubscribe()},h;try{h=ot(e(a))}catch(l){o(l);return}n.next(s.asObservable()),u.add(h.subscribe(new ve(n,f,At,o)))},At)),r.subscribe(new ve(n,function(a){var s,u,f=i.slice();try{for(var h=Ir(f),l=h.next();!l.done;l=h.next()){var m=l.value;m.next(a)}}catch(w){s={error:w}}finally{try{l&&!l.done&&(u=h.return)&&u.call(h)}finally{if(s)throw s.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}function rg(t){return ye(function(e,r){var n,i,o=function(s){n.error(s),r.error(s)},a=function(){i==null||i.unsubscribe(),n==null||n.complete(),n=new Dt,r.next(n.asObservable());var s;try{s=ot(t())}catch(u){o(u);return}s.subscribe(i=new ve(r,a,a,o))};a(),e.subscribe(new ve(r,function(s){return n.next(s)},function(){n.complete(),r.complete()},o,function(){i==null||i.unsubscribe(),n=null}))})}function ng(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ss(t);return ye(function(n,i){for(var o=t.length,a=new Array(o),s=t.map(function(){return!1}),u=!1,f=function(l){ot(t[l]).subscribe(new ve(i,function(m){a[l]=m,!u&&!s[l]&&(s[l]=!0,(u=s.every(rr))&&(s=null))},At))},h=0;h<o;h++)f(h);n.subscribe(new ve(i,function(l){if(u){var m=mt([l],pt(a));i.next(r?r.apply(void 0,mt([],pt(m))):m)}}))})}function ig(t){return jy(I0,t)}function og(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ye(function(r,n){I0.apply(void 0,mt([r],pt(t))).subscribe(n)})}function ag(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return og.apply(void 0,mt([],pt(t)))}var t7=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Observable:ut,ConnectableObservable:Ef,observable:Sf,animationFrames:FO,Subject:Dt,BehaviorSubject:Xb,ReplaySubject:h0,AsyncSubject:d0,asap:KO,asapScheduler:ey,async:xs,asyncScheduler:Nn,queue:XO,queueScheduler:ty,animationFrame:eP,animationFrameScheduler:ry,VirtualTimeScheduler:tP,VirtualAction:ny,Scheduler:m0,Subscription:br,Subscriber:_f,Notification:Tf,get NotificationKind(){return w0},pipe:c0,noop:At,identity:rr,isObservable:pP,lastValueFrom:mP,firstValueFrom:bP,ArgumentOutOfRangeError:_0,EmptyError:lo,NotFoundError:gy,ObjectUnsubscribedError:Jb,SequenceError:wy,TimeoutError:_y,UnsubscriptionError:yf,bindCallback:_P,bindNodeCallback:xP,combineLatest:Ey,concat:Ms,connectable:TP,defer:ks,empty:rP,forkJoin:OP,from:bn,fromEvent:A0,fromEventPattern:ky,generate:$P,iif:UP,interval:Ty,merge:BP,never:FP,of:g0,onErrorResumeNext:zP,pairs:qP,partition:GP,race:HP,range:WP,throwError:by,timer:wa,using:VP,zip:I0,scheduled:my,EMPTY:mn,NEVER:Oy,config:ki,audit:M0,auditTime:Cy,buffer:Ly,bufferCount:Dy,bufferTime:$y,bufferToggle:Uy,bufferWhen:By,catchError:k0,combineAll:zy,combineLatestAll:O0,combineLatestWith:qy,concatAll:Pf,concatMap:Rf,concatMapTo:Gy,concatWith:Wy,connect:Nf,count:Vy,debounce:Ky,debounceTime:Jy,defaultIfEmpty:Ts,delay:Yy,delayWhen:Cf,dematerialize:Xy,distinct:Zy,distinctUntilChanged:C0,distinctUntilKeyChanged:Qy,elementAt:e2,endWith:t2,every:r2,exhaust:n2,exhaustAll:L0,exhaustMap:D0,expand:i2,filter:Cn,finalize:o2,find:a2,findIndex:u2,first:f2,groupBy:c2,ignoreElements:R0,isEmpty:l2,last:h2,map:ii,mapTo:N0,materialize:d2,max:v2,mergeAll:Is,flatMap:p2,mergeMap:rn,mergeMapTo:m2,mergeScan:b2,mergeWith:g2,min:w2,multicast:Lf,observeOn:Es,pairwise:_2,pluck:x2,publish:S2,publishBehavior:E2,publishLast:A2,publishReplay:I2,raceWith:U0,reduce:_a,repeat:M2,repeatWhen:k2,retry:T2,retryWhen:O2,refCount:l0,sample:B0,sampleTime:P2,scan:F0,sequenceEqual:R2,share:j0,shareReplay:C2,single:L2,skip:D2,skipLast:$2,skipUntil:U2,skipWhile:B2,startWith:F2,subscribeOn:As,switchAll:j2,switchMap:xa,switchMapTo:z2,switchScan:q2,take:po,takeLast:$0,takeUntil:G2,takeWhile:H2,tap:W2,throttle:q0,throttleTime:K2,throwIfEmpty:Os,timeInterval:J2,timeout:S0,timeoutWith:Y2,timestamp:X2,toArray:T0,window:Z2,windowCount:Q2,windowTime:eg,windowToggle:tg,windowWhen:rg,withLatestFrom:ng,zipAll:ig,zipWith:ag}),G0=Et(t7);(function(t){var e=te&&te.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamStatic=t.Stream=t.CommitType=t.AnchorStatus=t.SignatureStatus=void 0;const r=e(Wu.exports),n=Mn,i=G0,o=dh;(function(f){f[f.GENESIS=0]="GENESIS",f[f.PARTIAL=1]="PARTIAL",f[f.SIGNED=2]="SIGNED"})(t.SignatureStatus||(t.SignatureStatus={})),function(f){f[f.NOT_REQUESTED=0]="NOT_REQUESTED",f[f.PENDING=1]="PENDING",f[f.PROCESSING=2]="PROCESSING",f[f.ANCHORED=3]="ANCHORED",f[f.FAILED=4]="FAILED"}(t.AnchorStatus||(t.AnchorStatus={}));var a;(function(f){f[f.GENESIS=0]="GENESIS",f[f.SIGNED=1]="SIGNED",f[f.ANCHOR=2]="ANCHOR"})(a=t.CommitType||(t.CommitType={}));class s extends i.Observable{constructor(h,l){super(m=>{h.subscribe(m)});this.state$=h,this._context=l}get id(){return new n.StreamID(this.state$.value.type,this.state$.value.log[0].cid)}get api(){return this._context.api}get metadata(){var h;const{next:l,metadata:m}=this.state$.value;return r.default((h=l==null?void 0:l.metadata)!==null&&h!==void 0?h:m)}get content(){var h;const{next:l,content:m}=this.state$.value;return r.default((h=l==null?void 0:l.content)!==null&&h!==void 0?h:m)}get controllers(){return this.metadata.controllers}get tip(){return this.state$.value.log[this.state$.value.log.length-1].cid}get commitId(){return this.id.atCommit(this.tip)}get allCommitIds(){return this.state$.value.log.map(({cid:h})=>this.id.atCommit(h))}get anchorCommitIds(){return this.state$.value.log.filter(({type:h})=>h===a.ANCHOR).map(({cid:h})=>this.id.atCommit(h))}get state(){return r.default(this.state$.value)}async sync(h={}){h=be({sync:o.SyncOptions.PREFER_CACHE},h);const l=await this.api.loadStream(this.id,h);this.state$.next(l.state)}async requestAnchor(){return this.api.requestAnchor(this.id)}}t.Stream=s;function u(){return f=>{}}t.StreamStatic=u})(vh);var Df={},$f={exports:{}};(function(t,e){var r=typeof self!="undefined"?self:te,n=function(){function o(){this.fetch=!1,this.DOMException=r.DOMException}return o.prototype=r,new o}();(function(o){(function(a){var s={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function u(y){return y&&DataView.prototype.isPrototypeOf(y)}if(s.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(y){return y&&f.indexOf(Object.prototype.toString.call(y))>-1};function l(y){if(typeof y!="string"&&(y=String(y)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(y))throw new TypeError("Invalid character in header field name");return y.toLowerCase()}function m(y){return typeof y!="string"&&(y=String(y)),y}function w(y){var g={next:function(){var k=y.shift();return{done:k===void 0,value:k}}};return s.iterable&&(g[Symbol.iterator]=function(){return g}),g}function M(y){this.map={},y instanceof M?y.forEach(function(g,k){this.append(k,g)},this):Array.isArray(y)?y.forEach(function(g){this.append(g[0],g[1])},this):y&&Object.getOwnPropertyNames(y).forEach(function(g){this.append(g,y[g])},this)}M.prototype.append=function(y,g){y=l(y),g=m(g);var k=this.map[y];this.map[y]=k?k+", "+g:g},M.prototype.delete=function(y){delete this.map[l(y)]},M.prototype.get=function(y){return y=l(y),this.has(y)?this.map[y]:null},M.prototype.has=function(y){return this.map.hasOwnProperty(l(y))},M.prototype.set=function(y,g){this.map[l(y)]=m(g)},M.prototype.forEach=function(y,g){for(var k in this.map)this.map.hasOwnProperty(k)&&y.call(g,this.map[k],k,this)},M.prototype.keys=function(){var y=[];return this.forEach(function(g,k){y.push(k)}),w(y)},M.prototype.values=function(){var y=[];return this.forEach(function(g){y.push(g)}),w(y)},M.prototype.entries=function(){var y=[];return this.forEach(function(g,k){y.push([k,g])}),w(y)},s.iterable&&(M.prototype[Symbol.iterator]=M.prototype.entries);function x(y){if(y.bodyUsed)return Promise.reject(new TypeError("Already read"));y.bodyUsed=!0}function R(y){return new Promise(function(g,k){y.onload=function(){g(y.result)},y.onerror=function(){k(y.error)}})}function O(y){var g=new FileReader,k=R(g);return g.readAsArrayBuffer(y),k}function j(y){var g=new FileReader,k=R(g);return g.readAsText(y),k}function q(y){for(var g=new Uint8Array(y),k=new Array(g.length),L=0;L<g.length;L++)k[L]=String.fromCharCode(g[L]);return k.join("")}function B(y){if(y.slice)return y.slice(0);var g=new Uint8Array(y.byteLength);return g.set(new Uint8Array(y)),g.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(y){this._bodyInit=y,y?typeof y=="string"?this._bodyText=y:s.blob&&Blob.prototype.isPrototypeOf(y)?this._bodyBlob=y:s.formData&&FormData.prototype.isPrototypeOf(y)?this._bodyFormData=y:s.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)?this._bodyText=y.toString():s.arrayBuffer&&s.blob&&u(y)?(this._bodyArrayBuffer=B(y.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(y)||h(y))?this._bodyArrayBuffer=B(y):this._bodyText=y=Object.prototype.toString.call(y):this._bodyText="",this.headers.get("content-type")||(typeof y=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var y=x(this);if(y)return y;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?x(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(O)}),this.text=function(){var y=x(this);if(y)return y;if(this._bodyBlob)return j(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(q(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}var G=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(y){var g=y.toUpperCase();return G.indexOf(g)>-1?g:y}function A(y,g){g=g||{};var k=g.body;if(y instanceof A){if(y.bodyUsed)throw new TypeError("Already read");this.url=y.url,this.credentials=y.credentials,g.headers||(this.headers=new M(y.headers)),this.method=y.method,this.mode=y.mode,this.signal=y.signal,!k&&y._bodyInit!=null&&(k=y._bodyInit,y.bodyUsed=!0)}else this.url=String(y);if(this.credentials=g.credentials||this.credentials||"same-origin",(g.headers||!this.headers)&&(this.headers=new M(g.headers)),this.method=v(g.method||this.method||"GET"),this.mode=g.mode||this.mode||null,this.signal=g.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(k)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function D(y){var g=new FormData;return y.trim().split("&").forEach(function(k){if(k){var L=k.split("="),p=L.shift().replace(/\+/g," "),d=L.join("=").replace(/\+/g," ");g.append(decodeURIComponent(p),decodeURIComponent(d))}}),g}function K(y){var g=new M,k=y.replace(/\r?\n[\t ]+/g," ");return k.split(/\r?\n/).forEach(function(L){var p=L.split(":"),d=p.shift().trim();if(d){var c=p.join(":").trim();g.append(d,c)}}),g}I.call(A.prototype);function C(y,g){g||(g={}),this.type="default",this.status=g.status===void 0?200:g.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in g?g.statusText:"OK",this.headers=new M(g.headers),this.url=g.url||"",this._initBody(y)}I.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new M(this.headers),url:this.url})},C.error=function(){var y=new C(null,{status:0,statusText:""});return y.type="error",y};var b=[301,302,303,307,308];C.redirect=function(y,g){if(b.indexOf(g)===-1)throw new RangeError("Invalid status code");return new C(null,{status:g,headers:{location:y}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function(g,k){this.message=g,this.name=k;var L=Error(g);this.stack=L.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function S(y,g){return new Promise(function(k,L){var p=new A(y,g);if(p.signal&&p.signal.aborted)return L(new a.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function c(){d.abort()}d.onload=function(){var _={status:d.status,statusText:d.statusText,headers:K(d.getAllResponseHeaders()||"")};_.url="responseURL"in d?d.responseURL:_.headers.get("X-Request-URL");var U="response"in d?d.response:d.responseText;k(new C(U,_))},d.onerror=function(){L(new TypeError("Network request failed"))},d.ontimeout=function(){L(new TypeError("Network request failed"))},d.onabort=function(){L(new a.DOMException("Aborted","AbortError"))},d.open(p.method,p.url,!0),p.credentials==="include"?d.withCredentials=!0:p.credentials==="omit"&&(d.withCredentials=!1),"responseType"in d&&s.blob&&(d.responseType="blob"),p.headers.forEach(function(_,U){d.setRequestHeader(U,_)}),p.signal&&(p.signal.addEventListener("abort",c),d.onreadystatechange=function(){d.readyState===4&&p.signal.removeEventListener("abort",c)}),d.send(typeof p._bodyInit=="undefined"?null:p._bodyInit)})}return S.polyfill=!0,o.fetch||(o.fetch=S,o.Headers=M,o.Request=A,o.Response=C),a.Headers=M,a.Request=A,a.Response=C,a.fetch=S,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})($f,$f.exports);var r7=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Df,"__esModule",{value:!0});Df.fetchJson=void 0;const n7=r7($f.exports);async function i7(t,e={}){e.body&&Object.assign(e,{body:JSON.stringify(e.body),headers:{"Content-Type":"application/json"}});const r=await n7.default(t,e);if(!r.ok){const n=await r.text();throw new Error(`HTTP request to '${t}' failed with status '${r.statusText}': ${n}`)}return r.json()}Df.fetchJson=i7;var Ps={},o7=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),a7=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s7=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&o7(e,t,r);return a7(e,t),e},sg=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.StreamUtils=void 0;const oi=sg(Si),Uf=sg(Wu.exports),ug=s7(sr),Bf=vh,H0=Mn;class yn{static streamIdFromState(e){return new H0.StreamID(e.type,e.log[0].cid)}static serializeCommit(e){const r=Uf.default(e);return yn.isSignedCommitContainer(r)?(r.jws.link=r.jws.link.toString(),r.linkedBlock=ug.toString(r.linkedBlock,"base64"),r):(yn.isSignedCommit(e)&&(r.link=r.link.toString()),yn.isAnchorCommit(e)&&(r.proof=r.proof.toString()),r.id&&(r.id=r.id.toString()),r.prev&&(r.prev=r.prev.toString()),r)}static deserializeCommit(e){const r=Uf.default(e);return yn.isSignedCommitContainer(r)?(r.jws.link=new oi.default(r.jws.link),r.linkedBlock=ug.fromString(r.linkedBlock,"base64"),r):(yn.isSignedCommit(r)&&(r.link=new oi.default(r.link)),yn.isAnchorCommit(r)&&(r.proof=new oi.default(r.proof)),r.id&&(r.id=new oi.default(r.id)),r.prev&&(r.prev=new oi.default(r.prev)),r)}static serializeState(e){const r=Uf.default(e);return r.log=r.log.map(n=>or(be({},n),{cid:n.cid.toString()})),r.anchorStatus!=null&&(r.anchorStatus=Bf.AnchorStatus[r.anchorStatus]),r.anchorScheduledFor!=null&&(r.anchorScheduledFor=new Date(r.anchorScheduledFor).toISOString()),r.anchorProof!=null&&(r.anchorProof.txHash=r.anchorProof.txHash.toString(),r.anchorProof.root=r.anchorProof.root.toString()),r.lastAnchored!=null&&(r.lastAnchored=r.lastAnchored.toString()),r.doctype=H0.StreamType.nameByCode(r.type),r}static deserializeState(e){const r=Uf.default(e);r.doctype&&(r.type=H0.StreamType.codeByName(r.doctype),delete r.doctype),r.log=r.log.map(i=>or(be({},i),{cid:new oi.default(i.cid)})),r.anchorProof&&(r.anchorProof.txHash=new oi.default(r.anchorProof.txHash),r.anchorProof.root=new oi.default(r.anchorProof.root));let n=!0;return r.anchorStatus&&(r.anchorStatus=Bf.AnchorStatus[r.anchorStatus],n=r.anchorStatus!==Bf.AnchorStatus.FAILED&&r.anchorStatus!==Bf.AnchorStatus.ANCHORED),r.anchorScheduledFor&&(n?r.anchorScheduledFor=Date.parse(r.anchorScheduledFor):delete r.anchorScheduledFor),r.lastAnchored&&(r.lastAnchored=new oi.default(r.lastAnchored)),r}static statesEqual(e,r){return JSON.stringify(yn.serializeState(e))===JSON.stringify(yn.serializeState(r))}static isStateSupersetOf(e,r){if(e.log.length<r.log.length)return!1;for(const n in r.log)if(!e.log[n].cid.equals(r.log[n].cid))return!1;return!0}static async convertCommitToSignedCommitContainer(e,r){if(yn.isSignedCommit(e)){const n=await r.block.get(e.link);return{jws:e,linkedBlock:n.data}}return e}static isSignedCommitContainer(e){return e&&e.jws!==void 0}static isSignedCommit(e){return e&&e.link!==void 0}static isAnchorCommit(e){return e&&e.proof!==void 0}}Ps.StreamUtils=yn;var Ff={};function u7(t,e){return function(r){return[Cn(t,e)(r),Cn(Ry(t,e))(r)]}}function f7(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return U0.apply(void 0,mt([],pt(vo(t))))}var c7=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",audit:M0,auditTime:Cy,buffer:Ly,bufferCount:Dy,bufferTime:$y,bufferToggle:Uy,bufferWhen:By,catchError:k0,combineAll:zy,combineLatestAll:O0,combineLatest:P0,combineLatestWith:qy,concat:Hy,concatAll:Pf,concatMap:Rf,concatMapTo:Gy,concatWith:Wy,connect:Nf,count:Vy,debounce:Ky,debounceTime:Jy,defaultIfEmpty:Ts,delay:Yy,delayWhen:Cf,dematerialize:Xy,distinct:Zy,distinctUntilChanged:C0,distinctUntilKeyChanged:Qy,elementAt:e2,endWith:t2,every:r2,exhaust:n2,exhaustAll:L0,exhaustMap:D0,expand:i2,filter:Cn,finalize:o2,find:a2,findIndex:u2,first:f2,groupBy:c2,ignoreElements:R0,isEmpty:l2,last:h2,map:ii,mapTo:N0,materialize:d2,max:v2,merge:y2,mergeAll:Is,flatMap:p2,mergeMap:rn,mergeMapTo:m2,mergeScan:b2,mergeWith:g2,min:w2,multicast:Lf,observeOn:Es,onErrorResumeNext:Py,pairwise:_2,partition:u7,pluck:x2,publish:S2,publishBehavior:E2,publishLast:A2,publishReplay:I2,race:f7,raceWith:U0,reduce:_a,repeat:M2,repeatWhen:k2,retry:T2,retryWhen:O2,refCount:l0,sample:B0,sampleTime:P2,scan:F0,sequenceEqual:R2,share:j0,shareReplay:C2,single:L2,skip:D2,skipLast:$2,skipUntil:U2,skipWhile:B2,startWith:F2,subscribeOn:As,switchAll:j2,switchMap:xa,switchMapTo:z2,switchScan:q2,take:po,takeLast:$0,takeUntil:G2,takeWhile:H2,tap:W2,throttle:q0,throttleTime:K2,throwIfEmpty:Os,timeInterval:J2,timeout:S0,timeoutWith:Y2,timestamp:X2,toArray:T0,window:Z2,windowCount:Q2,windowTime:eg,windowToggle:tg,windowWhen:rg,withLatestFrom:ng,zip:og,zipAll:ig,zipWith:ag}),l7=Et(c7);Object.defineProperty(Ff,"__esModule",{value:!0});Ff.TestUtils=void 0;const fg=l7,h7=G0,d7=Mn;class v7 extends h7.BehaviorSubject{constructor(e){super(e);this.state=this.value,this.id=new d7.StreamID(this.state.type,this.state.log[0].cid)}}class p7{static registerChangeListener(e){return e.pipe(fg.take(1)).toPromise()}static async waitForState(e,r,n,i){if(n(e.state))return;const o=new Promise(s=>setTimeout(s,r)),a=e.pipe(fg.filter(s=>n(s))).toPromise();await Promise.race([o,a]),n(e.state)||i()}static runningState(e){return new v7(e)}}Ff.TestUtils=p7;var jf={},mo={},zf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerProviderBase=t.ServiceLoggerBase=t.DiagnosticsLoggerBase=t.LogLevel=t.LogStyle=void 0;var e;(function(s){s.verbose="info",s.info="info",s.imp="imp",s.warn="warn",s.err="err"})(e=t.LogStyle||(t.LogStyle={}));var r;(function(s){s[s.verbose=0]="verbose",s[s.debug=1]="debug",s[s.important=2]="important",s[s.warn=3]="warn"})(r=t.LogLevel||(t.LogLevel={}));class n{constructor(u,f,h){this.logLevel=u,this.includeStackTrace=this.logLevel<=r.debug,this.logToFiles=f,this.fileLogger=h}write(u){this.debug(u)}verbose(u){this.logLevel>r.verbose||this.log(e.verbose,u)}debug(u){this.logLevel>r.debug||this.log(e.info,u)}imp(u){this.logLevel>r.important||this.log(e.imp,u)}warn(u){this.log(e.warn,u)}err(u){this.log(e.err,u)}log(u,f){throw new Error("Not implmented in base class")}}t.DiagnosticsLoggerBase=n;class i{constructor(u,f,h,l){this.service=u,this.logLevel=f,this.logToFiles=h,this.stream=l,this.logToConsole=this.logLevel<=r.debug}log(u){this.write(this.format(u))}write(u){u=`[${new Date().toUTCString()}] service=${this.service} ${u}`,this.logToConsole&&console.log(u)}format(u){throw new Error("Not implmented in base class")}}t.ServiceLoggerBase=i;const o={logLevel:r.important,logToFiles:!1};class a{constructor(u={},f){if(this.config={logLevel:u.logLevel!==void 0?u.logLevel:o.logLevel,logToFiles:u.logToFiles!==void 0?u.logToFiles:o.logToFiles,logDirectory:u.logDirectory},this._fileLoggerFactory=f,this.config.logToFiles&&!this._fileLoggerFactory)throw new Error("Must provide a FileLoggerFactory in order to log to files");this._diagnosticLogger=this._makeDiagnosticLogger()}_makeDiagnosticLogger(){throw new Error("Not implmented in base class")}getDiagnosticsLogger(){return this._diagnosticLogger}makeServiceLogger(u){throw new Error("Not implmented in base class")}}t.LoggerProviderBase=a})(zf);var m7=Rs;Rs.flatten=Rs;Rs.unflatten=hg;function cg(t){return t&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function lg(t){return t}function Rs(t,e){e=e||{};const r=e.delimiter||".",n=e.maxDepth,i=e.transformKey||lg,o={};function a(s,u,f){f=f||1,Object.keys(s).forEach(function(h){const l=s[h],m=e.safe&&Array.isArray(l),w=Object.prototype.toString.call(l),M=cg(l),x=w==="[object Object]"||w==="[object Array]",R=u?u+r+i(h):i(h);if(!m&&!M&&x&&Object.keys(l).length&&(!e.maxDepth||f<n))return a(l,R,f+1);o[R]=l})}return a(t),o}function hg(t,e){e=e||{};const r=e.delimiter||".",n=e.overwrite||!1,i=e.transformKey||lg,o={};if(cg(t)||Object.prototype.toString.call(t)!=="[object Object]")return t;function s(h){const l=Number(h);return isNaN(l)||h.indexOf(".")!==-1||e.object?h:l}function u(h,l,m){return Object.keys(m).reduce(function(w,M){return w[h+r+M]=m[M],w},l)}function f(h){const l=Object.prototype.toString.call(h),m=l==="[object Array]",w=l==="[object Object]";if(h){if(m)return!h.length;if(w)return!Object.keys(h).length}else return!0}return t=Object.keys(t).reduce(function(h,l){const m=Object.prototype.toString.call(t[l]);return!(m==="[object Object]"||m==="[object Array]")||f(t[l])?(h[l]=t[l],h):u(l,h,Rs(t[l],e))},{}),Object.keys(t).forEach(function(h){const l=h.split(r).map(i);let m=s(l.shift()),w=s(l[0]),M=o;for(;w!==void 0;){if(m==="__proto__")return;const x=Object.prototype.toString.call(M[m]),R=x==="[object Object]"||x==="[object Array]";if(!n&&!R&&typeof M[m]!="undefined")return;(n&&!R||!n&&M[m]==null)&&(M[m]=typeof w=="number"&&!e.object?[]:{}),M=M[m],l.length>0&&(m=s(l.shift()),w=s(l[0]))}M[m]=hg(t[h],e)}),o}var b7=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mo,"__esModule",{value:!0});mo.ServiceLogger=mo.DiagnosticsLogger=void 0;const dg=zf,y7=b7(m7),g7={info:console.log,imp:console.log,warn:console.warn,err:console.error};class w7 extends dg.DiagnosticsLoggerBase{constructor(e){super(e,!1);this.logger=g7}log(e,r){this.logger[e](r)}}mo.DiagnosticsLogger=w7;class _7 extends dg.ServiceLoggerBase{constructor(e,r){super(e,r,!1)}format(e){return JSON.stringify(y7.default(e))}}mo.ServiceLogger=_7;Object.defineProperty(jf,"__esModule",{value:!0});jf.LoggerProvider=void 0;const vg=mo,x7=zf;class S7 extends x7.LoggerProviderBase{_makeDiagnosticLogger(){return new vg.DiagnosticsLogger(this.config.logLevel)}makeServiceLogger(e){return new vg.ServiceLogger(e,this.config.logLevel)}}jf.LoggerProvider=S7;var pg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Networks=void 0,function(e){e.MAINNET="mainnet",e.ELP="elp",e.TESTNET_CLAY="testnet-clay",e.DEV_UNSTABLE="dev-unstable",e.LOCAL="local",e.INMEMORY="inmemory"}(t.Networks||(t.Networks={}))})(pg);var mg={};Object.defineProperty(mg,"__esModule",{value:!0});var qf={};Object.defineProperty(qf,"__esModule",{value:!0});qf.UnreachableCaseError=void 0;class E7 extends Error{constructor(e,r){super(`Unhandled ${JSON.stringify(e)}: ${r}`)}}qf.UnreachableCaseError=E7;var bg={};Object.defineProperty(bg,"__esModule",{value:!0});var Gf={};Object.defineProperty(Gf,"__esModule",{value:!0});Gf.StreamStateSubject=void 0;const A7=G0,I7=Ps;class M7 extends A7.BehaviorSubject{next(e){const r=this.value;I7.StreamUtils.statesEqual(r,e)||super.next(e)}}Gf.StreamStateSubject=M7;var Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});Hf.SubscriptionSet=void 0;class k7{constructor(e=new Set){this.subscriptions=e}add(e){e.add(()=>{this.subscriptions.delete(e)}),this.subscriptions.add(e)}unsubscribe(){this.subscriptions.forEach(e=>e.unsubscribe())}}Hf.SubscriptionSet=k7;(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=te&&te.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(q1,t),r(G1,t),r(H1,t),r(dh,t),r(vh,t),r(Df,t),r(Ps,t),r(Ff,t),r(jf,t),r(mo,t),r(pg,t),r(zf,t),r(mg,t),r(qf,t),r(bg,t),r(Gf,t),r(Hf,t)})(Qi);var T7=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),O7=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),P7=te&&te.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},R7=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&T7(e,t,r);return O7(e,t),e},N7=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},bo;Object.defineProperty(zu,"__esModule",{value:!0});zu.TileDocument=void 0;const C7=N7(Zt),L7=R7(sr),D7=xi,Wf=Qi,yg=Mn,gg={anchor:!0,publish:!0,sync:Wf.SyncOptions.PREFER_CACHE},$7={sync:Wf.SyncOptions.PREFER_CACHE},wg={anchor:!0,publish:!0,throwOnInvalidCommit:!0};function W0(t,e){var r,n;if(typeof(t==null?void 0:t.schema)=="string")try{yg.CommitID.fromString(t.schema)}catch{throw new Error("Schema must be a CommitID")}const i={controllers:t==null?void 0:t.controllers,family:t==null?void 0:t.family,schema:(r=t==null?void 0:t.schema)===null||r===void 0?void 0:r.toString(),tags:t==null?void 0:t.tags};if(e)(t==null?void 0:t.deterministic)||(i.unique=L7.toString(D7.randomBytes(12),"base64")),(t==null?void 0:t.forbidControllerChange)&&(i.forbidControllerChange=!0);else{if((t==null?void 0:t.deterministic)!==void 0||((n=t)===null||n===void 0?void 0:n.unique)!==void 0)throw new Error("Cannot change 'deterministic' or 'unique' properties on existing Streams");if((t==null?void 0:t.forbidControllerChange)!==void 0)throw new Error("Cannot change 'forbidControllerChange' property on existing Streams")}return Object.keys(i).forEach(o=>i[o]===void 0&&delete i[o]),i}async function _g(t){if(t.did==null)throw new Error("No DID provided");t.did.authenticated||(await t.did.authenticate(),t.loggerProvider&&t.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${t.did.id}`))}async function Vf(t,e){return await _g(t),t.did.createDagJWS(e)}async function V0(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let Ns=bo=class extends Wf.Stream{constructor(){super(...arguments);this._isReadOnly=!1}get content(){return super.content}static async create(e,r,n,i={}){i=be(be({},gg),i),!(n==null?void 0:n.deterministic)&&i.syncTimeoutSeconds==null&&(i.syncTimeoutSeconds=0);const o=await bo.makeGenesis(e,r,n);return e.createStreamFromGenesis(bo.STREAM_TYPE_ID,o,i)}static async createFromGenesis(e,r,n={}){var i;n=be(be({},gg),n),((i=r.header)===null||i===void 0?void 0:i.unique)&&n.syncTimeoutSeconds==null&&(n.syncTimeoutSeconds=0);const o=r.data?await Vf(e,r):r;return e.createStreamFromGenesis(bo.STREAM_TYPE_ID,o,n)}static async load(e,r,n={}){n=be(be({},$7),n);const i=yg.StreamRef.from(r);if(i.type!=bo.STREAM_TYPE_ID)throw new Error(`StreamID ${i.toString()} does not refer to a '${bo.STREAM_TYPE_NAME}' stream, but to a ${i.typeName}`);return e.loadStream(i,n)}async update(e,r,n={}){n=be(be({},wg),n);const i=await this.makeCommit(this.api,e,r),o=await this.api.applyCommit(this.id,i,n);this.state$.next(o.state)}async patch(e,r={}){r=be(be({},wg),r);const i={header:W0(this.metadata,!1),data:e,prev:this.tip,id:this.state$.id.cid},o=await Vf(this.api,i),a=await this.api.applyCommit(this.id,o,r);this.state$.next(a.state)}makeReadOnly(){this.update=V0,this.patch=V0,this.sync=V0,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}async makeCommit(e,r,n){var i;const o=W0(n,!1);if(r==null&&(r=this.content),o.controllers&&((i=o.controllers)===null||i===void 0?void 0:i.length)!==1)throw new Error("Exactly one controller must be specified");const a=C7.default.compare(this.content,r),s={header:o,data:a,prev:this.tip,id:this.state.log[0].cid};return Vf(e,s)}static async makeGenesis(e,r,n){var i;if(n||(n={}),!n.controllers||n.controllers.length===0)if(e.did)await _g(e),n.controllers=[e.did.id];else throw new Error("No controllers specified");if(((i=n.controllers)===null||i===void 0?void 0:i.length)!==1)throw new Error("Exactly one controller must be specified");const o=W0(n,!0);if((n==null?void 0:n.deterministic)&&r)throw new Error("Initial content must be null when creating a deterministic Tile document");return r==null?{header:o}:await Vf(e,{data:r,header:o})}};Ns.STREAM_TYPE_NAME="tile";Ns.STREAM_TYPE_ID=0;Ns=bo=P7([Wf.StreamStatic()],Ns);zu.TileDocument=Ns;(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=te&&te.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(zu,t)})(_i);var K0={},J0={exports:{}};(function(t,e){(function(r,n){n(e)})(te,function(r){const n=Symbol("newer"),i=Symbol("older");class o{constructor(l,m){typeof l!="number"&&(m=l,l=0),this.size=0,this.limit=l,this.oldest=this.newest=void 0,this._keymap=new Map,m&&(this.assign(m),l<1&&(this.limit=this.size))}_markEntryAsUsed(l){l!==this.newest&&(l[n]&&(l===this.oldest&&(this.oldest=l[n]),l[n][i]=l[i]),l[i]&&(l[i][n]=l[n]),l[n]=void 0,l[i]=this.newest,this.newest&&(this.newest[n]=l),this.newest=l)}assign(l){let m,w=this.limit||Number.MAX_VALUE;this._keymap.clear();let M=l[Symbol.iterator]();for(let x=M.next();!x.done;x=M.next()){let R=new a(x.value[0],x.value[1]);if(this._keymap.set(R.key,R),m?(m[n]=R,R[i]=m):this.oldest=R,m=R,w--==0)throw new Error("overflow")}this.newest=m,this.size=this._keymap.size}get(l){var m=this._keymap.get(l);return m?(this._markEntryAsUsed(m),m.value):void 0}set(l,m){var w=this._keymap.get(l);return w?(w.value=m,this._markEntryAsUsed(w),this):(this._keymap.set(l,w=new a(l,m)),this.newest?(this.newest[n]=w,w[i]=this.newest):this.oldest=w,this.newest=w,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var l=this.oldest;if(l)return this.oldest[n]?(this.oldest=this.oldest[n],this.oldest[i]=void 0):(this.oldest=void 0,this.newest=void 0),l[n]=l[i]=void 0,this._keymap.delete(l.key),--this.size,[l.key,l.value]}find(l){let m=this._keymap.get(l);return m?m.value:void 0}has(l){return this._keymap.has(l)}delete(l){var m=this._keymap.get(l);return m?(this._keymap.delete(m.key),m[n]&&m[i]?(m[i][n]=m[n],m[n][i]=m[i]):m[n]?(m[n][i]=void 0,this.oldest=m[n]):m[i]?(m[i][n]=void 0,this.newest=m[i]):this.oldest=this.newest=void 0,this.size--,m.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new u(this.oldest)}values(){return new f(this.oldest)}entries(){return this}[Symbol.iterator](){return new s(this.oldest)}forEach(l,m){typeof m!="object"&&(m=this);let w=this.oldest;for(;w;)l.call(m,w.value,w.key,this),w=w[n]}toJSON(){for(var l=new Array(this.size),m=0,w=this.oldest;w;)l[m++]={key:w.key,value:w.value},w=w[n];return l}toString(){for(var l="",m=this.oldest;m;)l+=String(m.key)+":"+m.value,m=m[n],m&&(l+=" < ");return l}}r.LRUMap=o;function a(h,l){this.key=h,this.value=l,this[n]=void 0,this[i]=void 0}function s(h){this.entry=h}s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let h=this.entry;return h?(this.entry=h[n],{done:!1,value:[h.key,h.value]}):{done:!0,value:void 0}};function u(h){this.entry=h}u.prototype[Symbol.iterator]=function(){return this},u.prototype.next=function(){let h=this.entry;return h?(this.entry=h[n],{done:!1,value:h.key}):{done:!0,value:void 0}};function f(h){this.entry=h}f.prototype[Symbol.iterator]=function(){return this},f.prototype.next=function(){let h=this.entry;return h?(this.entry=h[n],{done:!1,value:h.value}):{done:!0,value:void 0}}})})(J0,J0.exports);var U7=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),B7=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),F7=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&U7(e,t,r);return B7(e,t),e},j7=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(K0,"__esModule",{value:!0});const z7=j7($f.exports),Y0=F7(sr),q7=J0.exports,G7="https://ipfs.3box.io",H7=100,xg=new q7.LRUMap(H7),W7=async t=>{const e=xg.get(t);if(e)return e;const r=await z7.default(t);if(r.ok){const n=await r.json();return xg.set(t,n),n}else throw new Error("Not a valid 3ID")},V7=t=>`${G7}/did-doc?cid=${encodeURIComponent(t)}`,K7={dag:{get:async t=>W7(V7(t))}},Sg=(t,e)=>{const r=new Uint8Array(t.length+2);return e?r[0]=236:r[0]=231,r[1]=1,r.set(t,2),`z${Y0.toString(r,"base58btc")}`},J7=t=>{const e=t.slice(2,66);return`${(t.slice(66,130)&1)==0?"02":"03"}${e}`},Y7=async(t,e=K7)=>{const r=(await e.dag.get(t)).value;let n,i;try{const u=r.publicKey.findIndex(h=>h.id.endsWith("signingKey")),f=r.publicKey.findIndex(h=>h.id.endsWith("encryptionKey"));n=r.publicKey[u].publicKeyHex,i=r.publicKey[f].publicKeyBase64}catch{throw new Error("Not a valid 3ID")}const o=J7(n),a=Sg(Y0.fromString(o,"base16")),s=Sg(Y0.fromString(i,"base64pad"),!0);return{keyDid:`did:key:${a}`,publicKeys:{[a.slice(-15)]:a,[s.slice(-15)]:s}}};K0.default=Y7;var Eg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withResolutionError=t.errorRepresentation=void 0;const e=n=>({didResolutionMetadata:n,didDocument:null,didDocumentMetadata:{}});t.errorRepresentation=e;const r=n=>n().catch(i=>t.errorRepresentation({error:"invalidDid",message:i.toString()}));t.withResolutionError=r})(Eg);var X7=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Z7=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Q7=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&X7(e,t,r);return Z7(e,t),e},Ag=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ea,"__esModule",{value:!0});var Ig=ea.getResolver=ea.wrapDocument=void 0;const eR=_i,tR=Ag(K0),Mg=Q7(sr),rR=Mn,nR=Ag(Si),kg=Eg,iR=Qi,Tg="application/did+ld+json",X0="application/did+json",oR=t=>{try{return new nR.default(t),!0}catch{return!1}},Og=t=>new Date(t*1e3).toISOString().split(".")[0]+"Z";function Z0(t,e){if(!(t&&t.publicKeys))return null;const r={id:e,verificationMethod:[],authentication:[],keyAgreement:[]};return Object.entries(t.publicKeys).reduce((n,[i,o])=>{const a=Mg.fromString(o.slice(1),"base58btc"),s={id:`${e}#${i}`,type:"",controller:e,publicKeyBase58:Mg.toString(a.slice(2),"base58btc")};return a[0]===231?(s.type="EcdsaSecp256k1Signature2019",n.verificationMethod.push(s),n.authentication.push(s)):a[0]===236&&(s.type="X25519KeyAgreementKey2019",n.verificationMethod.push(s),n.keyAgreement.push(s)),n},r)}ea.wrapDocument=Z0;function aR(t){for(let e=t.length-1;e>=0;e--){const r=t[e];if(r.type===iR.CommitType.ANCHOR)return r}return t[0]}function sR(t,e){const r={},{timestamp:n,cid:i}=aR(t.log),{timestamp:o,cid:a}=e.log.find(({timestamp:s})=>s>n||!n&&s)||{};return n&&(r.updated=Og(n)),o&&(r.nextUpdate=Og(o)),i&&(r.versionId=t.log.length===1?"0":i==null?void 0:i.toString()),a&&(r.nextVersionId=a.toString()),r}function uR(t=""){const e=t.split("&").find(n=>n.includes("versionId")||n.includes("version-id")),r=t.split("&").find(n=>n.includes("versionTime"));return{commit:e?e.split("=")[1]:void 0,timestamp:r?Math.floor(new Date(r.split("=")[1]).getTime()/1e3):void 0}}const fR=async(t,e,r)=>{const n=await tR.default(e),i={controllers:[n.keyDid],family:"3id",deterministic:!0},o=(await eR.TileDocument.create(t,null,i,{anchor:!1,publish:!1})).id,a=await Pg(t,o.toString(),r,e);return a.didDocument===null&&(a.didDocument=Z0(n,`did:3:${e}`)),a},Pg=async(t,e,r,n)=>{var i;const o=rR.StreamID.fromString(e);let a;const s=[{streamId:o}];r.commit?(a=o.atCommit(r.commit),s.push({streamId:a})):r.timestamp&&s.push({streamId:o,atTime:r.timestamp});const u=await t.multiQuery(s),f=u[e].state,h=(a==null?void 0:a.toString())||Object.keys(u).find(R=>R!==e),l=((i=u[h])===null||i===void 0?void 0:i.state)||f,m=sR(l,f),w=u[h||e];if(h&&!w)throw new Error(`No resolution for commit ${h}`);const M=w.state.content,x=Z0(M,`did:3:${n||e}`);return{didResolutionMetadata:{contentType:X0},didDocument:x,didDocumentMetadata:m}};function Rg(t){return{"3":(e,r,n,i)=>kg.withResolutionError(async()=>{const o=i.accept||X0,a=uR(r.query),s=r.id,u=()=>oR(s)?fR(t,s,a):Pg(t,s,a);switch(o){case X0:return u();case Tg:{const f=await u();return f.didDocument["@context"]="https://www.w3.org/ns/did/v1",f.didResolutionMetadata.contentType=Tg,f}default:return kg.errorRepresentation({error:"representationNotSupported"})}})}}Ig=ea.getResolver=Rg;ea.default={getResolver:Rg};var Ng={},Ti={},cR=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.delay=Ti.combineURLs=Ti.typeStreamID=void 0;const lR=cR(Mn);function hR(t){return typeof t=="string"?lR.default.fromString(t):t}Ti.typeStreamID=hR;function dR(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}Ti.combineURLs=dR;async function vR(t){await new Promise(e=>setTimeout(()=>e(),t))}Ti.delay=vR;var Kf={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Q0=function(t,e){return Q0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Q0(t,e)};function Tt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Q0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function pR(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(h){try{f(n.next(h))}catch(l){a(l)}}function u(h){try{f(n.throw(h))}catch(l){a(l)}}function f(h){h.done?o(h.value):i(h.value).then(s,u)}f((n=n.apply(t,e||[])).next())})}function ed(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(h){return u([f,h])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(h){f=[6,h],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function kr(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bt(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function yt(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t}function Sa(t){return this instanceof Sa?(this.v=t,this):new Sa(t)}function mR(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(m){n[m]&&(i[m]=function(w){return new Promise(function(M,x){o.push([m,w,M,x])>1||s(m,w)})})}function s(m,w){try{u(n[m](w))}catch(M){l(o[0][3],M)}}function u(m){m.value instanceof Sa?Promise.resolve(m.value.v).then(f,h):l(o[0][2],m)}function f(m){s("next",m)}function h(m){s("throw",m)}function l(m,w){m(w),o.shift(),o.length&&s(o[0][0],o[0][1])}}function bR(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof kr=="function"?kr(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(f){o({value:f,done:s})},a)}}function qe(t){return typeof t=="function"}function yo(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Jf=yo(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function ai(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var yr=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return t.prototype.unsubscribe=function(){var e,r,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=kr(a),u=s.next();!u.done;u=s.next()){var f=u.value;f.remove(this)}}catch(x){e={error:x}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}else a.remove(this);var h=this.initialTeardown;if(qe(h))try{h()}catch(x){o=x instanceof Jf?x.errors:[x]}var l=this._teardowns;if(l){this._teardowns=null;try{for(var m=kr(l),w=m.next();!w.done;w=m.next()){var M=w.value;try{Dg(M)}catch(x){o=o!=null?o:[],x instanceof Jf?o=yt(yt([],bt(o)),bt(x.errors)):o.push(x)}}}catch(x){n={error:x}}finally{try{w&&!w.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}}if(o)throw new Jf(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)Dg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=(r=this._teardowns)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&ai(r,e)},t.prototype.remove=function(e){var r=this._teardowns;r&&ai(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Cg=yr.EMPTY;function Lg(t){return t instanceof yr||t&&"closed"in t&&qe(t.remove)&&qe(t.add)&&qe(t.unsubscribe)}function Dg(t){qe(t)?t():t.unsubscribe()}var Oi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Yf={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Yf.delegate;return((r==null?void 0:r.setTimeout)||setTimeout).apply(void 0,yt([],bt(t)))},clearTimeout:function(t){var e=Yf.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function $g(t){Yf.setTimeout(function(){var e=Oi.onUnhandledError;if(e)e(t);else throw t})}function It(){}var yR=function(){return td("C",void 0,void 0)}();function gR(t){return td("E",void 0,t)}function wR(t){return td("N",t,void 0)}function td(t,e,r){return{kind:t,value:e,error:r}}var go=null;function Xf(t){if(Oi.useDeprecatedSynchronousErrorHandling){var e=!go;if(e&&(go={errorThrown:!1,error:null}),t(),e){var r=go,n=r.errorThrown,i=r.error;if(go=null,n)throw i}}else t()}function _R(t){Oi.useDeprecatedSynchronousErrorHandling&&go&&(go.errorThrown=!0,go.error=t)}var Zf=function(t){Tt(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Lg(r)&&r.add(n)):n.destination=xR,n}return e.create=function(r,n,i){return new Qf(r,n,i)},e.prototype.next=function(r){this.isStopped?nd(wR(r),this):this._next(r)},e.prototype.error=function(r){this.isStopped?nd(gR(r),this):(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped?nd(yR,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(yr),Qf=function(t){Tt(e,t);function e(r,n,i){var o=t.call(this)||this,a;if(qe(r))a=r;else if(r){a=r.next,n=r.error,i=r.complete;var s;o&&Oi.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=function(){return o.unsubscribe()}):s=r,a=a==null?void 0:a.bind(s),n=n==null?void 0:n.bind(s),i=i==null?void 0:i.bind(s)}return o.destination={next:a?rd(a):It,error:rd(n!=null?n:Ug),complete:i?rd(i):It},o}return e}(Zf);function rd(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{t.apply(void 0,yt([],bt(r)))}catch(i){Oi.useDeprecatedSynchronousErrorHandling?_R(i):$g(i)}}}function Ug(t){throw t}function nd(t,e){var r=Oi.onStoppedNotification;r&&Yf.setTimeout(function(){return r(t,e)})}var xR={closed:!0,next:It,error:Ug,complete:It},ec=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function nr(t){return t}function id(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Bg(t)}function Bg(t){return t.length===0?nr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ft=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,o=ER(e)?e:new Qf(e,r,n);return Xf(function(){var a=i,s=a.operator,u=a.source;o.add(s?s.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Fg(r),new r(function(i,o){var a;a=n.subscribe(function(s){try{e(s)}catch(u){o(u),a==null||a.unsubscribe()}},o,i)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[ec]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Bg(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Fg(e),new e(function(n,i){var o;r.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function Fg(t){var e;return(e=t!=null?t:Oi.Promise)!==null&&e!==void 0?e:Promise}function SR(t){return t&&qe(t.next)&&qe(t.error)&&qe(t.complete)}function ER(t){return t&&t instanceof Zf||SR(t)&&Lg(t)}function jg(t){return qe(t==null?void 0:t.lift)}function ge(t){return function(e){if(jg(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}var pe=function(t){Tt(e,t);function e(r,n,i,o,a){var s=t.call(this,r)||this;return s.onFinalize=a,s._next=n?function(u){try{n(u)}catch(f){r.error(f)}}:t.prototype._next,s._error=o?function(u){try{o(u)}catch(f){r.error(f)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=i?function(){try{i()}catch(u){r.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,s}return e.prototype.unsubscribe=function(){var r,n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))},e}(Zf);function od(){return ge(function(t,e){var r=null;t._refCount++;var n=new pe(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount){r=null;return}var i=t._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var tc=function(t){Tt(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._subject=null,i._refCount=0,i._connection=null,jg(r)&&(i.lift=r.lift),i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r==null||r.unsubscribe()},e.prototype.connect=function(){var r=this,n=this._connection;if(!n){n=this._connection=new yr;var i=this.getSubject();n.add(this.source.subscribe(new pe(i,void 0,function(){r._teardown(),i.complete()},function(o){r._teardown(),i.error(o)},function(){return r._teardown()}))),n.closed&&(this._connection=null,n=yr.EMPTY)}return n},e.prototype.refCount=function(){return od()(this)},e}(ft),zg={now:function(){return(zg.delegate||performance).now()},delegate:void 0},Ea={schedule:function(t){var e=requestAnimationFrame,r=cancelAnimationFrame,n=Ea.delegate;n&&(e=n.requestAnimationFrame,r=n.cancelAnimationFrame);var i=e(function(o){r=void 0,t(o)});return new yr(function(){return r==null?void 0:r(i)})},requestAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ea.delegate;return((r==null?void 0:r.requestAnimationFrame)||requestAnimationFrame).apply(void 0,yt([],bt(t)))},cancelAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ea.delegate;return((r==null?void 0:r.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,yt([],bt(t)))},delegate:void 0};function AR(t){return t?qg(t):IR}function qg(t){var e=Ea.schedule;return new ft(function(r){var n=new yr,i=t||zg,o=i.now(),a=function(s){var u=i.now();r.next({timestamp:t?u:s,elapsed:u-o}),r.closed||n.add(e(a))};return n.add(e(a)),n})}var IR=qg(),Gg=yo(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),$t=function(t){Tt(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new Hg(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new Gg},e.prototype.next=function(r){var n=this;Xf(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){var a=n.observers.slice();try{for(var s=kr(a),u=s.next();!u.done;u=s.next()){var f=u.value;f.next(r)}}catch(h){i={error:h}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;Xf(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;Xf(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=n.hasError,o=n.isStopped,a=n.observers;return i||o?Cg:(a.push(r),new yr(function(){return ai(a,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,a=n.isStopped;i?r.error(o):a&&r.complete()},e.prototype.asObservable=function(){var r=new ft;return r.source=this,r},e.create=function(r,n){return new Hg(r,n)},e}(ft),Hg=function(t){Tt(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:Cg},e}($t),Wg=function(t){Tt(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,o=r._value;if(n)throw i;return this._throwIfClosed(),o},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}($t),rc={now:function(){return(rc.delegate||Date).now()},delegate:void 0},ad=function(t){Tt(e,t);function e(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=rc);var o=t.call(this)||this;return o._bufferSize=r,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,r),o._windowTime=Math.max(1,n),o}return e.prototype.next=function(r){var n=this,i=n.isStopped,o=n._buffer,a=n._infiniteTimeWindow,s=n._timestampProvider,u=n._windowTime;i||(o.push(r),!a&&o.push(s.now()+u)),this._trimBuffer(),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,o=i._infiniteTimeWindow,a=i._buffer,s=a.slice(),u=0;u<s.length&&!r.closed;u+=o?1:2)r.next(s[u]);return this._checkFinalizedStatuses(r),n},e.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,o=r._buffer,a=r._infiniteTimeWindow,s=(a?1:2)*n;if(n<1/0&&s<o.length&&o.splice(0,o.length-s),!a){for(var u=i.now(),f=0,h=1;h<o.length&&o[h]<=u;h+=2)f=h;f&&o.splice(0,f+1)}},e}($t),sd=function(t){Tt(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n._hasValue,a=n._value,s=n.thrownError,u=n.isStopped,f=n._isComplete;i?r.error(s):(u||f)&&(o&&r.next(a),r.complete())},e.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},e.prototype.complete=function(){var r=this,n=r._hasValue,i=r._value,o=r._isComplete;o||(this._isComplete=!0,n&&t.prototype.next.call(this,i),t.prototype.complete.call(this))},e}($t),MR=function(t){Tt(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(yr),nc={setInterval:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=nc.delegate;return((r==null?void 0:r.setInterval)||setInterval).apply(void 0,yt([],bt(t)))},clearInterval:function(t){var e=nc.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},Cs=function(t){Tt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),nc.setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;nc.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,o;try{this.work(r)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,ai(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(MR),kR=1,ud,fd={};function Vg(t){return t in fd?(delete fd[t],!0):!1}var Kg={setImmediate:function(t){var e=kR++;return fd[e]=!0,ud||(ud=Promise.resolve()),ud.then(function(){return Vg(e)&&t()}),e},clearImmediate:function(t){Vg(t)}},TR=Kg.setImmediate,OR=Kg.clearImmediate,ic={setImmediate:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ic.delegate;return((r==null?void 0:r.setImmediate)||TR).apply(void 0,yt([],bt(t)))},clearImmediate:function(t){var e=ic.delegate;return((e==null?void 0:e.clearImmediate)||OR)(t)},delegate:void 0},PR=function(t){Tt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=ic.setImmediate(r.flush.bind(r,void 0))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(ic.clearImmediate(n),r._scheduled=void 0)},e}(Cs),cd=function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=rc.now,t}(),Ls=function(t){Tt(e,t);function e(r,n){n===void 0&&(n=cd.now);var i=t.call(this,r,n)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(cd),RR=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this._active=!0,this._scheduled=void 0;var n=this.actions,i,o=-1;r=r||n.shift();var a=n.length;do if(i=r.execute(r.state,r.delay))break;while(++o<a&&(r=n.shift()));if(this._active=!1,i){for(;++o<a&&(r=n.shift());)r.unsubscribe();throw i}},e}(Ls),Jg=new RR(PR),NR=Jg,Ln=new Ls(Cs),Ds=Ln,CR=function(t){Tt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Cs),LR=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ls),Yg=new LR(CR),DR=Yg,$R=function(t){Tt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=Ea.requestAnimationFrame(function(){return r.flush(void 0)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Ea.cancelAnimationFrame(n),r._scheduled=void 0)},e}(Cs),UR=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this._active=!0,this._scheduled=void 0;var n=this.actions,i,o=-1;r=r||n.shift();var a=n.length;do if(i=r.execute(r.state,r.delay))break;while(++o<a&&(r=n.shift()));if(this._active=!1,i){for(;++o<a&&(r=n.shift());)r.unsubscribe();throw i}},e}(Ls),Xg=new UR($R),BR=Xg,FR=function(t){Tt(e,t);function e(r,n){r===void 0&&(r=Zg),n===void 0&&(n=1/0);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,o,a;(a=n[0])&&a.delay<=i&&(n.shift(),this.frame=a.delay,!(o=a.execute(a.state,a.delay))););if(o){for(;a=n.shift();)a.unsubscribe();throw o}},e.frameTimeFactor=10,e}(Ls),Zg=function(t){Tt(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var o=t.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.index=i,o.active=!0,o.index=r.index=i,o}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)}else return yr.EMPTY},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var o=r.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Cs),gn=new ft(function(t){return t.complete()});function jR(t){return t?zR(t):gn}function zR(t){return new ft(function(e){return t.schedule(function(){return e.complete()})})}function oc(t){return t&&qe(t.schedule)}function ld(t){return t[t.length-1]}function $s(t){return qe(ld(t))?t.pop():void 0}function si(t){return oc(ld(t))?t.pop():void 0}function Qg(t,e){return typeof ld(t)=="number"?t.pop():e}var hd=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function ew(t){return qe(t==null?void 0:t.then)}function tw(t){return qe(t[ec])}function rw(t){return Symbol.asyncIterator&&qe(t==null?void 0:t[Symbol.asyncIterator])}function nw(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function qR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iw=qR();function ow(t){return qe(t==null?void 0:t[iw])}function aw(t){return mR(this,arguments,function(){var r,n,i,o;return ed(this,function(a){switch(a.label){case 0:r=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Sa(r.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,Sa(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Sa(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function sw(t){return qe(t==null?void 0:t.getReader)}function at(t){if(t instanceof ft)return t;if(t!=null){if(tw(t))return GR(t);if(hd(t))return HR(t);if(ew(t))return WR(t);if(rw(t))return uw(t);if(ow(t))return VR(t);if(sw(t))return KR(t)}throw nw(t)}function GR(t){return new ft(function(e){var r=t[ec]();if(qe(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HR(t){return new ft(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function WR(t){return new ft(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,$g)})}function VR(t){return new ft(function(e){var r,n;try{for(var i=kr(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function uw(t){return new ft(function(e){JR(t,e).catch(function(r){return e.error(r)})})}function KR(t){return uw(aw(t))}function JR(t,e){var r,n,i,o;return pR(this,void 0,void 0,function(){var a,s;return ed(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=bR(t),u.label=1;case 1:return[4,r.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(a=n.value,e.next(a),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Tr(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function Us(t,e){return e===void 0&&(e=0),ge(function(r,n){r.subscribe(new pe(n,function(i){return Tr(n,t,function(){return n.next(i)},e)},function(){return Tr(n,t,function(){return n.complete()},e)},function(i){return Tr(n,t,function(){return n.error(i)},e)}))})}function Bs(t,e){return e===void 0&&(e=0),ge(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function YR(t,e){return at(t).pipe(Bs(e),Us(e))}function XR(t,e){return at(t).pipe(Bs(e),Us(e))}function ZR(t,e){return new ft(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function fw(t,e){return new ft(function(r){var n;return Tr(r,e,function(){n=t[iw](),Tr(r,e,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(s){r.error(s);return}a?r.complete():r.next(o)},0,!0)}),function(){return qe(n==null?void 0:n.return)&&n.return()}})}function cw(t,e){if(!t)throw new Error("Iterable cannot be null");return new ft(function(r){Tr(r,e,function(){var n=t[Symbol.asyncIterator]();Tr(r,e,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function QR(t,e){return cw(aw(t),e)}function lw(t,e){if(t!=null){if(tw(t))return YR(t,e);if(hd(t))return ZR(t,e);if(ew(t))return XR(t,e);if(rw(t))return cw(t,e);if(ow(t))return fw(t,e);if(sw(t))return QR(t,e)}throw nw(t)}function wn(t,e){return e?lw(t,e):at(t)}function dd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=si(t);return wn(t,r)}function hw(t,e){var r=qe(t)?t:function(){return t},n=function(i){return i.error(r())};return new ft(e?function(i){return e.schedule(n,0,i)}:n)}var vd;(function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"})(vd||(vd={}));var ac=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){return dw(this,e)},t.prototype.do=function(e,r,n){var i=this,o=i.kind,a=i.value,s=i.error;return o==="N"?e==null?void 0:e(a):o==="E"?r==null?void 0:r(s):n==null?void 0:n()},t.prototype.accept=function(e,r,n){var i;return qe((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this,r=e.kind,n=e.value,i=e.error,o=r==="N"?dd(n):r==="E"?hw(function(){return i}):r==="C"?gn:0;if(!o)throw new TypeError("Unexpected notification kind "+r);return o},t.createNext=function(e){return new t("N",e)},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t}();function dw(t,e){var r,n,i,o=t,a=o.kind,s=o.value,u=o.error;if(typeof a!="string")throw new TypeError('Invalid notification, missing "kind"');a==="N"?(r=e.next)===null||r===void 0||r.call(e,s):a==="E"?(n=e.error)===null||n===void 0||n.call(e,u):(i=e.complete)===null||i===void 0||i.call(e)}function e9(t){return!!t&&(t instanceof ft||qe(t.lift)&&qe(t.subscribe))}var wo=yo(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function t9(t,e){var r=typeof e=="object";return new Promise(function(n,i){var o=!1,a;t.subscribe({next:function(s){a=s,o=!0},error:i,complete:function(){o?n(a):r?n(e.defaultValue):i(new wo)}})})}function r9(t,e){var r=typeof e=="object";return new Promise(function(n,i){var o=new Qf({next:function(a){n(a),o.unsubscribe()},error:i,complete:function(){r?n(e.defaultValue):i(new wo)}});t.subscribe(o)})}var pd=yo(function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}),vw=yo(function(t){return function(r){t(this),this.name="NotFoundError",this.message=r}}),pw=yo(function(t){return function(r){t(this),this.name="SequenceError",this.message=r}});function md(t){return t instanceof Date&&!isNaN(t)}var mw=yo(function(t){return function(r){r===void 0&&(r=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}});function bd(t,e){var r=md(t)?{first:t}:typeof t=="number"?{each:t}:t,n=r.first,i=r.each,o=r.with,a=o===void 0?n9:o,s=r.scheduler,u=s===void 0?e!=null?e:Ln:s,f=r.meta,h=f===void 0?null:f;if(n==null&&i==null)throw new TypeError("No timeout provided.");return ge(function(l,m){var w,M,x=null,R=0,O=function(j){M=Tr(m,u,function(){try{w.unsubscribe(),at(a({meta:h,lastValue:x,seen:R})).subscribe(m)}catch(q){m.error(q)}},j)};w=l.subscribe(new pe(m,function(j){M==null||M.unsubscribe(),R++,m.next(x=j),i>0&&O(i)},void 0,void 0,function(){(M==null?void 0:M.closed)||M==null||M.unsubscribe(),x=null})),O(n!=null?typeof n=="number"?n:+n-u.now():i)})}function n9(t){throw new mw(t)}function ui(t,e){return ge(function(r,n){var i=0;r.subscribe(new pe(n,function(o){n.next(t.call(e,o,i++))}))})}var i9=Array.isArray;function o9(t,e){return i9(e)?t.apply(void 0,yt([],bt(e))):t(e)}function _o(t){return ui(function(e){return o9(t,e)})}function sc(t,e,r,n){if(r)if(oc(r))n=r;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return sc(t,e,n).apply(this,i).pipe(_o(r))};return n?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return sc(t,e).apply(this,i).pipe(Bs(n),Us(n))}:function(){for(var i=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=new sd,u=!0;return new ft(function(f){var h=s.subscribe(f);if(u){u=!1;var l=!1,m=!1;e.apply(i,yt(yt([],bt(o)),[function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];if(t){var x=w.shift();if(x!=null){s.error(x);return}}s.next(1<w.length?w:w[0]),m=!0,l&&s.complete()}])),m&&s.complete(),l=!0}return h})}}function a9(t,e,r){return sc(!1,t,e,r)}function s9(t,e,r){return sc(!0,t,e,r)}var u9=Array.isArray,f9=Object.getPrototypeOf,c9=Object.prototype,l9=Object.keys;function bw(t){if(t.length===1){var e=t[0];if(u9(e))return{args:e,keys:null};if(h9(e)){var r=l9(e);return{args:r.map(function(n){return e[n]}),keys:r}}}return{args:t,keys:null}}function h9(t){return t&&typeof t=="object"&&f9(t)===c9}function yw(t,e){return t.reduce(function(r,n,i){return r[n]=e[i],r},{})}function gw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=si(t),n=$s(t),i=bw(t),o=i.args,a=i.keys;if(o.length===0)return wn([],r);var s=new ft(ww(o,r,a?function(u){return yw(a,u)}:nr));return n?s.pipe(_o(n)):s}function ww(t,e,r){return r===void 0&&(r=nr),function(n){_w(e,function(){for(var i=t.length,o=new Array(i),a=i,s=i,u=function(h){_w(e,function(){var l=wn(t[h],e),m=!1;l.subscribe(new pe(n,function(w){o[h]=w,m||(m=!0,s--),s||n.next(r(o.slice()))},function(){--a||n.complete()}))},n)},f=0;f<i;f++)u(f)},n)}}function _w(t,e,r){t?Tr(r,t,e):e()}function yd(t,e,r,n,i,o,a,s){var u=[],f=0,h=0,l=!1,m=function(){l&&!u.length&&!f&&e.complete()},w=function(x){return f<n?M(x):u.push(x)},M=function(x){o&&e.next(x),f++;var R=!1;at(r(x,h++)).subscribe(new pe(e,function(O){i==null||i(O),o?w(O):e.next(O)},function(){R=!0},void 0,function(){if(R)try{f--;for(var O=function(){var j=u.shift();a?Tr(e,a,function(){return M(j)}):M(j)};u.length&&f<n;)O();m()}catch(j){e.error(j)}}))};return t.subscribe(new pe(e,w,function(){l=!0,m()})),function(){s==null||s()}}function nn(t,e,r){return r===void 0&&(r=1/0),qe(e)?nn(function(n,i){return ui(function(o,a){return e(n,o,i,a)})(at(t(n,i)))},r):(typeof e=="number"&&(r=e),ge(function(n,i){return yd(n,i,t,r)}))}function Fs(t){return t===void 0&&(t=1/0),nn(nr,t)}function uc(){return Fs(1)}function js(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return uc()(wn(t,si(t)))}function zs(t){return new ft(function(e){at(t()).subscribe(e)})}var d9={connector:function(){return new $t},resetOnDisconnect:!0};function v9(t,e){e===void 0&&(e=d9);var r=null,n=e.connector,i=e.resetOnDisconnect,o=i===void 0?!0:i,a=n(),s=new ft(function(u){return a.subscribe(u)});return s.connect=function(){return(!r||r.closed)&&(r=zs(function(){return t}).subscribe(a),o&&r.add(function(){return a=n()})),r},s}function p9(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=$s(t),n=bw(t),i=n.args,o=n.keys,a=new ft(function(s){var u=i.length;if(!u){s.complete();return}for(var f=new Array(u),h=u,l=u,m=function(M){var x=!1;at(i[M]).subscribe(new pe(s,function(R){x||(x=!0,l--),f[M]=R},function(){return h--},void 0,function(){(!h||!x)&&(l||s.next(o?yw(o,f):f),s.complete())}))},w=0;w<u;w++)m(w)});return r?a.pipe(_o(r)):a}var m9=["addListener","removeListener"],b9=["addEventListener","removeEventListener"],y9=["on","off"];function gd(t,e,r,n){if(qe(r)&&(n=r,r=void 0),n)return gd(t,e,r).pipe(_o(n));var i=bt(_9(t)?b9.map(function(s){return function(u){return t[s](e,u,r)}}):g9(t)?m9.map(xw(t,e)):w9(t)?y9.map(xw(t,e)):[],2),o=i[0],a=i[1];if(!o&&hd(t))return nn(function(s){return gd(s,e,r)})(at(t));if(!o)throw new TypeError("Invalid event target");return new ft(function(s){var u=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];return s.next(1<f.length?f:f[0])};return o(u),function(){return a(u)}})}function xw(t,e){return function(r){return function(n){return t[r](e,n)}}}function g9(t){return qe(t.addListener)&&qe(t.removeListener)}function w9(t){return qe(t.on)&&qe(t.off)}function _9(t){return qe(t.addEventListener)&&qe(t.removeEventListener)}function Sw(t,e,r){return r?Sw(t,e).pipe(_o(r)):new ft(function(n){var i=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return n.next(a.length===1?a[0]:a)},o=t(i);return qe(e)?function(){return e(i,o)}:void 0})}function x9(t,e,r,n,i){var o,a,s,u;arguments.length===1?(o=t,u=o.initialState,e=o.condition,r=o.iterate,a=o.resultSelector,s=a===void 0?nr:a,i=o.scheduler):(u=t,!n||oc(n)?(s=nr,i=n):s=n);function f(){var h;return ed(this,function(l){switch(l.label){case 0:h=u,l.label=1;case 1:return!e||e(h)?[4,s(h)]:[3,4];case 2:l.sent(),l.label=3;case 3:return h=r(h),[3,1];case 4:return[2]}})}return zs(i?function(){return fw(f(),i)}:f)}function S9(t,e,r){return zs(function(){return t()?e:r})}function Aa(t,e,r){t===void 0&&(t=0),r===void 0&&(r=Ds);var n=-1;return e!=null&&(oc(e)?r=e:n=e),new ft(function(i){var o=md(t)?+t-r.now():t;o<0&&(o=0);var a=0;return r.schedule(function(){i.closed||(i.next(a++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function Ew(t,e){return t===void 0&&(t=0),e===void 0&&(e=Ln),t<0&&(t=0),Aa(t,t,e)}function E9(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=si(t),n=Qg(t,1/0),i=t;return i.length?i.length===1?at(i[0]):Fs(n)(wn(i,r)):gn}var Aw=new ft(It);function A9(){return Aw}var I9=Array.isArray;function xo(t){return t.length===1&&I9(t[0])?t[0]:t}function Iw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=xo(t);return ge(function(n,i){var o=yt([n],bt(r)),a=function(){if(!i.closed)if(o.length>0){var s=void 0;try{s=at(o.shift())}catch{a();return}var u=new pe(i,void 0,It,It);i.add(s.subscribe(u)),u.add(a)}else i.complete()};a()})}function M9(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Iw(xo(t))(gn)}function k9(t,e){return wn(Object.entries(t),e)}function Mw(t,e){return function(r,n){return!t.call(e,r,n)}}function Dn(t,e){return ge(function(r,n){var i=0;r.subscribe(new pe(n,function(o){return t.call(e,o,i++)&&n.next(o)}))})}function T9(t,e,r){return[Dn(e,r)(at(t)),Dn(Mw(e,r))(at(t))]}function O9(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t=xo(t),t.length===1?at(t[0]):new ft(kw(t))}function kw(t){return function(e){for(var r=[],n=function(o){r.push(at(t[o]).subscribe(new pe(e,function(a){if(r){for(var s=0;s<r.length;s++)s!==o&&r[s].unsubscribe();r=null}e.next(a)})))},i=0;r&&!e.closed&&i<t.length;i++)n(i)}}function P9(t,e,r){if(e==null&&(e=t,t=0),e<=0)return gn;var n=e+t;return new ft(r?function(i){var o=t;return r.schedule(function(){o<n?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=t;o<n&&!i.closed;)i.next(o++);i.complete()})}function R9(t,e){return new ft(function(r){var n=t(),i=e(n),o=i?at(i):gn;return o.subscribe(r),function(){n&&n.unsubscribe()}})}function wd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=$s(t),n=xo(t);return n.length?new ft(function(i){var o=n.map(function(){return[]}),a=n.map(function(){return!1});i.add(function(){o=a=null});for(var s=function(f){at(n[f]).subscribe(new pe(i,function(h){if(o[f].push(h),o.every(function(m){return m.length})){var l=o.map(function(m){return m.shift()});i.next(r?r.apply(void 0,yt([],bt(l))):l),o.some(function(m,w){return!m.length&&a[w]})&&i.complete()}},function(){a[f]=!0,!o[f].length&&i.complete()}))},u=0;!i.closed&&u<n.length;u++)s(u);return function(){o=a=null}}):gn}function _d(t){return ge(function(e,r){var n=!1,i=null,o=null,a=!1,s=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var f=i;i=null,r.next(f)}a&&r.complete()},u=function(){o=null,a&&r.complete()};e.subscribe(new pe(r,function(f){n=!0,i=f,o||at(t(f)).subscribe(o=new pe(r,s,u))},function(){a=!0,(!n||!o||o.closed)&&r.complete()}))})}function Tw(t,e){return e===void 0&&(e=Ds),_d(function(){return Aa(t,e)})}function Ow(t){return ge(function(e,r){var n=[];return e.subscribe(new pe(r,function(i){return n.push(i)},function(){r.next(n),r.complete()})),t.subscribe(new pe(r,function(){var i=n;n=[],r.next(i)},It)),function(){n=null}})}function Pw(t,e){return e===void 0&&(e=null),e=e!=null?e:t,ge(function(r,n){var i=[],o=0;r.subscribe(new pe(n,function(a){var s,u,f,h,l=null;o++%e==0&&i.push([]);try{for(var m=kr(i),w=m.next();!w.done;w=m.next()){var M=w.value;M.push(a),t<=M.length&&(l=l!=null?l:[],l.push(M))}}catch(O){s={error:O}}finally{try{w&&!w.done&&(u=m.return)&&u.call(m)}finally{if(s)throw s.error}}if(l)try{for(var x=kr(l),R=x.next();!R.done;R=x.next()){var M=R.value;ai(i,M),n.next(M)}}catch(O){f={error:O}}finally{try{R&&!R.done&&(h=x.return)&&h.call(x)}finally{if(f)throw f.error}}},function(){var a,s;try{for(var u=kr(i),f=u.next();!f.done;f=u.next()){var h=f.value;n.next(h)}}catch(l){a={error:l}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}n.complete()},void 0,function(){i=null}))})}function Rw(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(e=si(n))!==null&&e!==void 0?e:Ln,a=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return ge(function(u,f){var h=[],l=!1,m=function(x){var R=x.buffer,O=x.subs;O.unsubscribe(),ai(h,x),f.next(R),l&&w()},w=function(){if(h){var x=new yr;f.add(x);var R=[],O={buffer:R,subs:x};h.push(O),Tr(x,o,function(){return m(O)},t)}};a!==null&&a>=0?Tr(f,o,w,a,!0):l=!0,w();var M=new pe(f,function(x){var R,O,j=h.slice();try{for(var q=kr(j),B=q.next();!B.done;B=q.next()){var I=B.value,G=I.buffer;G.push(x),s<=G.length&&m(I)}}catch(v){R={error:v}}finally{try{B&&!B.done&&(O=q.return)&&O.call(q)}finally{if(R)throw R.error}}},function(){for(;h==null?void 0:h.length;)f.next(h.shift().buffer);M==null||M.unsubscribe(),f.complete(),f.unsubscribe()},void 0,function(){return h=null});u.subscribe(M)})}function Nw(t,e){return ge(function(r,n){var i=[];at(t).subscribe(new pe(n,function(o){var a=[];i.push(a);var s=new yr,u=function(){ai(i,a),n.next(a),s.unsubscribe()};s.add(at(e(o)).subscribe(new pe(n,u,It)))},It)),r.subscribe(new pe(n,function(o){var a,s;try{for(var u=kr(i),f=u.next();!f.done;f=u.next()){var h=f.value;h.push(o)}}catch(l){a={error:l}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})}function Cw(t){return ge(function(e,r){var n=null,i=null,o=function(){i==null||i.unsubscribe();var a=n;n=[],a&&r.next(a),at(t()).subscribe(i=new pe(r,o,It))};o(),e.subscribe(new pe(r,function(a){return n==null?void 0:n.push(a)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=i=null}))})}function xd(t){return ge(function(e,r){var n=null,i=!1,o;n=e.subscribe(new pe(r,void 0,void 0,function(a){o=at(t(a,xd(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function Lw(t,e,r,n,i){return function(o,a){var s=r,u=e,f=0;o.subscribe(new pe(a,function(h){var l=f++;u=s?t(u,h,l):(s=!0,h),n&&a.next(u)},i&&function(){s&&a.next(u),a.complete()}))}}function Ia(t,e){return ge(Lw(t,e,arguments.length>=2,!1,!0))}var N9=function(t,e){return t.push(e),t};function Sd(){return ge(function(t,e){Ia(N9,[])(t).subscribe(e)})}function Dw(t,e){return id(Sd(),nn(function(r){return t(r)}),e?_o(e):nr)}function Ed(t){return Dw(gw,t)}var $w=Ed;function Ad(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=$s(t);return r?id(Ad.apply(void 0,yt([],bt(t))),_o(r)):ge(function(n,i){ww(yt([n],bt(xo(t))))(i)})}function Uw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ad.apply(void 0,yt([],bt(t)))}function fc(t,e){return qe(e)?nn(t,e,1):nn(t,1)}function Bw(t,e){return qe(e)?fc(function(){return t},e):fc(function(){return t})}function Fw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=si(t);return ge(function(n,i){uc()(wn(yt([n],bt(t)),r)).subscribe(i)})}function jw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Fw.apply(void 0,yt([],bt(t)))}function C9(t){return new ft(function(e){return t.subscribe(e)})}var L9={connector:function(){return new $t}};function cc(t,e){e===void 0&&(e=L9);var r=e.connector;return ge(function(n,i){var o=r();wn(t(C9(o))).subscribe(i),i.add(n.subscribe(o))})}function zw(t){return Ia(function(e,r,n){return!t||t(r,n)?e+1:e},0)}function qw(t){return ge(function(e,r){var n=!1,i=null,o=null,a=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var s=i;i=null,r.next(s)}};e.subscribe(new pe(r,function(s){o==null||o.unsubscribe(),n=!0,i=s,o=new pe(r,a,It),at(t(s)).subscribe(o)},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function Gw(t,e){return e===void 0&&(e=Ln),ge(function(r,n){var i=null,o=null,a=null,s=function(){if(i){i.unsubscribe(),i=null;var f=o;o=null,n.next(f)}};function u(){var f=a+t,h=e.now();if(h<f){i=this.schedule(void 0,f-h),n.add(i);return}s()}r.subscribe(new pe(n,function(f){o=f,a=e.now(),i||(i=e.schedule(u,t),n.add(i))},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function qs(t){return ge(function(e,r){var n=!1;e.subscribe(new pe(r,function(i){n=!0,r.next(i)},function(){n||r.next(t),r.complete()}))})}function So(t){return t<=0?function(){return gn}:ge(function(e,r){var n=0;e.subscribe(new pe(r,function(i){++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function Id(){return ge(function(t,e){t.subscribe(new pe(e,It))})}function Md(t){return ui(function(){return t})}function lc(t,e){return e?function(r){return js(e.pipe(So(1),Id()),r.pipe(lc(t)))}:nn(function(r,n){return t(r,n).pipe(So(1),Md(r))})}function Hw(t,e){e===void 0&&(e=Ln);var r=Aa(t,e);return lc(function(){return r})}function Ww(){return ge(function(t,e){t.subscribe(new pe(e,function(r){return dw(r,e)}))})}function Vw(t,e){return ge(function(r,n){var i=new Set;r.subscribe(new pe(n,function(o){var a=t?t(o):o;i.has(a)||(i.add(a),n.next(o))})),e==null||e.subscribe(new pe(n,function(){return i.clear()},It))})}function kd(t,e){return e===void 0&&(e=nr),t=t!=null?t:D9,ge(function(r,n){var i,o=!0;r.subscribe(new pe(n,function(a){var s=e(a);(o||!t(i,s))&&(o=!1,i=s,n.next(a))}))})}function D9(t,e){return t===e}function Kw(t,e){return kd(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Gs(t){return t===void 0&&(t=$9),ge(function(e,r){var n=!1;e.subscribe(new pe(r,function(i){n=!0,r.next(i)},function(){return n?r.complete():r.error(t())}))})}function $9(){return new wo}function Jw(t,e){if(t<0)throw new pd;var r=arguments.length>=2;return function(n){return n.pipe(Dn(function(i,o){return o===t}),So(1),r?qs(e):Gs(function(){return new pd}))}}function Yw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return js(r,dd.apply(void 0,yt([],bt(t))))}}function Xw(t,e){return ge(function(r,n){var i=0;r.subscribe(new pe(n,function(o){t.call(e,o,i++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}function Td(){return ge(function(t,e){var r=!1,n=null;t.subscribe(new pe(e,function(i){n||(n=at(i).subscribe(new pe(e,void 0,function(){n=null,r&&e.complete()})))},function(){r=!0,!n&&e.complete()}))})}var Zw=Td;function Od(t,e){return e?function(r){return r.pipe(Od(function(n,i){return at(t(n,i)).pipe(ui(function(o,a){return e(n,o,i,a)}))}))}:ge(function(r,n){var i=0,o=null,a=!1;r.subscribe(new pe(n,function(s){o||(o=new pe(n,void 0,function(){o=null,a&&n.complete()}),at(t(s,i++)).subscribe(o))},function(){a=!0,!o&&n.complete()}))})}function Qw(t,e,r){return e===void 0&&(e=1/0),e=(e||0)<1?1/0:e,ge(function(n,i){return yd(n,i,t,e,void 0,!0,r)})}function e_(t){return ge(function(e,r){try{e.subscribe(r)}finally{r.add(t)}})}function t_(t,e){return ge(r_(t,e,"value"))}function r_(t,e,r){var n=r==="index";return function(i,o){var a=0;i.subscribe(new pe(o,function(s){var u=a++;t.call(e,s,u,i)&&(o.next(n?u:s),o.complete())},function(){o.next(n?-1:void 0),o.complete()}))}}function n_(t,e){return ge(r_(t,e,"index"))}function i_(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Dn(function(i,o){return t(i,o,n)}):nr,So(1),r?qs(e):Gs(function(){return new wo}))}}function o_(t,e,r,n){return ge(function(i,o){var a;!e||typeof e=="function"?a=e:(r=e.duration,a=e.element,n=e.connector);var s=new Map,u=function(m){s.forEach(m),m(o)},f=function(m){return u(function(w){return w.error(m)})},h=new U9(o,function(m){try{var w=t(m),M=s.get(w);if(!M){s.set(w,M=n?n():new $t);var x=l(w,M);if(o.next(x),r){var R=new pe(M,function(){M.complete(),R==null||R.unsubscribe()},void 0,void 0,function(){return s.delete(w)});h.add(at(r(x)).subscribe(R))}}M.next(a?a(m):m)}catch(O){f(O)}},function(){return u(function(m){return m.complete()})},f,function(){return s.clear()});i.subscribe(h);function l(m,w){var M=new ft(function(x){h.activeGroups++;var R=w.subscribe(x);return function(){R.unsubscribe(),--h.activeGroups==0&&h.teardownAttempted&&h.unsubscribe()}});return M.key=m,M}})}var U9=function(t){Tt(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.activeGroups=0,r.teardownAttempted=!1,r}return e.prototype.unsubscribe=function(){this.teardownAttempted=!0,this.activeGroups===0&&t.prototype.unsubscribe.call(this)},e}(pe);function a_(){return ge(function(t,e){t.subscribe(new pe(e,function(){e.next(!1),e.complete()},function(){e.next(!0),e.complete()}))})}function Pd(t){return t<=0?function(){return gn}:ge(function(e,r){var n=[];e.subscribe(new pe(r,function(i){n.push(i),t<n.length&&n.shift()},function(){var i,o;try{for(var a=kr(n),s=a.next();!s.done;s=a.next()){var u=s.value;r.next(u)}}catch(f){i={error:f}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}r.complete()},void 0,function(){n=null}))})}function s_(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Dn(function(i,o){return t(i,o,n)}):nr,Pd(1),r?qs(e):Gs(function(){return new wo}))}}function u_(){return ge(function(t,e){t.subscribe(new pe(e,function(r){e.next(ac.createNext(r))},function(){e.next(ac.createComplete()),e.complete()},function(r){e.next(ac.createError(r)),e.complete()}))})}function f_(t){return Ia(qe(t)?function(e,r){return t(e,r)>0?e:r}:function(e,r){return e>r?e:r})}var c_=nn;function l_(t,e,r){return r===void 0&&(r=1/0),qe(e)?nn(function(){return t},e,r):(typeof e=="number"&&(r=e),nn(function(){return t},r))}function h_(t,e,r){return r===void 0&&(r=1/0),ge(function(n,i){var o=e;return yd(n,i,function(a,s){return t(o,a,s)},r,function(a){o=a},!1,void 0,function(){return o=null})})}function d_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=si(t),n=Qg(t,1/0);return t=xo(t),ge(function(i,o){Fs(n)(wn(yt([i],bt(t)),r)).subscribe(o)})}function v_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return d_.apply(void 0,yt([],bt(t)))}function p_(t){return Ia(qe(t)?function(e,r){return t(e,r)<0?e:r}:function(e,r){return e<r?e:r})}function hc(t,e){var r=qe(t)?t:function(){return t};return qe(e)?cc(e,{connector:r}):function(n){return new tc(n,r)}}function m_(){return ge(function(t,e){var r,n=!1;t.subscribe(new pe(e,function(i){var o=r;r=i,n&&e.next([o,i]),n=!0}))})}function b_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return ui(function(n){for(var i=n,o=0;o<r;o++){var a=i==null?void 0:i[t[o]];if(typeof a!="undefined")i=a;else return}return i})}function y_(t){return t?function(e){return cc(t)(e)}:function(e){return hc(new $t)(e)}}function g_(t){return function(e){var r=new Wg(t);return new tc(e,function(){return r})}}function w_(){return function(t){var e=new sd;return new tc(t,function(){return e})}}function __(t,e,r,n){r&&!qe(r)&&(n=r);var i=qe(r)?r:void 0;return function(o){return hc(new ad(t,e,n),i)(o)}}function Rd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?ge(function(r,n){kw(yt([r],bt(t)))(n)}):nr}function x_(t){return t===void 0&&(t=1/0),t<=0?function(){return gn}:ge(function(e,r){var n=0,i,o=function(){var a=!1;i=e.subscribe(new pe(r,void 0,function(){++n<t?i?(i.unsubscribe(),i=null,o()):a=!0:r.complete()})),a&&(i.unsubscribe(),i=null,o())};o()})}function S_(t){return ge(function(e,r){var n,i=!1,o,a=!1,s=!1,u=function(){return s&&a&&(r.complete(),!0)},f=function(){return o||(o=new $t,t(o).subscribe(new pe(r,function(){n?h():i=!0},function(){a=!0,u()}))),o},h=function(){s=!1,n=e.subscribe(new pe(r,void 0,function(){s=!0,!u()&&f().next()})),i&&(n.unsubscribe(),n=null,i=!1,h())};h()})}function E_(t){t===void 0&&(t=1/0);var e;t&&typeof t=="object"?e=t:e={count:t};var r=e.count,n=r===void 0?1/0:r,i=e.delay,o=e.resetOnSuccess,a=o===void 0?!1:o;return n<=0?nr:ge(function(s,u){var f=0,h,l=function(){var m=!1;h=s.subscribe(new pe(u,function(w){a&&(f=0),u.next(w)},void 0,function(w){if(f++<n){var M=function(){h?(h.unsubscribe(),h=null,l()):m=!0};if(i!=null){var x=typeof i=="number"?Aa(i):at(i(w,f)),R=new pe(u,function(){R.unsubscribe(),M()},function(){u.complete()});x.subscribe(R)}else M()}else u.error(w)})),m&&(h.unsubscribe(),h=null,l())};l()})}function A_(t){return ge(function(e,r){var n,i=!1,o,a=function(){n=e.subscribe(new pe(r,void 0,void 0,function(s){o||(o=new $t,t(o).subscribe(new pe(r,function(){return n?a():i=!0}))),o&&o.next(s)})),i&&(n.unsubscribe(),n=null,i=!1,a())};a()})}function Nd(t){return ge(function(e,r){var n=!1,i=null;e.subscribe(new pe(r,function(a){n=!0,i=a}));var o=function(){if(n){n=!1;var a=i;i=null,r.next(a)}};t.subscribe(new pe(r,o,It))})}function I_(t,e){return e===void 0&&(e=Ln),Nd(Ew(t,e))}function Cd(t,e){return ge(Lw(t,e,arguments.length>=2,!0))}function M_(t,e){return e===void 0&&(e=function(r,n){return r===n}),ge(function(r,n){var i=k_(),o=k_(),a=function(u){n.next(u),n.complete()},s=function(u,f){var h=new pe(n,function(l){var m=f.buffer,w=f.complete;m.length===0?w?a(!1):u.buffer.push(l):!e(l,m.shift())&&a(!1)},function(){u.complete=!0;var l=f.complete,m=f.buffer;l&&a(m.length===0),h==null||h.unsubscribe()});return h};r.subscribe(s(i,o)),t.subscribe(s(o,i))})}function k_(){return{buffer:[],complete:!1}}function Ld(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new $t}:e,n=t.resetOnError,i=n===void 0?!0:n,o=t.resetOnComplete,a=o===void 0?!0:o,s=t.resetOnRefCountZero,u=s===void 0?!0:s;return function(f){var h=null,l=null,m=null,w=0,M=!1,x=!1,R=function(){l==null||l.unsubscribe(),l=null},O=function(){R(),h=m=null,M=x=!1},j=function(){var q=h;O(),q==null||q.unsubscribe()};return ge(function(q,B){w++,!x&&!M&&R();var I=m=m!=null?m:r();B.add(function(){w--,w===0&&!x&&!M&&(l=Dd(j,u))}),I.subscribe(B),h||(h=new Qf({next:function(G){return I.next(G)},error:function(G){x=!0,R(),l=Dd(O,i,G),I.error(G)},complete:function(){M=!0,R(),l=Dd(O,a),I.complete()}}),wn(q).subscribe(h))})(f)}}function Dd(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return e===!0?(t(),null):e===!1?null:e.apply(void 0,yt([],bt(r))).pipe(So(1)).subscribe(function(){return t()})}function T_(t,e,r){var n,i,o,a=!1;return t&&typeof t=="object"?(o=(n=t.bufferSize)!==null&&n!==void 0?n:1/0,e=(i=t.windowTime)!==null&&i!==void 0?i:1/0,a=!!t.refCount,r=t.scheduler):o=t!=null?t:1/0,Ld({connector:function(){return new ad(o,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function O_(t){return ge(function(e,r){var n=!1,i,o=!1,a=0;e.subscribe(new pe(r,function(s){o=!0,(!t||t(s,a++,e))&&(n&&r.error(new pw("Too many matching values")),n=!0,i=s)},function(){n?(r.next(i),r.complete()):r.error(o?new vw("No matching values"):new wo)}))})}function P_(t){return Dn(function(e,r){return t<=r})}function R_(t){return t<=0?nr:ge(function(e,r){var n=new Array(t),i=0;return e.subscribe(new pe(r,function(o){var a=i++;if(a<t)n[a]=o;else{var s=a%t,u=n[s];n[s]=o,r.next(u)}})),function(){n=null}})}function N_(t){return ge(function(e,r){var n=!1,i=new pe(r,function(){i==null||i.unsubscribe(),n=!0},It);at(t).subscribe(i),e.subscribe(new pe(r,function(o){return n&&r.next(o)}))})}function C_(t){return ge(function(e,r){var n=!1,i=0;e.subscribe(new pe(r,function(o){return(n||(n=!t(o,i++)))&&r.next(o)}))})}function L_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=si(t);return ge(function(n,i){(r?js(t,n,r):js(t,n)).subscribe(i)})}function Ma(t,e){return ge(function(r,n){var i=null,o=0,a=!1,s=function(){return a&&!i&&n.complete()};r.subscribe(new pe(n,function(u){i==null||i.unsubscribe();var f=0,h=o++;at(t(u,h)).subscribe(i=new pe(n,function(l){return n.next(e?e(u,l,h,f++):l)},function(){i=null,s()}))},function(){a=!0,s()}))})}function D_(){return Ma(nr)}function $_(t,e){return qe(e)?Ma(function(){return t},e):Ma(function(){return t})}function U_(t,e){return ge(function(r,n){var i=e;return Ma(function(o,a){return t(i,o,a)},function(o,a){return i=a,a})(r).subscribe(n),function(){i=null}})}function B_(t){return ge(function(e,r){at(t).subscribe(new pe(r,function(){return r.complete()},It)),!r.closed&&e.subscribe(r)})}function F_(t,e){return e===void 0&&(e=!1),ge(function(r,n){var i=0;r.subscribe(new pe(n,function(o){var a=t(o,i++);(a||e)&&n.next(o),!a&&n.complete()}))})}function j_(t,e,r){var n=qe(t)||e||r?{next:t,error:e,complete:r}:t;return n?ge(function(i,o){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var s=!0;i.subscribe(new pe(o,function(u){var f;(f=n.next)===null||f===void 0||f.call(n,u),o.next(u)},function(){var u;s=!1,(u=n.complete)===null||u===void 0||u.call(n),o.complete()},function(u){var f;s=!1,(f=n.error)===null||f===void 0||f.call(n,u),o.error(u)},function(){var u,f;s&&((u=n.unsubscribe)===null||u===void 0||u.call(n)),(f=n.finalize)===null||f===void 0||f.call(n)}))}):nr}var z_={leading:!0,trailing:!1};function $d(t,e){var r=e===void 0?z_:e,n=r.leading,i=r.trailing;return ge(function(o,a){var s=!1,u=null,f=null,h=!1,l=function(){f==null||f.unsubscribe(),f=null,i&&(M(),h&&a.complete())},m=function(){f=null,h&&a.complete()},w=function(x){return f=at(t(x)).subscribe(new pe(a,l,m))},M=function(){if(s){s=!1;var x=u;u=null,a.next(x),!h&&w(x)}};o.subscribe(new pe(a,function(x){s=!0,u=x,!(f&&!f.closed)&&(n?M():w(x))},function(){h=!0,!(i&&s&&f&&!f.closed)&&a.complete()}))})}function q_(t,e,r){e===void 0&&(e=Ln),r===void 0&&(r=z_);var n=Aa(t,e);return $d(function(){return n},r)}function G_(t){return t===void 0&&(t=Ds),function(e){return zs(function(){return e.pipe(Cd(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),ui(function(r){var n=r.current,i=r.last,o=r.value;return new B9(o,n-i)}))})}}var B9=function(){function t(e,r){this.value=e,this.interval=r}return t}();function H_(t,e,r){var n,i,o;if(r=r!=null?r:Ds,md(t)?n=t:typeof t=="number"&&(i=t),e)o=function(){return e};else throw new TypeError("No observable provided to switch to");if(n==null&&i==null)throw new TypeError("No timeout provided.");return bd({first:n,each:i,scheduler:r,with:o})}function W_(t){return t===void 0&&(t=rc),ui(function(e){return{value:e,timestamp:t.now()}})}function V_(t){return ge(function(e,r){var n=new $t;r.next(n.asObservable());var i=function(o){n.error(o),r.error(o)};return e.subscribe(new pe(r,function(o){return n==null?void 0:n.next(o)},function(){n.complete(),r.complete()},i)),t.subscribe(new pe(r,function(){n.complete(),r.next(n=new $t)},It,i)),function(){n==null||n.unsubscribe(),n=null}})}function K_(t,e){e===void 0&&(e=0);var r=e>0?e:t;return ge(function(n,i){var o=[new $t],a=[],s=0;i.next(o[0].asObservable()),n.subscribe(new pe(i,function(u){var f,h;try{for(var l=kr(o),m=l.next();!m.done;m=l.next()){var w=m.value;w.next(u)}}catch(R){f={error:R}}finally{try{m&&!m.done&&(h=l.return)&&h.call(l)}finally{if(f)throw f.error}}var M=s-t+1;if(M>=0&&M%r==0&&o.shift().complete(),++s%r==0){var x=new $t;o.push(x),i.next(x.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(u){for(;o.length>0;)o.shift().error(u);i.error(u)},function(){a=null,o=null}))})}function J_(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(e=si(n))!==null&&e!==void 0?e:Ln,a=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return ge(function(u,f){var h=[],l=!1,m=function(R){var O=R.window,j=R.subs;O.complete(),j.unsubscribe(),ai(h,R),l&&w()},w=function(){if(h){var R=new yr;f.add(R);var O=new $t,j={window:O,subs:R,seen:0};h.push(j),f.next(O.asObservable()),Tr(R,o,function(){return m(j)},t)}};a!==null&&a>=0?Tr(f,o,w,a,!0):l=!0,w();var M=function(R){return h.slice().forEach(R)},x=function(R){M(function(O){var j=O.window;return R(j)}),R(f),f.unsubscribe()};return u.subscribe(new pe(f,function(R){M(function(O){O.window.next(R),s<=++O.seen&&m(O)})},function(){return x(function(R){return R.complete()})},function(R){return x(function(O){return O.error(R)})})),function(){h=null}})}function Y_(t,e){return ge(function(r,n){var i=[],o=function(a){for(;0<i.length;)i.shift().error(a);n.error(a)};at(t).subscribe(new pe(n,function(a){var s=new $t;i.push(s);var u=new yr,f=function(){ai(i,s),s.complete(),u.unsubscribe()},h;try{h=at(e(a))}catch(l){o(l);return}n.next(s.asObservable()),u.add(h.subscribe(new pe(n,f,It,o)))},It)),r.subscribe(new pe(n,function(a){var s,u,f=i.slice();try{for(var h=kr(f),l=h.next();!l.done;l=h.next()){var m=l.value;m.next(a)}}catch(w){s={error:w}}finally{try{l&&!l.done&&(u=h.return)&&u.call(h)}finally{if(s)throw s.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}function X_(t){return ge(function(e,r){var n,i,o=function(s){n.error(s),r.error(s)},a=function(){i==null||i.unsubscribe(),n==null||n.complete(),n=new $t,r.next(n.asObservable());var s;try{s=at(t())}catch(u){o(u);return}s.subscribe(i=new pe(r,a,a,o))};a(),e.subscribe(new pe(r,function(s){return n.next(s)},function(){n.complete(),r.complete()},o,function(){i==null||i.unsubscribe(),n=null}))})}function Z_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=$s(t);return ge(function(n,i){for(var o=t.length,a=new Array(o),s=t.map(function(){return!1}),u=!1,f=function(l){at(t[l]).subscribe(new pe(i,function(m){a[l]=m,!u&&!s[l]&&(s[l]=!0,(u=s.every(nr))&&(s=null))},It))},h=0;h<o;h++)f(h);n.subscribe(new pe(i,function(l){if(u){var m=yt([l],bt(a));i.next(r?r.apply(void 0,yt([],bt(m))):m)}}))})}function Q_(t){return Dw(wd,t)}function e3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ge(function(r,n){wd.apply(void 0,yt([r],bt(t))).subscribe(n)})}function t3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return e3.apply(void 0,yt([],bt(t)))}var F9=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Observable:ft,ConnectableObservable:tc,observable:ec,animationFrames:AR,Subject:$t,BehaviorSubject:Wg,ReplaySubject:ad,AsyncSubject:sd,asap:NR,asapScheduler:Jg,async:Ds,asyncScheduler:Ln,queue:DR,queueScheduler:Yg,animationFrame:BR,animationFrameScheduler:Xg,VirtualTimeScheduler:FR,VirtualAction:Zg,Scheduler:cd,Subscription:yr,Subscriber:Zf,Notification:ac,get NotificationKind(){return vd},pipe:id,noop:It,identity:nr,isObservable:e9,lastValueFrom:t9,firstValueFrom:r9,ArgumentOutOfRangeError:pd,EmptyError:wo,NotFoundError:vw,ObjectUnsubscribedError:Gg,SequenceError:pw,TimeoutError:mw,UnsubscriptionError:Jf,bindCallback:a9,bindNodeCallback:s9,combineLatest:gw,concat:js,connectable:v9,defer:zs,empty:jR,forkJoin:p9,from:wn,fromEvent:gd,fromEventPattern:Sw,generate:x9,iif:S9,interval:Ew,merge:E9,never:A9,of:dd,onErrorResumeNext:M9,pairs:k9,partition:T9,race:O9,range:P9,throwError:hw,timer:Aa,using:R9,zip:wd,scheduled:lw,EMPTY:gn,NEVER:Aw,config:Oi,audit:_d,auditTime:Tw,buffer:Ow,bufferCount:Pw,bufferTime:Rw,bufferToggle:Nw,bufferWhen:Cw,catchError:xd,combineAll:$w,combineLatestAll:Ed,combineLatestWith:Uw,concatAll:uc,concatMap:fc,concatMapTo:Bw,concatWith:jw,connect:cc,count:zw,debounce:qw,debounceTime:Gw,defaultIfEmpty:qs,delay:Hw,delayWhen:lc,dematerialize:Ww,distinct:Vw,distinctUntilChanged:kd,distinctUntilKeyChanged:Kw,elementAt:Jw,endWith:Yw,every:Xw,exhaust:Zw,exhaustAll:Td,exhaustMap:Od,expand:Qw,filter:Dn,finalize:e_,find:t_,findIndex:n_,first:i_,groupBy:o_,ignoreElements:Id,isEmpty:a_,last:s_,map:ui,mapTo:Md,materialize:u_,max:f_,mergeAll:Fs,flatMap:c_,mergeMap:nn,mergeMapTo:l_,mergeScan:h_,mergeWith:v_,min:p_,multicast:hc,observeOn:Us,pairwise:m_,pluck:b_,publish:y_,publishBehavior:g_,publishLast:w_,publishReplay:__,raceWith:Rd,reduce:Ia,repeat:x_,repeatWhen:S_,retry:E_,retryWhen:A_,refCount:od,sample:Nd,sampleTime:I_,scan:Cd,sequenceEqual:M_,share:Ld,shareReplay:T_,single:O_,skip:P_,skipLast:R_,skipUntil:N_,skipWhile:C_,startWith:L_,subscribeOn:Bs,switchAll:D_,switchMap:Ma,switchMapTo:$_,switchScan:U_,take:So,takeLast:Pd,takeUntil:B_,takeWhile:F_,tap:j_,throttle:$d,throttleTime:q_,throwIfEmpty:Gs,timeInterval:G_,timeout:bd,timeoutWith:H_,timestamp:W_,toArray:Sd,window:V_,windowCount:K_,windowTime:J_,windowToggle:Y_,windowWhen:X_,withLatestFrom:Z_,zipAll:Q_,zipWith:t3}),j9=Et(F9);function z9(t,e){return function(r){return[Dn(t,e)(r),Dn(Mw(t,e))(r)]}}function q9(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Rd.apply(void 0,yt([],bt(xo(t))))}var G9=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",audit:_d,auditTime:Tw,buffer:Ow,bufferCount:Pw,bufferTime:Rw,bufferToggle:Nw,bufferWhen:Cw,catchError:xd,combineAll:$w,combineLatestAll:Ed,combineLatest:Ad,combineLatestWith:Uw,concat:Fw,concatAll:uc,concatMap:fc,concatMapTo:Bw,concatWith:jw,connect:cc,count:zw,debounce:qw,debounceTime:Gw,defaultIfEmpty:qs,delay:Hw,delayWhen:lc,dematerialize:Ww,distinct:Vw,distinctUntilChanged:kd,distinctUntilKeyChanged:Kw,elementAt:Jw,endWith:Yw,every:Xw,exhaust:Zw,exhaustAll:Td,exhaustMap:Od,expand:Qw,filter:Dn,finalize:e_,find:t_,findIndex:n_,first:i_,groupBy:o_,ignoreElements:Id,isEmpty:a_,last:s_,map:ui,mapTo:Md,materialize:u_,max:f_,merge:d_,mergeAll:Fs,flatMap:c_,mergeMap:nn,mergeMapTo:l_,mergeScan:h_,mergeWith:v_,min:p_,multicast:hc,observeOn:Us,onErrorResumeNext:Iw,pairwise:m_,partition:z9,pluck:b_,publish:y_,publishBehavior:g_,publishLast:w_,publishReplay:__,race:q9,raceWith:Rd,reduce:Ia,repeat:x_,repeatWhen:S_,retry:E_,retryWhen:A_,refCount:od,sample:Nd,sampleTime:I_,scan:Cd,sequenceEqual:M_,share:Ld,shareReplay:T_,single:O_,skip:P_,skipLast:R_,skipUntil:N_,skipWhile:C_,startWith:L_,subscribeOn:Bs,switchAll:D_,switchMap:Ma,switchMapTo:$_,switchScan:U_,take:So,takeLast:Pd,takeUntil:B_,takeWhile:F_,tap:j_,throttle:$d,throttleTime:q_,throwIfEmpty:Gs,timeInterval:G_,timeout:bd,timeoutWith:H_,timestamp:W_,toArray:Sd,window:V_,windowCount:K_,windowTime:J_,windowToggle:Y_,windowWhen:X_,withLatestFrom:Z_,zip:e3,zipAll:Q_,zipWith:t3}),H9=Et(G9),r3={},W9=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),n3="%[a-f0-9]{2}",i3=new RegExp(n3,"gi"),o3=new RegExp("("+n3+")+","gi");function Ud(t,e){try{return decodeURIComponent(t.join(""))}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],Ud(r),Ud(n))}function V9(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(i3),r=1;r<e.length;r++)t=Ud(e,r).join(""),e=t.match(i3);return t}}function K9(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=o3.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=V9(r[0]);n!==r[0]&&(e[r[0]]=n)}r=o3.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),o=0;o<i.length;o++){var a=i[o];t=t.replace(new RegExp(a,"g"),e[a])}return t}var J9=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return K9(t)}},Y9=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},X9=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),o=0;o<n.length;o++){var a=n[o],s=t[a];(i?e.indexOf(a)!==-1:e(a,s,t))&&(r[a]=s)}return r};(function(t){const e=W9,r=J9,n=Y9,i=X9,o=j=>j==null,a=Symbol("encodeFragmentIdentifier");function s(j){switch(j.arrayFormat){case"index":return q=>(B,I)=>{const G=B.length;return I===void 0||j.skipNull&&I===null||j.skipEmptyString&&I===""?B:I===null?[...B,[h(q,j),"[",G,"]"].join("")]:[...B,[h(q,j),"[",h(G,j),"]=",h(I,j)].join("")]};case"bracket":return q=>(B,I)=>I===void 0||j.skipNull&&I===null||j.skipEmptyString&&I===""?B:I===null?[...B,[h(q,j),"[]"].join("")]:[...B,[h(q,j),"[]=",h(I,j)].join("")];case"comma":case"separator":case"bracket-separator":{const q=j.arrayFormat==="bracket-separator"?"[]=":"=";return B=>(I,G)=>G===void 0||j.skipNull&&G===null||j.skipEmptyString&&G===""?I:(G=G===null?"":G,I.length===0?[[h(B,j),q,h(G,j)].join("")]:[[I,h(G,j)].join(j.arrayFormatSeparator)])}default:return q=>(B,I)=>I===void 0||j.skipNull&&I===null||j.skipEmptyString&&I===""?B:I===null?[...B,h(q,j)]:[...B,[h(q,j),"=",h(I,j)].join("")]}}function u(j){let q;switch(j.arrayFormat){case"index":return(B,I,G)=>{if(q=/\[(\d*)\]$/.exec(B),B=B.replace(/\[\d*\]$/,""),!q){G[B]=I;return}G[B]===void 0&&(G[B]={}),G[B][q[1]]=I};case"bracket":return(B,I,G)=>{if(q=/(\[\])$/.exec(B),B=B.replace(/\[\]$/,""),!q){G[B]=I;return}if(G[B]===void 0){G[B]=[I];return}G[B]=[].concat(G[B],I)};case"comma":case"separator":return(B,I,G)=>{const v=typeof I=="string"&&I.includes(j.arrayFormatSeparator),A=typeof I=="string"&&!v&&l(I,j).includes(j.arrayFormatSeparator);I=A?l(I,j):I;const D=v||A?I.split(j.arrayFormatSeparator).map(K=>l(K,j)):I===null?I:l(I,j);G[B]=D};case"bracket-separator":return(B,I,G)=>{const v=/(\[\])$/.test(B);if(B=B.replace(/\[\]$/,""),!v){G[B]=I&&l(I,j);return}const A=I===null?[]:I.split(j.arrayFormatSeparator).map(D=>l(D,j));if(G[B]===void 0){G[B]=A;return}G[B]=[].concat(G[B],A)};default:return(B,I,G)=>{if(G[B]===void 0){G[B]=I;return}G[B]=[].concat(G[B],I)}}}function f(j){if(typeof j!="string"||j.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function h(j,q){return q.encode?q.strict?e(j):encodeURIComponent(j):j}function l(j,q){return q.decode?r(j):j}function m(j){return Array.isArray(j)?j.sort():typeof j=="object"?m(Object.keys(j)).sort((q,B)=>Number(q)-Number(B)).map(q=>j[q]):j}function w(j){const q=j.indexOf("#");return q!==-1&&(j=j.slice(0,q)),j}function M(j){let q="";const B=j.indexOf("#");return B!==-1&&(q=j.slice(B)),q}function x(j){j=w(j);const q=j.indexOf("?");return q===-1?"":j.slice(q+1)}function R(j,q){return q.parseNumbers&&!Number.isNaN(Number(j))&&typeof j=="string"&&j.trim()!==""?j=Number(j):q.parseBooleans&&j!==null&&(j.toLowerCase()==="true"||j.toLowerCase()==="false")&&(j=j.toLowerCase()==="true"),j}function O(j,q){q=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},q),f(q.arrayFormatSeparator);const B=u(q),I=Object.create(null);if(typeof j!="string"||(j=j.trim().replace(/^[?#&]/,""),!j))return I;for(const G of j.split("&")){if(G==="")continue;let[v,A]=n(q.decode?G.replace(/\+/g," "):G,"=");A=A===void 0?null:["comma","separator","bracket-separator"].includes(q.arrayFormat)?A:l(A,q),B(l(v,q),A,I)}for(const G of Object.keys(I)){const v=I[G];if(typeof v=="object"&&v!==null)for(const A of Object.keys(v))v[A]=R(v[A],q);else I[G]=R(v,q)}return q.sort===!1?I:(q.sort===!0?Object.keys(I).sort():Object.keys(I).sort(q.sort)).reduce((G,v)=>{const A=I[v];return Boolean(A)&&typeof A=="object"&&!Array.isArray(A)?G[v]=m(A):G[v]=A,G},Object.create(null))}t.extract=x,t.parse=O,t.stringify=(j,q)=>{if(!j)return"";q=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},q),f(q.arrayFormatSeparator);const B=A=>q.skipNull&&o(j[A])||q.skipEmptyString&&j[A]==="",I=s(q),G={};for(const A of Object.keys(j))B(A)||(G[A]=j[A]);const v=Object.keys(G);return q.sort!==!1&&v.sort(q.sort),v.map(A=>{const D=j[A];return D===void 0?"":D===null?h(A,q):Array.isArray(D)?D.length===0&&q.arrayFormat==="bracket-separator"?h(A,q)+"[]":D.reduce(I(A),[]).join("&"):h(A,q)+"="+h(D,q)}).filter(A=>A.length>0).join("&")},t.parseUrl=(j,q)=>{q=Object.assign({decode:!0},q);const[B,I]=n(j,"#");return Object.assign({url:B.split("?")[0]||"",query:O(x(j),q)},q&&q.parseFragmentIdentifier&&I?{fragmentIdentifier:l(I,q)}:{})},t.stringifyUrl=(j,q)=>{q=Object.assign({encode:!0,strict:!0,[a]:!0},q);const B=w(j.url).split("?")[0]||"",I=t.extract(j.url),G=t.parse(I,{sort:!1}),v=Object.assign(G,j.query);let A=t.stringify(v,q);A&&(A=`?${A}`);let D=M(j.url);return j.fragmentIdentifier&&(D=`#${q[a]?h(j.fragmentIdentifier,q):j.fragmentIdentifier}`),`${B}${A}${D}`},t.pick=(j,q,B)=>{B=Object.assign({parseFragmentIdentifier:!0,[a]:!1},B);const{url:I,query:G,fragmentIdentifier:v}=t.parseUrl(j,B);return t.stringifyUrl({url:I,query:i(G,q),fragmentIdentifier:v},B)},t.exclude=(j,q,B)=>{const I=Array.isArray(q)?G=>!q.includes(G):(G,v)=>!q(G,v);return t.pick(j,I,B)}})(r3);var Z9=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.Document=void 0;const a3=j9,Q9=H9,Dr=Qi,eN=Mn,tN=Z9(r3);class Eo extends a3.Observable{constructor(e,r,n){super(i=>{this.state$.observers.length===0&&(this.periodicSubscription=a3.timer(0,n).pipe(Q9.throttle(()=>this._syncState(this.id,{sync:Dr.SyncOptions.PREFER_CACHE}))).subscribe()),this.state$.subscribe(i).add(()=>{var a;this.state$.observers.length===0&&((a=this.periodicSubscription)===null||a===void 0||a.unsubscribe())})});this._apiUrl=r,this.state$=new Dr.StreamStateSubject(e)}get value(){return this.state$.value}get state(){return this.state$.value}next(e){this.state$.next(e)}async _syncState(e,r){const n=await Eo._load(e,this._apiUrl,r);this.state$.next(Dr.StreamUtils.deserializeState(n))}get id(){return new eN.StreamID(this.state$.value.type,this.state$.value.log[0].cid)}static async createFromGenesis(e,r,n,i,o){const{state:a}=await Dr.fetchJson(e+"/streams",{method:"post",body:{type:r,genesis:Dr.StreamUtils.serializeCommit(n),opts:i}});return new Eo(Dr.StreamUtils.deserializeState(a),e,o)}static async applyCommit(e,r,n,i,o){const{state:a}=await Dr.fetchJson(e+"/commits",{method:"post",body:{streamId:r.toString(),commit:Dr.StreamUtils.serializeCommit(n),opts:i}});return new Eo(Dr.StreamUtils.deserializeState(a),e,o)}static async _load(e,r,n){const i=r+"/streams/"+e.toString()+"?"+tN.default.stringify(n),{state:o}=await Dr.fetchJson(i);return o}static async load(e,r,n,i){const o=await Eo._load(e,r,i);return new Eo(Dr.StreamUtils.deserializeState(o),r,n)}static async loadStreamCommits(e,r){const{commits:n}=await Dr.fetchJson(`${r}/commits/${e}`);return n.map(i=>({cid:i.cid,value:Dr.StreamUtils.deserializeCommit(i.value)}))}complete(){this.state$.complete()}}Kf.Document=Eo;var Bd={},dc={},rN=te&&te.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},Ao;Object.defineProperty(dc,"__esModule",{value:!0});dc.Caip10Link=void 0;const vc=Qi,nN=Mn,iN=An,Fd=()=>{throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")},s3={anchor:!1,publish:!0,sync:vc.SyncOptions.PREFER_CACHE},u3={anchor:!0,publish:!0,throwOnInvalidCommit:!0},oN={sync:vc.SyncOptions.PREFER_CACHE};let Hs=Ao=class extends vc.Stream{constructor(){super(...arguments);this._isReadOnly=!1}get did(){return this.content}static async fromAccount(e,r,n={}){n=be(be({},s3),n);const i=new iN.AccountID(r),o=Ao.makeGenesis(i);return Ao.fromGenesis(e,o,n)}static async fromGenesis(e,r,n={}){return n=be(be({},s3),n),e.createStreamFromGenesis(Ao.STREAM_TYPE_ID,r,n)}async setDid(e,r,n={}){n=be(be({},u3),n);const i=typeof e=="string"?e:e.id,o=await r.createLink(i);return this.setDidProof(o,n)}async setDidProof(e,r={}){r=be(be({},u3),r);const n=this.makeCommit(e),i=await this.api.applyCommit(this.id,n,r);this.state$.next(i.state)}static async load(e,r,n={}){n=be(be({},oN),n);const i=nN.StreamRef.from(r);if(i.type!=Ao.STREAM_TYPE_ID)throw new Error(`StreamID ${i.toString()} does not refer to a '${Ao.STREAM_TYPE_NAME}' stream, but to a ${i.typeName}`);return e.loadStream(i,n)}static makeGenesis(e){return e.chainId.namespace==="eip155"&&(e.address=e.address.toLowerCase()),{header:{controllers:[e.toString()],family:`caip10-${e.chainId.toString()}`}}}makeCommit(e){return{data:e,prev:this.tip,id:this.state$.id.cid}}makeReadOnly(){this.setDidProof=Fd,this.setDid=Fd,this.sync=Fd,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}};Hs.STREAM_TYPE_NAME="caip10-link";Hs.STREAM_TYPE_ID=1;Hs=Ao=rN([vc.StreamStatic()],Hs);dc.Caip10Link=Hs;(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=te&&te.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(dc,t)})(Bd);var pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.RemotePinApi=void 0;const jd=Qi;class aN{constructor(e){this._apiUrl=e}async add(e){await jd.fetchJson(this._apiUrl+`/pins/${e.toString()}`,{method:"post"})}async rm(e,r){await jd.fetchJson(this._apiUrl+`/pins/${e.toString()}`,{method:"delete",body:{opts:r}})}async ls(e){let r=this._apiUrl+"/pins";e&&(r+=`/${e.toString()}`);const n=await jd.fetchJson(r),{pinnedStreamIds:i}=n;return{[Symbol.asyncIterator](){let o=0;return{next(){return o===i.length?Promise.resolve({value:null,done:!0}):Promise.resolve({value:i[o++],done:!1})}}}}}}pc.RemotePinApi=aN;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CeramicClient=t.DEFAULT_CLIENT_CONFIG=void 0;const e=Ti,r=Kf,n=Qi,i=_i,o=Bd,a=Mn,s=pc,u="/api/v0",f="http://localhost:7007";t.DEFAULT_CLIENT_CONFIG={syncInterval:5e3};const h={anchor:!0,publish:!0,sync:n.SyncOptions.PREFER_CACHE},l={anchor:!0,publish:!0,sync:n.SyncOptions.PREFER_CACHE},m={sync:n.SyncOptions.PREFER_CACHE};class w{constructor(x=f,R={}){this._config=be(be({},t.DEFAULT_CLIENT_CONFIG),R),this._apiUrl=e.combineURLs(x,u),this._streamCache=new Map,this.context={api:this},this.pin=new s.RemotePinApi(this._apiUrl),this._streamConstructors={[i.TileDocument.STREAM_TYPE_ID]:i.TileDocument,[o.Caip10Link.STREAM_TYPE_ID]:o.Caip10Link}}get did(){return this.context.did}set did(x){this.context.did=x}async createStreamFromGenesis(x,R,O={}){O=be(be({},l),O);const j=await r.Document.createFromGenesis(this._apiUrl,x,R,O,this._config.syncInterval),q=this._streamCache.get(j.id.toString());return q?(n.StreamUtils.statesEqual(j.state,q.state)||q.next(j.state),this.buildStream(q)):(this._streamCache.set(j.id.toString(),j),this.buildStream(j))}async loadStream(x,R={}){R=be(be({},m),R);const O=a.StreamRef.from(x);let j=this._streamCache.get(O.baseID.toString());return j?await j._syncState(O,R):(j=await r.Document.load(O,this._apiUrl,this._config.syncInterval,R),this._streamCache.set(j.id.toString(),j)),this.buildStream(j)}async multiQuery(x){const R=x.map(j=>({streamId:typeof j.streamId=="string"?j.streamId:j.streamId.toString(),paths:j.paths,atTime:j.atTime})),O=await n.fetchJson(this._apiUrl+"/multiqueries",{method:"post",body:{queries:R}});return Object.entries(O).reduce((j,q)=>{const[B,I]=q,G=n.StreamUtils.deserializeState(I),v=new r.Document(G,this._apiUrl,this._config.syncInterval);return j[B]=this.buildStream(v),j},{})}loadStreamCommits(x){const R=e.typeStreamID(x);return r.Document.loadStreamCommits(R,this._apiUrl)}async applyCommit(x,R,O={}){O=be(be({},h),O);const j=e.typeStreamID(x),q=await r.Document.applyCommit(this._apiUrl,j,R,O,this._config.syncInterval),B=this._streamCache.get(j.toString());return B?(B.next(q.state),this.buildStream(q)):(this._streamCache.set(j.toString(),q),this.buildStream(q))}async requestAnchor(x,R={}){R=be(be({},m),R);const{anchorStatus:O}=await n.fetchJson(`${this._apiUrl}/streams/${x.toString()}/anchor`,{method:"post",body:{opts:R}});return O}addStreamHandler(x){this._streamConstructors[x.name]=x.stream_constructor}findStreamConstructor(x){const R=this._streamConstructors[x];if(R)return R;throw new Error(`Failed to find constructor for stream ${x}`)}buildStream(x){const R=this.findStreamConstructor(x.state.type);return new R(x,this.context)}async setDID(x){this.context.did=x}async getSupportedChains(){if(this._supportedChains)return this._supportedChains;const{supportedChains:x}=await n.fetchJson(this._apiUrl+"/node/chains");return this._supportedChains=x,x}async close(){Array.from(this._streamCache).map(([,x])=>{x.complete()}),this._streamCache.clear()}}t.CeramicClient=w,t.default=w})(Ng);var f3=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Pi=(t,e,r)=>(f3(t,e,"read from private field"),r?r.call(t):e.get(t)),zd=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},qd=(t,e,r,n)=>(f3(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),mc,Io,ka;class Gd{constructor({autopin:e,ceramic:r,model:n}){zd(this,mc,void 0),zd(this,Io,void 0),zd(this,ka,void 0),qd(this,mc,e!==!1),qd(this,Io,r),qd(this,ka,n)}get ceramic(){return Pi(this,Io)}getDefinitionID(e){var r;return(r=Pi(this,ka).definitions[e])!=null?r:null}getSchemaURL(e){var r;return(r=Pi(this,ka).schemas[e])!=null?r:null}getTileID(e){var r;return(r=Pi(this,ka).tiles[e])!=null?r:null}async loadTile(e){const r=this.getTileID(e);if(r==null)throw new Error(`Tile alias "${e}" is not defined`);return await _i.TileDocument.load(Pi(this,Io),r)}async createTile(e,r,{pin:n}={}){const i=this.getSchemaURL(e);if(i==null)throw new Error(`Schema alias "${e}" is not defined`);const o=await _i.TileDocument.create(Pi(this,Io),r,{schema:i});return(n!=null?n:Pi(this,mc))&&await Pi(this,Io).pin.add(o.id),o}}mc=new WeakMap;Io=new WeakMap;ka=new WeakMap;const sN="ceramic://k3y52l7qbv1fry1fp4s0nwdarh0vahusarpposgevy0pemiykymd2ord6swtharcw",Hd="ceramic://k3y52l7qbv1fryjn62sggjh1lpn11c56qfofzmty190d62hwk1cal1c7qc5he54ow";var c3=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},$n=(t,e,r)=>(c3(t,e,"read from private field"),r?r.call(t):e.get(t)),bc=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},yc=(t,e,r,n)=>(c3(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ws,Ri,gc,Vs;class uN{constructor(e){bc(this,Ws,void 0),bc(this,Ri,[]),bc(this,gc,void 0),bc(this,Vs,void 0),yc(this,Ws,e),this._createValuePromise()}_createValuePromise(){yc(this,gc,new Promise((e,r)=>{yc(this,Vs,{resolve:e,reject:r})}))}change(e){return new Promise((r,n)=>{const i=async o=>{try{const a=await e(o);r(),this._next(a)}catch(a){n(a),this._next(o)}};$n(this,Ri).push({reject:n,run:i}),$n(this,Ri).length===1&&this._start()})}async changeContent(e){const r=async n=>(await n.update(e(n.content),n.metadata),n);return await this.change(r)}async get(){return $n(this,Ri).length===0?await $n(this,Ws).call(this):await $n(this,gc)}async _start(){try{const e=await $n(this,Ws).call(this);this._next(e)}catch(e){$n(this,Ri).forEach(r=>{r.reject(e)}),yc(this,Ri,[]),$n(this,Vs).reject(e),this._createValuePromise()}}_next(e){const r=$n(this,Ri).shift();r==null?this._end(e):r.run(e)}_end(e){$n(this,Vs).resolve(e),this._createValuePromise()}}Ws=new WeakMap,Ri=new WeakMap,gc=new WeakMap,Vs=new WeakMap;const fN=/^did:([A-Za-z0-9]+):([A-Za-z0-9.\-:_]+)$/;function cN(t){return fN.test(t)}function lN(t){if(!cN(t))throw new Error(`Invalid DID: ${t}`)}var l3=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},$r=(t,e,r)=>(l3(t,e,"read from private field"),r?r.call(t):e.get(t)),Wd=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Vd=(t,e,r,n)=>(l3(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ks,on,Js;class hN{constructor({autopin:e,ceramic:r,model:n}){Wd(this,Ks,void 0),Wd(this,on,void 0),Wd(this,Js,void 0),Vd(this,Ks,e!==!1),Vd(this,on,r),this._indexProxy=new uN(this._getOwnIDXDoc.bind(this)),Vd(this,Js,n instanceof Gd?n:new Gd({autopin:e,ceramic:r,model:n}))}get authenticated(){return $r(this,on).did!=null}get ceramic(){return $r(this,on)}get id(){if($r(this,on).did==null)throw new Error("Ceramic instance is not authenticated");return $r(this,on).did.id}get model(){return $r(this,Js)}async has(e,r){const n=this.getDefinitionID(e);return await this.getRecordID(n,r)!=null}async get(e,r){const n=this.getDefinitionID(e);return await this.getRecord(n,r)}async set(e,r,n){const i=this.getDefinitionID(e),[o,a]=await this._setRecordOnly(i,r,n);return o&&await this._setReference(i,a),a}async merge(e,r,n){const i=this.getDefinitionID(e),o=await this.getRecord(i),a=o?be(be({},o),r):r;return await this.setRecord(i,a,n)}async setAll(e,r){const n=Object.entries(e).map(async([o,a])=>{const s=this.getDefinitionID(o),[u,f]=await this._setRecordOnly(s,a,r);return[u,s,f]}),i=(await Promise.all(n)).reduce((o,[a,s,u])=>(a&&(o[s]=u.toUrl()),o),{});return await this._setReferences(i),i}async setDefaults(e,r){var a;const n=(a=await this.getIndex())!=null?a:{},i=Object.entries(e).map(([s,u])=>[this.getDefinitionID(s),u]).filter(s=>n[s[0]]==null).map(async([s,u])=>{const f=await this.getDefinition(s),h=await this._createRecord(f,u,r);return{[s]:h.toUrl()}}),o=(await Promise.all(i)).reduce((s,u)=>Object.assign(s,u),{});return await this._setReferences(o),o}async remove(e){await this._indexProxy.changeContent(r=>(r&&delete r[this.getDefinitionID(e)],r))}async getIndex(e){const r=this.authenticated&&(e===this.id||e==null)?await this._indexProxy.get():await this._getIDXDoc(e!=null?e:this.id);return r?r.content:null}iterator(e){let r,n=0;return{[Symbol.asyncIterator](){return this},next:async()=>{if(r==null){const s=await this.getIndex(e);r=Object.entries(s!=null?s:{})}if(n===r.length)return{done:!0,value:null};const[i,o]=r[n++],a=await this._loadDocument(o);return{done:!1,value:{key:i,id:o,record:a.content}}}}}async _createIDXDoc(e){return lN(e),await _i.TileDocument.create($r(this,on),null,{deterministic:!0,controllers:[e],family:"IDX"},{anchor:!1,publish:!1})}async _getIDXDoc(e){const r=await this._createIDXDoc(e);if(r.content==null||r.metadata.schema==null)return null;if(r.metadata.schema!==Hd)throw new Error("Invalid document: schema is not IdentityIndex");return r}async _getOwnIDXDoc(){const e=await this._createIDXDoc(this.id);if(e.content==null||e.metadata.schema==null)await e.update({},{schema:Hd}),$r(this,Ks)&&await $r(this,on).pin.add(e.id);else if(e.metadata.schema!==Hd)throw new Error("Invalid document: schema is not IdentityIndex");return e}getDefinitionID(e){var r;return(r=$r(this,Js).getDefinitionID(e))!=null?r:e}async getDefinition(e){const r=await this._loadDocument(e);if(r.metadata.schema!==sN)throw new Error("Invalid document: schema is not Definition");return or(be({},r.content),{id:r.id})}async getRecordID(e,r){var n,i;return(i=(n=await this.getIndex(r!=null?r:this.id))==null?void 0:n[e])!=null?i:null}async getRecordDocument(e,r){const n=await this.getRecordID(e,r);return n?await this._loadDocument(n):null}async getRecord(e,r){const n=await this.getRecordDocument(e,r);return n?n.content:null}async setRecord(e,r,n){const[i,o]=await this._setRecordOnly(e,r,n);return i&&await this._setReference(e,o),o}async _setRecordOnly(e,r,{pin:n}={}){const i=await this.getRecordID(e,this.id);if(i==null){const o=await this.getDefinition(e),a=await this._createRecord(o,r,{pin:n});return[!0,a]}else{const o=await this._loadDocument(i);return await o.update(r),[!1,o.id]}}async _loadDocument(e){return await _i.TileDocument.load($r(this,on),e)}async _createRecord(e,r,{pin:n}={}){const i=await _i.TileDocument.create($r(this,on),null,{deterministic:!0,controllers:[this.id],family:e.id.toString()},{anchor:!1,publish:!1}),o=i.update(r,{schema:e.schema});return(n!=null?n:$r(this,Ks))?await Promise.all([o,$r(this,on).pin.add(i.id)]):await o,i.id}async _setReference(e,r){await this._indexProxy.changeContent(n=>or(be({},n),{[e]:r.toUrl()}))}async _setReferences(e){Object.keys(e).length!==0&&await this._indexProxy.changeContent(r=>be(be({},r),e))}}Ks=new WeakMap,on=new WeakMap,Js=new WeakMap;function dN(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}function h3(){const t=new Map;return function(e,r){try{let i=function(a){if(n)return a;const s=t.get(e.didUrl);return s!==void 0?s:Promise.resolve(r()).then(function(u){var f;return((f=u.didResolutionMetadata)==null?void 0:f.error)!=="notFound"&&t.set(e.didUrl,u),u})},n;const o=function(){if(e.params&&e.params["no-cache"]==="true")return n=1,Promise.resolve(r())}();return Promise.resolve(o&&o.then?o.then(i):i(o))}catch(n){return Promise.reject(n)}}}function d3(t,e){return e()}const v3="[a-zA-Z0-9_.%-]",vN="([a-zA-Z0-9_]+)",pN=`(${v3}+(:${v3}+)*)`,p3="[a-zA-Z0-9_.:%-]",mN=`;${p3}+=${p3}*`,bN=`((${mN})*)`,yN="(/[^#?]*)?",gN="([?][^#]*)?",wN="(#.*)?",_N=new RegExp(`^did:${vN}:${pN}${bN}${yN}${gN}${wN}$`);function m3(t){if(t===""||!t)return null;const e=t.match(_N);if(e){const r={did:`did:${e[1]}:${e[2]}`,method:e[1],id:e[2],didUrl:t};if(e[4]){const n=e[4].slice(1).split(";");r.params={};for(const i of n){const o=i.split("=");r.params[o[0]]=o[1]}}return e[6]&&(r.path=e[6]),e[7]&&(r.query=e[7].slice(1)),e[8]&&(r.fragment=e[8].slice(1)),r}return null}const wc={didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};function b3(t){return function(e,r,n){try{return Promise.resolve(dN(function(){return Promise.resolve(t(e,r,n)).then(function(i){return or(be({},wc),{didResolutionMetadata:{contentType:"application/did+ld+json"},didDocument:i})})},function(i){return or(be({},wc),{didResolutionMetadata:{error:"notFound",message:i.toString()}})}))}catch(i){return Promise.reject(i)}}}class y3{constructor(e={},r={}){this.registry=void 0,this.cache=void 0,this.registry=e,this.cache=r.cache===!0?h3():r.cache||d3,r.legacyResolvers&&Object.keys(r.legacyResolvers).map(n=>{this.registry[n]||(this.registry[n]=b3(r.legacyResolvers[n]))})}resolve(e,r={}){try{const n=this,i=m3(e);if(i===null)return Promise.resolve(or(be({},wc),{didResolutionMetadata:{error:"invalidDid"}}));const o=n.registry[i.method];return o?Promise.resolve(n.cache(i,()=>o(i.did,i,n,r))):Promise.resolve(or(be({},wc),{didResolutionMetadata:{error:"unsupportedDidMethod"}}))}catch(n){return Promise.reject(n)}}}var xN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Resolver:y3,inMemoryCache:h3,noCache:d3,parse:m3,wrapLegacyResolver:b3}),_c={},xc={},SN=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),EN=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AN=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SN(e,t,r);return EN(e,t),e};Object.defineProperty(xc,"__esModule",{value:!0});xc.keyToDidDoc=void 0;const IN=AN(sr);function MN(t,e){const r=`did:key:${e}`,n=`${r}#${e}`;return{id:r,verificationMethod:[{id:n,type:"Secp256k1VerificationKey2018",controller:r,publicKeyBase58:IN.toString(t,"base58btc")}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}xc.keyToDidDoc=MN;var Sc={},Ec={},g3={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Fe,r=Nr;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function s(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return s.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},s.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},s.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},s.prototype.update=function(u,f){if(f===void 0&&(f=u.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var h=0;if(this._bytesHashed+=f,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&f>0;)this._buffer[this._bufferLength++]=u[h++],f--;this._bufferLength===this.blockSize&&(o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(f>=this.blockSize&&(h=o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,u,h,f),f%=this.blockSize);f>0;)this._buffer[this._bufferLength++]=u[h++],f--;return this},s.prototype.finish=function(u){if(!this._finished){var f=this._bytesHashed,h=this._bufferLength,l=f/536870912|0,m=f<<3,w=f%128<112?128:256;this._buffer[h]=128;for(var M=h+1;M<w-8;M++)this._buffer[M]=0;e.writeUint32BE(l,this._buffer,w-8),e.writeUint32BE(m,this._buffer,w-4),o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,w),this._finished=!0}for(var M=0;M<this.digestLength/8;M++)e.writeUint32BE(this._stateHi[M],u,M*8),e.writeUint32BE(this._stateLo[M],u,M*8+4);return this},s.prototype.digest=function(){var u=new Uint8Array(this.digestLength);return this.finish(u),u},s.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},s.prototype.restoreState=function(u){return this._stateHi.set(u.stateHi),this._stateLo.set(u.stateLo),this._bufferLength=u.bufferLength,u.buffer&&this._buffer.set(u.buffer),this._bytesHashed=u.bytesHashed,this._finished=!1,this},s.prototype.cleanSavedState=function(u){r.wipe(u.stateHi),r.wipe(u.stateLo),u.buffer&&r.wipe(u.buffer),u.bufferLength=0,u.bytesHashed=0},s}();t.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function o(s,u,f,h,l,m,w){for(var M=f[0],x=f[1],R=f[2],O=f[3],j=f[4],q=f[5],B=f[6],I=f[7],G=h[0],v=h[1],A=h[2],D=h[3],K=h[4],C=h[5],b=h[6],S=h[7],y,g,k,L,p,d,c,_;w>=128;){for(var U=0;U<16;U++){var H=8*U+m;s[U]=e.readUint32BE(l,H),u[U]=e.readUint32BE(l,H+4)}for(var U=0;U<80;U++){var $=M,T=x,Z=R,F=O,V=j,W=q,E=B,J=I,ne=G,ae=v,ue=A,he=D,z=K,P=C,N=b,Y=S;if(y=I,g=S,p=g&65535,d=g>>>16,c=y&65535,_=y>>>16,y=(j>>>14|K<<32-14)^(j>>>18|K<<32-18)^(K>>>41-32|j<<32-(41-32)),g=(K>>>14|j<<32-14)^(K>>>18|j<<32-18)^(j>>>41-32|K<<32-(41-32)),p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,y=j&q^~j&B,g=K&C^~K&b,p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,y=i[U*2],g=i[U*2+1],p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,y=s[U%16],g=u[U%16],p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,d+=p>>>16,c+=d>>>16,_+=c>>>16,k=c&65535|_<<16,L=p&65535|d<<16,y=k,g=L,p=g&65535,d=g>>>16,c=y&65535,_=y>>>16,y=(M>>>28|G<<32-28)^(G>>>34-32|M<<32-(34-32))^(G>>>39-32|M<<32-(39-32)),g=(G>>>28|M<<32-28)^(M>>>34-32|G<<32-(34-32))^(M>>>39-32|G<<32-(39-32)),p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,y=M&x^M&R^x&R,g=G&v^G&A^v&A,p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,d+=p>>>16,c+=d>>>16,_+=c>>>16,J=c&65535|_<<16,Y=p&65535|d<<16,y=F,g=he,p=g&65535,d=g>>>16,c=y&65535,_=y>>>16,y=k,g=L,p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,d+=p>>>16,c+=d>>>16,_+=c>>>16,F=c&65535|_<<16,he=p&65535|d<<16,x=$,R=T,O=Z,j=F,q=V,B=W,I=E,M=J,v=ne,A=ae,D=ue,K=he,C=z,b=P,S=N,G=Y,U%16==15)for(var H=0;H<16;H++)y=s[H],g=u[H],p=g&65535,d=g>>>16,c=y&65535,_=y>>>16,y=s[(H+9)%16],g=u[(H+9)%16],p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,k=s[(H+1)%16],L=u[(H+1)%16],y=(k>>>1|L<<32-1)^(k>>>8|L<<32-8)^k>>>7,g=(L>>>1|k<<32-1)^(L>>>8|k<<32-8)^(L>>>7|k<<32-7),p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,k=s[(H+14)%16],L=u[(H+14)%16],y=(k>>>19|L<<32-19)^(L>>>61-32|k<<32-(61-32))^k>>>6,g=(L>>>19|k<<32-19)^(k>>>61-32|L<<32-(61-32))^(L>>>6|k<<32-6),p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,d+=p>>>16,c+=d>>>16,_+=c>>>16,s[H]=c&65535|_<<16,u[H]=p&65535|d<<16}y=M,g=G,p=g&65535,d=g>>>16,c=y&65535,_=y>>>16,y=f[0],g=h[0],p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,d+=p>>>16,c+=d>>>16,_+=c>>>16,f[0]=M=c&65535|_<<16,h[0]=G=p&65535|d<<16,y=x,g=v,p=g&65535,d=g>>>16,c=y&65535,_=y>>>16,y=f[1],g=h[1],p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,d+=p>>>16,c+=d>>>16,_+=c>>>16,f[1]=x=c&65535|_<<16,h[1]=v=p&65535|d<<16,y=R,g=A,p=g&65535,d=g>>>16,c=y&65535,_=y>>>16,y=f[2],g=h[2],p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,d+=p>>>16,c+=d>>>16,_+=c>>>16,f[2]=R=c&65535|_<<16,h[2]=A=p&65535|d<<16,y=O,g=D,p=g&65535,d=g>>>16,c=y&65535,_=y>>>16,y=f[3],g=h[3],p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,d+=p>>>16,c+=d>>>16,_+=c>>>16,f[3]=O=c&65535|_<<16,h[3]=D=p&65535|d<<16,y=j,g=K,p=g&65535,d=g>>>16,c=y&65535,_=y>>>16,y=f[4],g=h[4],p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,d+=p>>>16,c+=d>>>16,_+=c>>>16,f[4]=j=c&65535|_<<16,h[4]=K=p&65535|d<<16,y=q,g=C,p=g&65535,d=g>>>16,c=y&65535,_=y>>>16,y=f[5],g=h[5],p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,d+=p>>>16,c+=d>>>16,_+=c>>>16,f[5]=q=c&65535|_<<16,h[5]=C=p&65535|d<<16,y=B,g=b,p=g&65535,d=g>>>16,c=y&65535,_=y>>>16,y=f[6],g=h[6],p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,d+=p>>>16,c+=d>>>16,_+=c>>>16,f[6]=B=c&65535|_<<16,h[6]=b=p&65535|d<<16,y=I,g=S,p=g&65535,d=g>>>16,c=y&65535,_=y>>>16,y=f[7],g=h[7],p+=g&65535,d+=g>>>16,c+=y&65535,_+=y>>>16,d+=p>>>16,c+=d>>>16,_+=c>>>16,f[7]=I=c&65535|_<<16,h[7]=S=p&65535|d<<16,m+=128,w-=128}return m}function a(s){var u=new n;u.update(s);var f=u.digest();return u.clean(),f}t.hash=a})(g3);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=xi,r=g3,n=Nr;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function i(F){var V=new Float64Array(16);if(F)for(var W=0;W<F.length;W++)V[W]=F[W];return V}var o=new Uint8Array(32);o[0]=9;var a=i(),s=i([1]),u=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function w(F,V){for(var W=0;W<16;W++)F[W]=V[W]|0}function M(F){for(var V=1,W=0;W<16;W++){var E=F[W]+V+65535;V=Math.floor(E/65536),F[W]=E-V*65536}F[0]+=V-1+37*(V-1)}function x(F,V,W){for(var E=~(W-1),J=0;J<16;J++){var ne=E&(F[J]^V[J]);F[J]^=ne,V[J]^=ne}}function R(F,V){for(var W=i(),E=i(),J=0;J<16;J++)E[J]=V[J];M(E),M(E),M(E);for(var ne=0;ne<2;ne++){W[0]=E[0]-65517;for(var J=1;J<15;J++)W[J]=E[J]-65535-(W[J-1]>>16&1),W[J-1]&=65535;W[15]=E[15]-32767-(W[14]>>16&1);var ae=W[15]>>16&1;W[14]&=65535,x(E,W,1-ae)}for(var J=0;J<16;J++)F[2*J]=E[J]&255,F[2*J+1]=E[J]>>8}function O(F,V){for(var W=0,E=0;E<32;E++)W|=F[E]^V[E];return(1&W-1>>>8)-1}function j(F,V){var W=new Uint8Array(32),E=new Uint8Array(32);return R(W,F),R(E,V),O(W,E)}function q(F){var V=new Uint8Array(32);return R(V,F),V[0]&1}function B(F,V){for(var W=0;W<16;W++)F[W]=V[2*W]+(V[2*W+1]<<8);F[15]&=32767}function I(F,V,W){for(var E=0;E<16;E++)F[E]=V[E]+W[E]}function G(F,V,W){for(var E=0;E<16;E++)F[E]=V[E]-W[E]}function v(F,V,W){var E,J,ne=0,ae=0,ue=0,he=0,z=0,P=0,N=0,Y=0,ee=0,re=0,ie=0,de=0,ce=0,le=0,_e=0,se=0,we=0,Oe=0,Se=0,Ae=0,We=0,me=0,Me=0,Ye=0,Xe=0,Je=0,St=0,Ie=0,et=0,Vt=0,tt=0,Pe=W[0],dt=W[1],ke=W[2],$e=W[3],gt=W[4],Re=W[5],Ne=W[6],Te=W[7],Ue=W[8],Be=W[9],wt=W[10],Ce=W[11],Le=W[12],rt=W[13],De=W[14],xe=W[15];E=V[0],ne+=E*Pe,ae+=E*dt,ue+=E*ke,he+=E*$e,z+=E*gt,P+=E*Re,N+=E*Ne,Y+=E*Te,ee+=E*Ue,re+=E*Be,ie+=E*wt,de+=E*Ce,ce+=E*Le,le+=E*rt,_e+=E*De,se+=E*xe,E=V[1],ae+=E*Pe,ue+=E*dt,he+=E*ke,z+=E*$e,P+=E*gt,N+=E*Re,Y+=E*Ne,ee+=E*Te,re+=E*Ue,ie+=E*Be,de+=E*wt,ce+=E*Ce,le+=E*Le,_e+=E*rt,se+=E*De,we+=E*xe,E=V[2],ue+=E*Pe,he+=E*dt,z+=E*ke,P+=E*$e,N+=E*gt,Y+=E*Re,ee+=E*Ne,re+=E*Te,ie+=E*Ue,de+=E*Be,ce+=E*wt,le+=E*Ce,_e+=E*Le,se+=E*rt,we+=E*De,Oe+=E*xe,E=V[3],he+=E*Pe,z+=E*dt,P+=E*ke,N+=E*$e,Y+=E*gt,ee+=E*Re,re+=E*Ne,ie+=E*Te,de+=E*Ue,ce+=E*Be,le+=E*wt,_e+=E*Ce,se+=E*Le,we+=E*rt,Oe+=E*De,Se+=E*xe,E=V[4],z+=E*Pe,P+=E*dt,N+=E*ke,Y+=E*$e,ee+=E*gt,re+=E*Re,ie+=E*Ne,de+=E*Te,ce+=E*Ue,le+=E*Be,_e+=E*wt,se+=E*Ce,we+=E*Le,Oe+=E*rt,Se+=E*De,Ae+=E*xe,E=V[5],P+=E*Pe,N+=E*dt,Y+=E*ke,ee+=E*$e,re+=E*gt,ie+=E*Re,de+=E*Ne,ce+=E*Te,le+=E*Ue,_e+=E*Be,se+=E*wt,we+=E*Ce,Oe+=E*Le,Se+=E*rt,Ae+=E*De,We+=E*xe,E=V[6],N+=E*Pe,Y+=E*dt,ee+=E*ke,re+=E*$e,ie+=E*gt,de+=E*Re,ce+=E*Ne,le+=E*Te,_e+=E*Ue,se+=E*Be,we+=E*wt,Oe+=E*Ce,Se+=E*Le,Ae+=E*rt,We+=E*De,me+=E*xe,E=V[7],Y+=E*Pe,ee+=E*dt,re+=E*ke,ie+=E*$e,de+=E*gt,ce+=E*Re,le+=E*Ne,_e+=E*Te,se+=E*Ue,we+=E*Be,Oe+=E*wt,Se+=E*Ce,Ae+=E*Le,We+=E*rt,me+=E*De,Me+=E*xe,E=V[8],ee+=E*Pe,re+=E*dt,ie+=E*ke,de+=E*$e,ce+=E*gt,le+=E*Re,_e+=E*Ne,se+=E*Te,we+=E*Ue,Oe+=E*Be,Se+=E*wt,Ae+=E*Ce,We+=E*Le,me+=E*rt,Me+=E*De,Ye+=E*xe,E=V[9],re+=E*Pe,ie+=E*dt,de+=E*ke,ce+=E*$e,le+=E*gt,_e+=E*Re,se+=E*Ne,we+=E*Te,Oe+=E*Ue,Se+=E*Be,Ae+=E*wt,We+=E*Ce,me+=E*Le,Me+=E*rt,Ye+=E*De,Xe+=E*xe,E=V[10],ie+=E*Pe,de+=E*dt,ce+=E*ke,le+=E*$e,_e+=E*gt,se+=E*Re,we+=E*Ne,Oe+=E*Te,Se+=E*Ue,Ae+=E*Be,We+=E*wt,me+=E*Ce,Me+=E*Le,Ye+=E*rt,Xe+=E*De,Je+=E*xe,E=V[11],de+=E*Pe,ce+=E*dt,le+=E*ke,_e+=E*$e,se+=E*gt,we+=E*Re,Oe+=E*Ne,Se+=E*Te,Ae+=E*Ue,We+=E*Be,me+=E*wt,Me+=E*Ce,Ye+=E*Le,Xe+=E*rt,Je+=E*De,St+=E*xe,E=V[12],ce+=E*Pe,le+=E*dt,_e+=E*ke,se+=E*$e,we+=E*gt,Oe+=E*Re,Se+=E*Ne,Ae+=E*Te,We+=E*Ue,me+=E*Be,Me+=E*wt,Ye+=E*Ce,Xe+=E*Le,Je+=E*rt,St+=E*De,Ie+=E*xe,E=V[13],le+=E*Pe,_e+=E*dt,se+=E*ke,we+=E*$e,Oe+=E*gt,Se+=E*Re,Ae+=E*Ne,We+=E*Te,me+=E*Ue,Me+=E*Be,Ye+=E*wt,Xe+=E*Ce,Je+=E*Le,St+=E*rt,Ie+=E*De,et+=E*xe,E=V[14],_e+=E*Pe,se+=E*dt,we+=E*ke,Oe+=E*$e,Se+=E*gt,Ae+=E*Re,We+=E*Ne,me+=E*Te,Me+=E*Ue,Ye+=E*Be,Xe+=E*wt,Je+=E*Ce,St+=E*Le,Ie+=E*rt,et+=E*De,Vt+=E*xe,E=V[15],se+=E*Pe,we+=E*dt,Oe+=E*ke,Se+=E*$e,Ae+=E*gt,We+=E*Re,me+=E*Ne,Me+=E*Te,Ye+=E*Ue,Xe+=E*Be,Je+=E*wt,St+=E*Ce,Ie+=E*Le,et+=E*rt,Vt+=E*De,tt+=E*xe,ne+=38*we,ae+=38*Oe,ue+=38*Se,he+=38*Ae,z+=38*We,P+=38*me,N+=38*Me,Y+=38*Ye,ee+=38*Xe,re+=38*Je,ie+=38*St,de+=38*Ie,ce+=38*et,le+=38*Vt,_e+=38*tt,J=1,E=ne+J+65535,J=Math.floor(E/65536),ne=E-J*65536,E=ae+J+65535,J=Math.floor(E/65536),ae=E-J*65536,E=ue+J+65535,J=Math.floor(E/65536),ue=E-J*65536,E=he+J+65535,J=Math.floor(E/65536),he=E-J*65536,E=z+J+65535,J=Math.floor(E/65536),z=E-J*65536,E=P+J+65535,J=Math.floor(E/65536),P=E-J*65536,E=N+J+65535,J=Math.floor(E/65536),N=E-J*65536,E=Y+J+65535,J=Math.floor(E/65536),Y=E-J*65536,E=ee+J+65535,J=Math.floor(E/65536),ee=E-J*65536,E=re+J+65535,J=Math.floor(E/65536),re=E-J*65536,E=ie+J+65535,J=Math.floor(E/65536),ie=E-J*65536,E=de+J+65535,J=Math.floor(E/65536),de=E-J*65536,E=ce+J+65535,J=Math.floor(E/65536),ce=E-J*65536,E=le+J+65535,J=Math.floor(E/65536),le=E-J*65536,E=_e+J+65535,J=Math.floor(E/65536),_e=E-J*65536,E=se+J+65535,J=Math.floor(E/65536),se=E-J*65536,ne+=J-1+37*(J-1),J=1,E=ne+J+65535,J=Math.floor(E/65536),ne=E-J*65536,E=ae+J+65535,J=Math.floor(E/65536),ae=E-J*65536,E=ue+J+65535,J=Math.floor(E/65536),ue=E-J*65536,E=he+J+65535,J=Math.floor(E/65536),he=E-J*65536,E=z+J+65535,J=Math.floor(E/65536),z=E-J*65536,E=P+J+65535,J=Math.floor(E/65536),P=E-J*65536,E=N+J+65535,J=Math.floor(E/65536),N=E-J*65536,E=Y+J+65535,J=Math.floor(E/65536),Y=E-J*65536,E=ee+J+65535,J=Math.floor(E/65536),ee=E-J*65536,E=re+J+65535,J=Math.floor(E/65536),re=E-J*65536,E=ie+J+65535,J=Math.floor(E/65536),ie=E-J*65536,E=de+J+65535,J=Math.floor(E/65536),de=E-J*65536,E=ce+J+65535,J=Math.floor(E/65536),ce=E-J*65536,E=le+J+65535,J=Math.floor(E/65536),le=E-J*65536,E=_e+J+65535,J=Math.floor(E/65536),_e=E-J*65536,E=se+J+65535,J=Math.floor(E/65536),se=E-J*65536,ne+=J-1+37*(J-1),F[0]=ne,F[1]=ae,F[2]=ue,F[3]=he,F[4]=z,F[5]=P,F[6]=N,F[7]=Y,F[8]=ee,F[9]=re,F[10]=ie,F[11]=de,F[12]=ce,F[13]=le,F[14]=_e,F[15]=se}function A(F,V){v(F,V,V)}function D(F,V){var W=i(),E;for(E=0;E<16;E++)W[E]=V[E];for(E=253;E>=0;E--)A(W,W),E!==2&&E!==4&&v(W,W,V);for(E=0;E<16;E++)F[E]=W[E]}function K(F,V){var W=i(),E;for(E=0;E<16;E++)W[E]=V[E];for(E=250;E>=0;E--)A(W,W),E!==1&&v(W,W,V);for(E=0;E<16;E++)F[E]=W[E]}function C(F,V){var W=i(),E=i(),J=i(),ne=i(),ae=i(),ue=i(),he=i(),z=i(),P=i();G(W,F[1],F[0]),G(P,V[1],V[0]),v(W,W,P),I(E,F[0],F[1]),I(P,V[0],V[1]),v(E,E,P),v(J,F[3],V[3]),v(J,J,f),v(ne,F[2],V[2]),I(ne,ne,ne),G(ae,E,W),G(ue,ne,J),I(he,ne,J),I(z,E,W),v(F[0],ae,ue),v(F[1],z,he),v(F[2],he,ue),v(F[3],ae,z)}function b(F,V,W){for(var E=0;E<4;E++)x(F[E],V[E],W)}function S(F,V){var W=i(),E=i(),J=i();D(J,V[2]),v(W,V[0],J),v(E,V[1],J),R(F,E),F[31]^=q(W)<<7}function y(F,V,W){w(F[0],a),w(F[1],s),w(F[2],s),w(F[3],a);for(var E=255;E>=0;--E){var J=W[E/8|0]>>(E&7)&1;b(F,V,J),C(V,F),C(F,F),b(F,V,J)}}function g(F,V){var W=[i(),i(),i(),i()];w(W[0],h),w(W[1],l),w(W[2],s),v(W[3],h,l),y(F,W,V)}function k(F){if(F.length!==t.SEED_LENGTH)throw new Error("ed25519: seed must be "+t.SEED_LENGTH+" bytes");var V=r.hash(F);V[0]&=248,V[31]&=127,V[31]|=64;var W=new Uint8Array(32),E=[i(),i(),i(),i()];g(E,V),S(W,E);var J=new Uint8Array(64);return J.set(F),J.set(W,32),{publicKey:W,secretKey:J}}t.generateKeyPairFromSeed=k;function L(F){var V=e.randomBytes(32,F),W=k(V);return n.wipe(V),W}t.generateKeyPair=L;function p(F){if(F.length!==t.SECRET_KEY_LENGTH)throw new Error("ed25519: secret key must be "+t.SECRET_KEY_LENGTH+" bytes");return new Uint8Array(F.subarray(32))}t.extractPublicKeyFromSecretKey=p;var d=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function c(F,V){var W,E,J,ne;for(E=63;E>=32;--E){for(W=0,J=E-32,ne=E-12;J<ne;++J)V[J]+=W-16*V[E]*d[J-(E-32)],W=Math.floor((V[J]+128)/256),V[J]-=W*256;V[J]+=W,V[E]=0}for(W=0,J=0;J<32;J++)V[J]+=W-(V[31]>>4)*d[J],W=V[J]>>8,V[J]&=255;for(J=0;J<32;J++)V[J]-=W*d[J];for(E=0;E<32;E++)V[E+1]+=V[E]>>8,F[E]=V[E]&255}function _(F){for(var V=new Float64Array(64),W=0;W<64;W++)V[W]=F[W];for(var W=0;W<64;W++)F[W]=0;c(F,V)}function U(F,V){var W=new Float64Array(64),E=[i(),i(),i(),i()],J=r.hash(F.subarray(0,32));J[0]&=248,J[31]&=127,J[31]|=64;var ne=new Uint8Array(64);ne.set(J.subarray(32),32);var ae=new r.SHA512;ae.update(ne.subarray(32)),ae.update(V);var ue=ae.digest();ae.clean(),_(ue),g(E,ue),S(ne,E),ae.reset(),ae.update(ne.subarray(0,32)),ae.update(F.subarray(32)),ae.update(V);var he=ae.digest();_(he);for(var z=0;z<32;z++)W[z]=ue[z];for(var z=0;z<32;z++)for(var P=0;P<32;P++)W[z+P]+=he[z]*J[P];return c(ne.subarray(32),W),ne}t.sign=U;function H(F,V){var W=i(),E=i(),J=i(),ne=i(),ae=i(),ue=i(),he=i();return w(F[2],s),B(F[1],V),A(J,F[1]),v(ne,J,u),G(J,J,F[2]),I(ne,F[2],ne),A(ae,ne),A(ue,ae),v(he,ue,ae),v(W,he,J),v(W,W,ne),K(W,W),v(W,W,J),v(W,W,ne),v(W,W,ne),v(F[0],W,ne),A(E,F[0]),v(E,E,ne),j(E,J)&&v(F[0],F[0],m),A(E,F[0]),v(E,E,ne),j(E,J)?-1:(q(F[0])===V[31]>>7&&G(F[0],a,F[0]),v(F[3],F[0],F[1]),0)}function $(F,V,W){var E=new Uint8Array(32),J=[i(),i(),i(),i()],ne=[i(),i(),i(),i()];if(W.length!==t.SIGNATURE_LENGTH)throw new Error("ed25519: signature must be "+t.SIGNATURE_LENGTH+" bytes");if(H(ne,F))return!1;var ae=new r.SHA512;ae.update(W.subarray(0,32)),ae.update(F),ae.update(V);var ue=ae.digest();return _(ue),y(J,ne,ue),g(ne,W.subarray(32)),C(J,ne),S(E,J),!O(W,E)}t.verify=$;function T(F){var V=[i(),i(),i(),i()];if(H(V,F))throw new Error("Ed25519: invalid public key");var W=i(),E=i(),J=V[1];I(W,s,J),G(E,s,J),D(E,E),v(W,W,E);var ne=new Uint8Array(32);return R(ne,W),ne}t.convertPublicKeyToX25519=T;function Z(F){var V=r.hash(F.subarray(0,32));V[0]&=248,V[31]&=127,V[31]|=64;var W=new Uint8Array(V.subarray(0,32));return n.wipe(V),W}t.convertSecretKeyToX25519=Z})(Ec);var kN=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TN=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ON=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kN(e,t,r);return TN(e,t),e};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.keyToDidDoc=void 0;const Kd=ON(sr),PN=Ec;function RN(t){const e=new Uint8Array(t.length+2);return e[0]=236,e[1]=1,e.set(t,2),`z${Kd.toString(e,"base58btc")}`}function NN(t,e){const r=`did:key:${e}`,n=`${r}#${e}`,i=PN.convertPublicKeyToX25519(t),o=`${r}#${RN(i)}`;return{id:r,verificationMethod:[{id:n,type:"Ed25519VerificationKey2018",controller:r,publicKeyBase58:Kd.toString(t,"base58btc")}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n],keyAgreement:[{id:o,type:"X25519KeyAgreementKey2019",controller:r,publicKeyBase58:Kd.toString(i,"base58btc")}]}}Sc.keyToDidDoc=NN;var CN=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LN=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),w3=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&CN(e,t,r);return LN(e,t),e},_3=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_c,"__esModule",{value:!0});var x3=_c.getResolver=void 0;const S3=_3(ro),DN=_3(to.exports),$N=w3(xc),UN=w3(Sc),BN="application/did+ld+json",E3="application/did+json",FN={231:$N,237:UN};function A3(){return{key:async(t,e,r,n)=>{const i=n.accept||E3,o={didResolutionMetadata:{contentType:i},didDocument:null,didDocumentMetadata:{}};try{const a=DN.default.decode(e.id),s=S3.default.decode(a),u=a.slice(S3.default.decode.bytes),f=await FN[s].keyToDidDoc(u,e.id);i===BN?(f["@context"]="https://w3id.org/did/v1",o.didDocument=f):i===E3?o.didDocument=f:(delete o.didResolutionMetadata.contentType,o.didResolutionMetadata.error="representationNotSupported")}catch(a){o.didResolutionMetadata.error="invalidDid",o.didResolutionMetadata.message=a.toString()}return o}}}x3=_c.getResolver=A3;_c.default={getResolver:A3};const jN={definitions:{cryptoAccounts:"kjzl6cwe1jw149z4rvwzi56mjjukafta30kojzktd9dsrgqdgz4wlnceu59f95f",alsoKnownAs:"kjzl6cwe1jw146zfmqa10a5x1vry6au3t362p44uttz4l0k4hi88o41zplhmxnf",basicProfile:"kjzl6cwe1jw145cjbeko9kil8g9bxszjhyde21ob8epxuxkaon1izyqsu8wgcic"},schemas:{CryptoAccounts:"ceramic://k3y52l7qbv1frypussjburqg4fykyyycfu0p9znc75lv2t5cg4xaslhagkd7h7mkg",AlsoKnownAs:"ceramic://k3y52l7qbv1fryojt8n8cw2k04p9wp67ly59iwqs65dejso566fij5wsdrb871yio",BasicProfile:"ceramic://k3y52l7qbv1frxt706gqfzmq6cbqdkptzk8uudaryhlkf6ly9vx21hqu4r6k1jqio"},tiles:{}};function zN(t){try{return An.AccountID.parse(t),!0}catch{return!1}}var I3=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Un=(t,e,r)=>(I3(t,e,"read from private field"),r?r.call(t):e.get(t)),Ac=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Ic=(t,e,r,n)=>(I3(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ni,Ys,Xs,Mc;const qN={local:"http://localhost:7007","mainnet-gateway":"https://gateway.ceramic.network","testnet-clay":"https://ceramic-clay.3boxlabs.com","testnet-clay-gateway":"https://gateway-clay.ceramic.network"};class GN{constructor(e){var n,i;Ac(this,Ni,void 0),Ac(this,Ys,void 0),Ac(this,Xs,void 0),Ac(this,Mc,void 0);const r=(n=qN[e.ceramic])!=null?n:e.ceramic;Ic(this,Ni,new Ng.CeramicClient(r)),Ic(this,Ys,new Gd({autopin:!0,ceramic:Un(this,Ni),model:(i=e.model)!=null?i:jN})),Ic(this,Xs,new hN({autopin:!0,ceramic:Un(this,Ni),model:Un(this,Ys)})),Ic(this,Mc,new y3(be(be({},x3()),Ig(Un(this,Ni)))))}get ceramic(){return Un(this,Ni)}get dataModel(){return Un(this,Ys)}get dataStore(){return Un(this,Xs)}get resolver(){return Un(this,Mc)}async getAccountDID(e){const r=await Bd.Caip10Link.fromAccount(Un(this,Ni),e);if(r.did==null)throw new Error(`No DID found for ${e}`);return r.did}async toDID(e){return zN(e)?await this.getAccountDID(e):e}async get(e,r){const n=await this.toDID(r);return await Un(this,Xs).get(e,n)}}Ni=new WeakMap,Ys=new WeakMap,Xs=new WeakMap,Mc=new WeakMap,typeof require!="undefined"&&require;var M3={},k3={};Object.defineProperty(k3,"__esModule",{value:!0});var kc={},HN=Et(xN);function Tc(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function T3(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const O3=T3("utf8","u",t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),Jd=T3("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),P3=be({utf8:O3,"utf-8":O3,hex:Jr.base16,latin1:Jd,ascii:Jd,binary:Jd},Jr);function _n(t,e="utf8"){const r=P3[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}function Oc(t,e="utf8"){const r=P3[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var Yd={};const WN="elliptic",VN="6.5.4",KN="EC cryptography",JN="lib/elliptic.js",YN=["lib"],XN={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},ZN={type:"git",url:"git@github.com:indutny/elliptic"},QN=["EC","Elliptic","curve","Cryptography"],eC="Fedor Indutny <fedor@indutny.com>",tC="MIT",rC={url:"https://github.com/indutny/elliptic/issues"},nC="https://github.com/indutny/elliptic",iC={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},oC={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"};var aC={name:WN,version:VN,description:KN,main:JN,files:YN,scripts:XN,repository:ZN,keywords:QN,author:eC,license:tC,bugs:rC,homepage:nC,devDependencies:iC,dependencies:oC},Ur={},Bn={exports:{}};(function(t){(function(e,r){function n(C,b){if(!C)throw new Error(b||"Assertion failed")}function i(C,b){C.super_=b;var S=function(){};S.prototype=b.prototype,C.prototype=new S,C.prototype.constructor=C}function o(C,b,S){if(o.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((b==="le"||b==="be")&&(S=b,b=10),this._init(C||0,b||10,S||"be"))}typeof e=="object"?e.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var a;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?a=window.Buffer:a=require("buffer").Buffer}catch{}o.isBN=function(b){return b instanceof o?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===o.wordSize&&Array.isArray(b.words)},o.max=function(b,S){return b.cmp(S)>0?b:S},o.min=function(b,S){return b.cmp(S)<0?b:S},o.prototype._init=function(b,S,y){if(typeof b=="number")return this._initNumber(b,S,y);if(typeof b=="object")return this._initArray(b,S,y);S==="hex"&&(S=16),n(S===(S|0)&&S>=2&&S<=36),b=b.toString().replace(/\s+/g,"");var g=0;b[0]==="-"&&(g++,this.negative=1),g<b.length&&(S===16?this._parseHex(b,g,y):(this._parseBase(b,S,g),y==="le"&&this._initArray(this.toArray(),S,y)))},o.prototype._initNumber=function(b,S,y){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(n(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),S,y)},o.prototype._initArray=function(b,S,y){if(n(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var k,L,p=0;if(y==="be")for(g=b.length-1,k=0;g>=0;g-=3)L=b[g]|b[g-1]<<8|b[g-2]<<16,this.words[k]|=L<<p&67108863,this.words[k+1]=L>>>26-p&67108863,p+=24,p>=26&&(p-=26,k++);else if(y==="le")for(g=0,k=0;g<b.length;g+=3)L=b[g]|b[g+1]<<8|b[g+2]<<16,this.words[k]|=L<<p&67108863,this.words[k+1]=L>>>26-p&67108863,p+=24,p>=26&&(p-=26,k++);return this.strip()};function s(C,b){var S=C.charCodeAt(b);return S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:S-48&15}function u(C,b,S){var y=s(C,S);return S-1>=b&&(y|=s(C,S-1)<<4),y}o.prototype._parseHex=function(b,S,y){this.length=Math.ceil((b.length-S)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var k=0,L=0,p;if(y==="be")for(g=b.length-1;g>=S;g-=2)p=u(b,S,g)<<k,this.words[L]|=p&67108863,k>=18?(k-=18,L+=1,this.words[L]|=p>>>26):k+=8;else{var d=b.length-S;for(g=d%2==0?S+1:S;g<b.length;g+=2)p=u(b,S,g)<<k,this.words[L]|=p&67108863,k>=18?(k-=18,L+=1,this.words[L]|=p>>>26):k+=8}this.strip()};function f(C,b,S,y){for(var g=0,k=Math.min(C.length,S),L=b;L<k;L++){var p=C.charCodeAt(L)-48;g*=y,p>=49?g+=p-49+10:p>=17?g+=p-17+10:g+=p}return g}o.prototype._parseBase=function(b,S,y){this.words=[0],this.length=1;for(var g=0,k=1;k<=67108863;k*=S)g++;g--,k=k/S|0;for(var L=b.length-y,p=L%g,d=Math.min(L,L-p)+y,c=0,_=y;_<d;_+=g)c=f(b,_,_+g,S),this.imuln(k),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(p!==0){var U=1;for(c=f(b,_,b.length,S),_=0;_<p;_++)U*=S;this.imuln(U),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(b){b.words=new Array(this.length);for(var S=0;S<this.length;S++)b.words[S]=this.words[S];b.length=this.length,b.negative=this.negative,b.red=this.red},o.prototype.clone=function(){var b=new o(null);return this.copy(b),b},o.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(b,S){b=b||10,S=S|0||1;var y;if(b===16||b==="hex"){y="";for(var g=0,k=0,L=0;L<this.length;L++){var p=this.words[L],d=((p<<g|k)&16777215).toString(16);k=p>>>24-g&16777215,k!==0||L!==this.length-1?y=h[6-d.length]+d+y:y=d+y,g+=2,g>=26&&(g-=26,L--)}for(k!==0&&(y=k.toString(16)+y);y.length%S!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(b===(b|0)&&b>=2&&b<=36){var c=l[b],_=m[b];y="";var U=this.clone();for(U.negative=0;!U.isZero();){var H=U.modn(_).toString(b);U=U.idivn(_),U.isZero()?y=H+y:y=h[c-H.length]+H+y}for(this.isZero()&&(y="0"+y);y.length%S!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(b,S){return n(typeof a!="undefined"),this.toArrayLike(a,b,S)},o.prototype.toArray=function(b,S){return this.toArrayLike(Array,b,S)},o.prototype.toArrayLike=function(b,S,y){var g=this.byteLength(),k=y||Math.max(1,g);n(g<=k,"byte array longer than desired length"),n(k>0,"Requested array length <= 0"),this.strip();var L=S==="le",p=new b(k),d,c,_=this.clone();if(L){for(c=0;!_.isZero();c++)d=_.andln(255),_.iushrn(8),p[c]=d;for(;c<k;c++)p[c]=0}else{for(c=0;c<k-g;c++)p[c]=0;for(c=0;!_.isZero();c++)d=_.andln(255),_.iushrn(8),p[k-c-1]=d}return p},Math.clz32?o.prototype._countBits=function(b){return 32-Math.clz32(b)}:o.prototype._countBits=function(b){var S=b,y=0;return S>=4096&&(y+=13,S>>>=13),S>=64&&(y+=7,S>>>=7),S>=8&&(y+=4,S>>>=4),S>=2&&(y+=2,S>>>=2),y+S},o.prototype._zeroBits=function(b){if(b===0)return 26;var S=b,y=0;return(S&8191)==0&&(y+=13,S>>>=13),(S&127)==0&&(y+=7,S>>>=7),(S&15)==0&&(y+=4,S>>>=4),(S&3)==0&&(y+=2,S>>>=2),(S&1)==0&&y++,y},o.prototype.bitLength=function(){var b=this.words[this.length-1],S=this._countBits(b);return(this.length-1)*26+S};function w(C){for(var b=new Array(C.bitLength()),S=0;S<b.length;S++){var y=S/26|0,g=S%26;b[S]=(C.words[y]&1<<g)>>>g}return b}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,S=0;S<this.length;S++){var y=this._zeroBits(this.words[S]);if(b+=y,y!==26)break}return b},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},o.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var S=0;S<b.length;S++)this.words[S]=this.words[S]|b.words[S];return this.strip()},o.prototype.ior=function(b){return n((this.negative|b.negative)==0),this.iuor(b)},o.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},o.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},o.prototype.iuand=function(b){var S;this.length>b.length?S=b:S=this;for(var y=0;y<S.length;y++)this.words[y]=this.words[y]&b.words[y];return this.length=S.length,this.strip()},o.prototype.iand=function(b){return n((this.negative|b.negative)==0),this.iuand(b)},o.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},o.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},o.prototype.iuxor=function(b){var S,y;this.length>b.length?(S=this,y=b):(S=b,y=this);for(var g=0;g<y.length;g++)this.words[g]=S.words[g]^y.words[g];if(this!==S)for(;g<S.length;g++)this.words[g]=S.words[g];return this.length=S.length,this.strip()},o.prototype.ixor=function(b){return n((this.negative|b.negative)==0),this.iuxor(b)},o.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},o.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},o.prototype.inotn=function(b){n(typeof b=="number"&&b>=0);var S=Math.ceil(b/26)|0,y=b%26;this._expand(S),y>0&&S--;for(var g=0;g<S;g++)this.words[g]=~this.words[g]&67108863;return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},o.prototype.notn=function(b){return this.clone().inotn(b)},o.prototype.setn=function(b,S){n(typeof b=="number"&&b>=0);var y=b/26|0,g=b%26;return this._expand(y+1),S?this.words[y]=this.words[y]|1<<g:this.words[y]=this.words[y]&~(1<<g),this.strip()},o.prototype.iadd=function(b){var S;if(this.negative!==0&&b.negative===0)return this.negative=0,S=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,S=this.isub(b),b.negative=1,S._normSign();var y,g;this.length>b.length?(y=this,g=b):(y=b,g=this);for(var k=0,L=0;L<g.length;L++)S=(y.words[L]|0)+(g.words[L]|0)+k,this.words[L]=S&67108863,k=S>>>26;for(;k!==0&&L<y.length;L++)S=(y.words[L]|0)+k,this.words[L]=S&67108863,k=S>>>26;if(this.length=y.length,k!==0)this.words[this.length]=k,this.length++;else if(y!==this)for(;L<y.length;L++)this.words[L]=y.words[L];return this},o.prototype.add=function(b){var S;return b.negative!==0&&this.negative===0?(b.negative=0,S=this.sub(b),b.negative^=1,S):b.negative===0&&this.negative!==0?(this.negative=0,S=b.sub(this),this.negative=1,S):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},o.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var S=this.iadd(b);return b.negative=1,S._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var y=this.cmp(b);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,k;y>0?(g=this,k=b):(g=b,k=this);for(var L=0,p=0;p<k.length;p++)S=(g.words[p]|0)-(k.words[p]|0)+L,L=S>>26,this.words[p]=S&67108863;for(;L!==0&&p<g.length;p++)S=(g.words[p]|0)+L,L=S>>26,this.words[p]=S&67108863;if(L===0&&p<g.length&&g!==this)for(;p<g.length;p++)this.words[p]=g.words[p];return this.length=Math.max(this.length,p),g!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(b){return this.clone().isub(b)};function M(C,b,S){S.negative=b.negative^C.negative;var y=C.length+b.length|0;S.length=y,y=y-1|0;var g=C.words[0]|0,k=b.words[0]|0,L=g*k,p=L&67108863,d=L/67108864|0;S.words[0]=p;for(var c=1;c<y;c++){for(var _=d>>>26,U=d&67108863,H=Math.min(c,b.length-1),$=Math.max(0,c-C.length+1);$<=H;$++){var T=c-$|0;g=C.words[T]|0,k=b.words[$]|0,L=g*k+U,_+=L/67108864|0,U=L&67108863}S.words[c]=U|0,d=_|0}return d!==0?S.words[c]=d|0:S.length--,S.strip()}var x=function(b,S,y){var g=b.words,k=S.words,L=y.words,p=0,d,c,_,U=g[0]|0,H=U&8191,$=U>>>13,T=g[1]|0,Z=T&8191,F=T>>>13,V=g[2]|0,W=V&8191,E=V>>>13,J=g[3]|0,ne=J&8191,ae=J>>>13,ue=g[4]|0,he=ue&8191,z=ue>>>13,P=g[5]|0,N=P&8191,Y=P>>>13,ee=g[6]|0,re=ee&8191,ie=ee>>>13,de=g[7]|0,ce=de&8191,le=de>>>13,_e=g[8]|0,se=_e&8191,we=_e>>>13,Oe=g[9]|0,Se=Oe&8191,Ae=Oe>>>13,We=k[0]|0,me=We&8191,Me=We>>>13,Ye=k[1]|0,Xe=Ye&8191,Je=Ye>>>13,St=k[2]|0,Ie=St&8191,et=St>>>13,Vt=k[3]|0,tt=Vt&8191,Pe=Vt>>>13,dt=k[4]|0,ke=dt&8191,$e=dt>>>13,gt=k[5]|0,Re=gt&8191,Ne=gt>>>13,Te=k[6]|0,Ue=Te&8191,Be=Te>>>13,wt=k[7]|0,Ce=wt&8191,Le=wt>>>13,rt=k[8]|0,De=rt&8191,xe=rt>>>13,cn=k[9]|0,lt=cn&8191,ht=cn>>>13;y.negative=b.negative^S.negative,y.length=19,d=Math.imul(H,me),c=Math.imul(H,Me),c=c+Math.imul($,me)|0,_=Math.imul($,Me);var Kt=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,d=Math.imul(Z,me),c=Math.imul(Z,Me),c=c+Math.imul(F,me)|0,_=Math.imul(F,Me),d=d+Math.imul(H,Xe)|0,c=c+Math.imul(H,Je)|0,c=c+Math.imul($,Xe)|0,_=_+Math.imul($,Je)|0;var Br=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(Br>>>26)|0,Br&=67108863,d=Math.imul(W,me),c=Math.imul(W,Me),c=c+Math.imul(E,me)|0,_=Math.imul(E,Me),d=d+Math.imul(Z,Xe)|0,c=c+Math.imul(Z,Je)|0,c=c+Math.imul(F,Xe)|0,_=_+Math.imul(F,Je)|0,d=d+Math.imul(H,Ie)|0,c=c+Math.imul(H,et)|0,c=c+Math.imul($,Ie)|0,_=_+Math.imul($,et)|0;var Fr=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,d=Math.imul(ne,me),c=Math.imul(ne,Me),c=c+Math.imul(ae,me)|0,_=Math.imul(ae,Me),d=d+Math.imul(W,Xe)|0,c=c+Math.imul(W,Je)|0,c=c+Math.imul(E,Xe)|0,_=_+Math.imul(E,Je)|0,d=d+Math.imul(Z,Ie)|0,c=c+Math.imul(Z,et)|0,c=c+Math.imul(F,Ie)|0,_=_+Math.imul(F,et)|0,d=d+Math.imul(H,tt)|0,c=c+Math.imul(H,Pe)|0,c=c+Math.imul($,tt)|0,_=_+Math.imul($,Pe)|0;var jr=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(jr>>>26)|0,jr&=67108863,d=Math.imul(he,me),c=Math.imul(he,Me),c=c+Math.imul(z,me)|0,_=Math.imul(z,Me),d=d+Math.imul(ne,Xe)|0,c=c+Math.imul(ne,Je)|0,c=c+Math.imul(ae,Xe)|0,_=_+Math.imul(ae,Je)|0,d=d+Math.imul(W,Ie)|0,c=c+Math.imul(W,et)|0,c=c+Math.imul(E,Ie)|0,_=_+Math.imul(E,et)|0,d=d+Math.imul(Z,tt)|0,c=c+Math.imul(Z,Pe)|0,c=c+Math.imul(F,tt)|0,_=_+Math.imul(F,Pe)|0,d=d+Math.imul(H,ke)|0,c=c+Math.imul(H,$e)|0,c=c+Math.imul($,ke)|0,_=_+Math.imul($,$e)|0;var zr=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(zr>>>26)|0,zr&=67108863,d=Math.imul(N,me),c=Math.imul(N,Me),c=c+Math.imul(Y,me)|0,_=Math.imul(Y,Me),d=d+Math.imul(he,Xe)|0,c=c+Math.imul(he,Je)|0,c=c+Math.imul(z,Xe)|0,_=_+Math.imul(z,Je)|0,d=d+Math.imul(ne,Ie)|0,c=c+Math.imul(ne,et)|0,c=c+Math.imul(ae,Ie)|0,_=_+Math.imul(ae,et)|0,d=d+Math.imul(W,tt)|0,c=c+Math.imul(W,Pe)|0,c=c+Math.imul(E,tt)|0,_=_+Math.imul(E,Pe)|0,d=d+Math.imul(Z,ke)|0,c=c+Math.imul(Z,$e)|0,c=c+Math.imul(F,ke)|0,_=_+Math.imul(F,$e)|0,d=d+Math.imul(H,Re)|0,c=c+Math.imul(H,Ne)|0,c=c+Math.imul($,Re)|0,_=_+Math.imul($,Ne)|0;var Ze=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,d=Math.imul(re,me),c=Math.imul(re,Me),c=c+Math.imul(ie,me)|0,_=Math.imul(ie,Me),d=d+Math.imul(N,Xe)|0,c=c+Math.imul(N,Je)|0,c=c+Math.imul(Y,Xe)|0,_=_+Math.imul(Y,Je)|0,d=d+Math.imul(he,Ie)|0,c=c+Math.imul(he,et)|0,c=c+Math.imul(z,Ie)|0,_=_+Math.imul(z,et)|0,d=d+Math.imul(ne,tt)|0,c=c+Math.imul(ne,Pe)|0,c=c+Math.imul(ae,tt)|0,_=_+Math.imul(ae,Pe)|0,d=d+Math.imul(W,ke)|0,c=c+Math.imul(W,$e)|0,c=c+Math.imul(E,ke)|0,_=_+Math.imul(E,$e)|0,d=d+Math.imul(Z,Re)|0,c=c+Math.imul(Z,Ne)|0,c=c+Math.imul(F,Re)|0,_=_+Math.imul(F,Ne)|0,d=d+Math.imul(H,Ue)|0,c=c+Math.imul(H,Be)|0,c=c+Math.imul($,Ue)|0,_=_+Math.imul($,Be)|0;var Jt=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,d=Math.imul(ce,me),c=Math.imul(ce,Me),c=c+Math.imul(le,me)|0,_=Math.imul(le,Me),d=d+Math.imul(re,Xe)|0,c=c+Math.imul(re,Je)|0,c=c+Math.imul(ie,Xe)|0,_=_+Math.imul(ie,Je)|0,d=d+Math.imul(N,Ie)|0,c=c+Math.imul(N,et)|0,c=c+Math.imul(Y,Ie)|0,_=_+Math.imul(Y,et)|0,d=d+Math.imul(he,tt)|0,c=c+Math.imul(he,Pe)|0,c=c+Math.imul(z,tt)|0,_=_+Math.imul(z,Pe)|0,d=d+Math.imul(ne,ke)|0,c=c+Math.imul(ne,$e)|0,c=c+Math.imul(ae,ke)|0,_=_+Math.imul(ae,$e)|0,d=d+Math.imul(W,Re)|0,c=c+Math.imul(W,Ne)|0,c=c+Math.imul(E,Re)|0,_=_+Math.imul(E,Ne)|0,d=d+Math.imul(Z,Ue)|0,c=c+Math.imul(Z,Be)|0,c=c+Math.imul(F,Ue)|0,_=_+Math.imul(F,Be)|0,d=d+Math.imul(H,Ce)|0,c=c+Math.imul(H,Le)|0,c=c+Math.imul($,Ce)|0,_=_+Math.imul($,Le)|0;var Fi=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,d=Math.imul(se,me),c=Math.imul(se,Me),c=c+Math.imul(we,me)|0,_=Math.imul(we,Me),d=d+Math.imul(ce,Xe)|0,c=c+Math.imul(ce,Je)|0,c=c+Math.imul(le,Xe)|0,_=_+Math.imul(le,Je)|0,d=d+Math.imul(re,Ie)|0,c=c+Math.imul(re,et)|0,c=c+Math.imul(ie,Ie)|0,_=_+Math.imul(ie,et)|0,d=d+Math.imul(N,tt)|0,c=c+Math.imul(N,Pe)|0,c=c+Math.imul(Y,tt)|0,_=_+Math.imul(Y,Pe)|0,d=d+Math.imul(he,ke)|0,c=c+Math.imul(he,$e)|0,c=c+Math.imul(z,ke)|0,_=_+Math.imul(z,$e)|0,d=d+Math.imul(ne,Re)|0,c=c+Math.imul(ne,Ne)|0,c=c+Math.imul(ae,Re)|0,_=_+Math.imul(ae,Ne)|0,d=d+Math.imul(W,Ue)|0,c=c+Math.imul(W,Be)|0,c=c+Math.imul(E,Ue)|0,_=_+Math.imul(E,Be)|0,d=d+Math.imul(Z,Ce)|0,c=c+Math.imul(Z,Le)|0,c=c+Math.imul(F,Ce)|0,_=_+Math.imul(F,Le)|0,d=d+Math.imul(H,De)|0,c=c+Math.imul(H,xe)|0,c=c+Math.imul($,De)|0,_=_+Math.imul($,xe)|0;var Q=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(Q>>>26)|0,Q&=67108863,d=Math.imul(Se,me),c=Math.imul(Se,Me),c=c+Math.imul(Ae,me)|0,_=Math.imul(Ae,Me),d=d+Math.imul(se,Xe)|0,c=c+Math.imul(se,Je)|0,c=c+Math.imul(we,Xe)|0,_=_+Math.imul(we,Je)|0,d=d+Math.imul(ce,Ie)|0,c=c+Math.imul(ce,et)|0,c=c+Math.imul(le,Ie)|0,_=_+Math.imul(le,et)|0,d=d+Math.imul(re,tt)|0,c=c+Math.imul(re,Pe)|0,c=c+Math.imul(ie,tt)|0,_=_+Math.imul(ie,Pe)|0,d=d+Math.imul(N,ke)|0,c=c+Math.imul(N,$e)|0,c=c+Math.imul(Y,ke)|0,_=_+Math.imul(Y,$e)|0,d=d+Math.imul(he,Re)|0,c=c+Math.imul(he,Ne)|0,c=c+Math.imul(z,Re)|0,_=_+Math.imul(z,Ne)|0,d=d+Math.imul(ne,Ue)|0,c=c+Math.imul(ne,Be)|0,c=c+Math.imul(ae,Ue)|0,_=_+Math.imul(ae,Be)|0,d=d+Math.imul(W,Ce)|0,c=c+Math.imul(W,Le)|0,c=c+Math.imul(E,Ce)|0,_=_+Math.imul(E,Le)|0,d=d+Math.imul(Z,De)|0,c=c+Math.imul(Z,xe)|0,c=c+Math.imul(F,De)|0,_=_+Math.imul(F,xe)|0,d=d+Math.imul(H,lt)|0,c=c+Math.imul(H,ht)|0,c=c+Math.imul($,lt)|0,_=_+Math.imul($,ht)|0;var Ve=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,d=Math.imul(Se,Xe),c=Math.imul(Se,Je),c=c+Math.imul(Ae,Xe)|0,_=Math.imul(Ae,Je),d=d+Math.imul(se,Ie)|0,c=c+Math.imul(se,et)|0,c=c+Math.imul(we,Ie)|0,_=_+Math.imul(we,et)|0,d=d+Math.imul(ce,tt)|0,c=c+Math.imul(ce,Pe)|0,c=c+Math.imul(le,tt)|0,_=_+Math.imul(le,Pe)|0,d=d+Math.imul(re,ke)|0,c=c+Math.imul(re,$e)|0,c=c+Math.imul(ie,ke)|0,_=_+Math.imul(ie,$e)|0,d=d+Math.imul(N,Re)|0,c=c+Math.imul(N,Ne)|0,c=c+Math.imul(Y,Re)|0,_=_+Math.imul(Y,Ne)|0,d=d+Math.imul(he,Ue)|0,c=c+Math.imul(he,Be)|0,c=c+Math.imul(z,Ue)|0,_=_+Math.imul(z,Be)|0,d=d+Math.imul(ne,Ce)|0,c=c+Math.imul(ne,Le)|0,c=c+Math.imul(ae,Ce)|0,_=_+Math.imul(ae,Le)|0,d=d+Math.imul(W,De)|0,c=c+Math.imul(W,xe)|0,c=c+Math.imul(E,De)|0,_=_+Math.imul(E,xe)|0,d=d+Math.imul(Z,lt)|0,c=c+Math.imul(Z,ht)|0,c=c+Math.imul(F,lt)|0,_=_+Math.imul(F,ht)|0;var Ke=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,d=Math.imul(Se,Ie),c=Math.imul(Se,et),c=c+Math.imul(Ae,Ie)|0,_=Math.imul(Ae,et),d=d+Math.imul(se,tt)|0,c=c+Math.imul(se,Pe)|0,c=c+Math.imul(we,tt)|0,_=_+Math.imul(we,Pe)|0,d=d+Math.imul(ce,ke)|0,c=c+Math.imul(ce,$e)|0,c=c+Math.imul(le,ke)|0,_=_+Math.imul(le,$e)|0,d=d+Math.imul(re,Re)|0,c=c+Math.imul(re,Ne)|0,c=c+Math.imul(ie,Re)|0,_=_+Math.imul(ie,Ne)|0,d=d+Math.imul(N,Ue)|0,c=c+Math.imul(N,Be)|0,c=c+Math.imul(Y,Ue)|0,_=_+Math.imul(Y,Be)|0,d=d+Math.imul(he,Ce)|0,c=c+Math.imul(he,Le)|0,c=c+Math.imul(z,Ce)|0,_=_+Math.imul(z,Le)|0,d=d+Math.imul(ne,De)|0,c=c+Math.imul(ne,xe)|0,c=c+Math.imul(ae,De)|0,_=_+Math.imul(ae,xe)|0,d=d+Math.imul(W,lt)|0,c=c+Math.imul(W,ht)|0,c=c+Math.imul(E,lt)|0,_=_+Math.imul(E,ht)|0;var Ge=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,d=Math.imul(Se,tt),c=Math.imul(Se,Pe),c=c+Math.imul(Ae,tt)|0,_=Math.imul(Ae,Pe),d=d+Math.imul(se,ke)|0,c=c+Math.imul(se,$e)|0,c=c+Math.imul(we,ke)|0,_=_+Math.imul(we,$e)|0,d=d+Math.imul(ce,Re)|0,c=c+Math.imul(ce,Ne)|0,c=c+Math.imul(le,Re)|0,_=_+Math.imul(le,Ne)|0,d=d+Math.imul(re,Ue)|0,c=c+Math.imul(re,Be)|0,c=c+Math.imul(ie,Ue)|0,_=_+Math.imul(ie,Be)|0,d=d+Math.imul(N,Ce)|0,c=c+Math.imul(N,Le)|0,c=c+Math.imul(Y,Ce)|0,_=_+Math.imul(Y,Le)|0,d=d+Math.imul(he,De)|0,c=c+Math.imul(he,xe)|0,c=c+Math.imul(z,De)|0,_=_+Math.imul(z,xe)|0,d=d+Math.imul(ne,lt)|0,c=c+Math.imul(ne,ht)|0,c=c+Math.imul(ae,lt)|0,_=_+Math.imul(ae,ht)|0;var En=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(En>>>26)|0,En&=67108863,d=Math.imul(Se,ke),c=Math.imul(Se,$e),c=c+Math.imul(Ae,ke)|0,_=Math.imul(Ae,$e),d=d+Math.imul(se,Re)|0,c=c+Math.imul(se,Ne)|0,c=c+Math.imul(we,Re)|0,_=_+Math.imul(we,Ne)|0,d=d+Math.imul(ce,Ue)|0,c=c+Math.imul(ce,Be)|0,c=c+Math.imul(le,Ue)|0,_=_+Math.imul(le,Be)|0,d=d+Math.imul(re,Ce)|0,c=c+Math.imul(re,Le)|0,c=c+Math.imul(ie,Ce)|0,_=_+Math.imul(ie,Le)|0,d=d+Math.imul(N,De)|0,c=c+Math.imul(N,xe)|0,c=c+Math.imul(Y,De)|0,_=_+Math.imul(Y,xe)|0,d=d+Math.imul(he,lt)|0,c=c+Math.imul(he,ht)|0,c=c+Math.imul(z,lt)|0,_=_+Math.imul(z,ht)|0;var qr=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,d=Math.imul(Se,Re),c=Math.imul(Se,Ne),c=c+Math.imul(Ae,Re)|0,_=Math.imul(Ae,Ne),d=d+Math.imul(se,Ue)|0,c=c+Math.imul(se,Be)|0,c=c+Math.imul(we,Ue)|0,_=_+Math.imul(we,Be)|0,d=d+Math.imul(ce,Ce)|0,c=c+Math.imul(ce,Le)|0,c=c+Math.imul(le,Ce)|0,_=_+Math.imul(le,Le)|0,d=d+Math.imul(re,De)|0,c=c+Math.imul(re,xe)|0,c=c+Math.imul(ie,De)|0,_=_+Math.imul(ie,xe)|0,d=d+Math.imul(N,lt)|0,c=c+Math.imul(N,ht)|0,c=c+Math.imul(Y,lt)|0,_=_+Math.imul(Y,ht)|0;var Yn=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,d=Math.imul(Se,Ue),c=Math.imul(Se,Be),c=c+Math.imul(Ae,Ue)|0,_=Math.imul(Ae,Be),d=d+Math.imul(se,Ce)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(we,Ce)|0,_=_+Math.imul(we,Le)|0,d=d+Math.imul(ce,De)|0,c=c+Math.imul(ce,xe)|0,c=c+Math.imul(le,De)|0,_=_+Math.imul(le,xe)|0,d=d+Math.imul(re,lt)|0,c=c+Math.imul(re,ht)|0,c=c+Math.imul(ie,lt)|0,_=_+Math.imul(ie,ht)|0;var Ga=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(Ga>>>26)|0,Ga&=67108863,d=Math.imul(Se,Ce),c=Math.imul(Se,Le),c=c+Math.imul(Ae,Ce)|0,_=Math.imul(Ae,Le),d=d+Math.imul(se,De)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(we,De)|0,_=_+Math.imul(we,xe)|0,d=d+Math.imul(ce,lt)|0,c=c+Math.imul(ce,ht)|0,c=c+Math.imul(le,lt)|0,_=_+Math.imul(le,ht)|0;var ji=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(ji>>>26)|0,ji&=67108863,d=Math.imul(Se,De),c=Math.imul(Se,xe),c=c+Math.imul(Ae,De)|0,_=Math.imul(Ae,xe),d=d+Math.imul(se,lt)|0,c=c+Math.imul(se,ht)|0,c=c+Math.imul(we,lt)|0,_=_+Math.imul(we,ht)|0;var Ha=(p+d|0)+((c&8191)<<13)|0;p=(_+(c>>>13)|0)+(Ha>>>26)|0,Ha&=67108863,d=Math.imul(Se,lt),c=Math.imul(Se,ht),c=c+Math.imul(Ae,lt)|0,_=Math.imul(Ae,ht);var Wa=(p+d|0)+((c&8191)<<13)|0;return p=(_+(c>>>13)|0)+(Wa>>>26)|0,Wa&=67108863,L[0]=Kt,L[1]=Br,L[2]=Fr,L[3]=jr,L[4]=zr,L[5]=Ze,L[6]=Jt,L[7]=Fi,L[8]=Q,L[9]=Ve,L[10]=Ke,L[11]=Ge,L[12]=En,L[13]=qr,L[14]=Yn,L[15]=Ga,L[16]=ji,L[17]=Ha,L[18]=Wa,p!==0&&(L[19]=p,y.length++),y};Math.imul||(x=M);function R(C,b,S){S.negative=b.negative^C.negative,S.length=C.length+b.length;for(var y=0,g=0,k=0;k<S.length-1;k++){var L=g;g=0;for(var p=y&67108863,d=Math.min(k,b.length-1),c=Math.max(0,k-C.length+1);c<=d;c++){var _=k-c,U=C.words[_]|0,H=b.words[c]|0,$=U*H,T=$&67108863;L=L+($/67108864|0)|0,T=T+p|0,p=T&67108863,L=L+(T>>>26)|0,g+=L>>>26,L&=67108863}S.words[k]=p,y=L,L=g}return y!==0?S.words[k]=y:S.length--,S.strip()}function O(C,b,S){var y=new j;return y.mulp(C,b,S)}o.prototype.mulTo=function(b,S){var y,g=this.length+b.length;return this.length===10&&b.length===10?y=x(this,b,S):g<63?y=M(this,b,S):g<1024?y=R(this,b,S):y=O(this,b,S),y};function j(C,b){this.x=C,this.y=b}j.prototype.makeRBT=function(b){for(var S=new Array(b),y=o.prototype._countBits(b)-1,g=0;g<b;g++)S[g]=this.revBin(g,y,b);return S},j.prototype.revBin=function(b,S,y){if(b===0||b===y-1)return b;for(var g=0,k=0;k<S;k++)g|=(b&1)<<S-k-1,b>>=1;return g},j.prototype.permute=function(b,S,y,g,k,L){for(var p=0;p<L;p++)g[p]=S[b[p]],k[p]=y[b[p]]},j.prototype.transform=function(b,S,y,g,k,L){this.permute(L,b,S,y,g,k);for(var p=1;p<k;p<<=1)for(var d=p<<1,c=Math.cos(2*Math.PI/d),_=Math.sin(2*Math.PI/d),U=0;U<k;U+=d)for(var H=c,$=_,T=0;T<p;T++){var Z=y[U+T],F=g[U+T],V=y[U+T+p],W=g[U+T+p],E=H*V-$*W;W=H*W+$*V,V=E,y[U+T]=Z+V,g[U+T]=F+W,y[U+T+p]=Z-V,g[U+T+p]=F-W,T!==d&&(E=c*H-_*$,$=c*$+_*H,H=E)}},j.prototype.guessLen13b=function(b,S){var y=Math.max(S,b)|1,g=y&1,k=0;for(y=y/2|0;y;y=y>>>1)k++;return 1<<k+1+g},j.prototype.conjugate=function(b,S,y){if(!(y<=1))for(var g=0;g<y/2;g++){var k=b[g];b[g]=b[y-g-1],b[y-g-1]=k,k=S[g],S[g]=-S[y-g-1],S[y-g-1]=-k}},j.prototype.normalize13b=function(b,S){for(var y=0,g=0;g<S/2;g++){var k=Math.round(b[2*g+1]/S)*8192+Math.round(b[2*g]/S)+y;b[g]=k&67108863,k<67108864?y=0:y=k/67108864|0}return b},j.prototype.convert13b=function(b,S,y,g){for(var k=0,L=0;L<S;L++)k=k+(b[L]|0),y[2*L]=k&8191,k=k>>>13,y[2*L+1]=k&8191,k=k>>>13;for(L=2*S;L<g;++L)y[L]=0;n(k===0),n((k&~8191)==0)},j.prototype.stub=function(b){for(var S=new Array(b),y=0;y<b;y++)S[y]=0;return S},j.prototype.mulp=function(b,S,y){var g=2*this.guessLen13b(b.length,S.length),k=this.makeRBT(g),L=this.stub(g),p=new Array(g),d=new Array(g),c=new Array(g),_=new Array(g),U=new Array(g),H=new Array(g),$=y.words;$.length=g,this.convert13b(b.words,b.length,p,g),this.convert13b(S.words,S.length,_,g),this.transform(p,L,d,c,g,k),this.transform(_,L,U,H,g,k);for(var T=0;T<g;T++){var Z=d[T]*U[T]-c[T]*H[T];c[T]=d[T]*H[T]+c[T]*U[T],d[T]=Z}return this.conjugate(d,c,g),this.transform(d,c,$,L,g,k),this.conjugate($,L,g),this.normalize13b($,g),y.negative=b.negative^S.negative,y.length=b.length+S.length,y.strip()},o.prototype.mul=function(b){var S=new o(null);return S.words=new Array(this.length+b.length),this.mulTo(b,S)},o.prototype.mulf=function(b){var S=new o(null);return S.words=new Array(this.length+b.length),O(this,b,S)},o.prototype.imul=function(b){return this.clone().mulTo(b,this)},o.prototype.imuln=function(b){n(typeof b=="number"),n(b<67108864);for(var S=0,y=0;y<this.length;y++){var g=(this.words[y]|0)*b,k=(g&67108863)+(S&67108863);S>>=26,S+=g/67108864|0,S+=k>>>26,this.words[y]=k&67108863}return S!==0&&(this.words[y]=S,this.length++),this},o.prototype.muln=function(b){return this.clone().imuln(b)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(b){var S=w(b);if(S.length===0)return new o(1);for(var y=this,g=0;g<S.length&&S[g]===0;g++,y=y.sqr());if(++g<S.length)for(var k=y.sqr();g<S.length;g++,k=k.sqr())S[g]!==0&&(y=y.mul(k));return y},o.prototype.iushln=function(b){n(typeof b=="number"&&b>=0);var S=b%26,y=(b-S)/26,g=67108863>>>26-S<<26-S,k;if(S!==0){var L=0;for(k=0;k<this.length;k++){var p=this.words[k]&g,d=(this.words[k]|0)-p<<S;this.words[k]=d|L,L=p>>>26-S}L&&(this.words[k]=L,this.length++)}if(y!==0){for(k=this.length-1;k>=0;k--)this.words[k+y]=this.words[k];for(k=0;k<y;k++)this.words[k]=0;this.length+=y}return this.strip()},o.prototype.ishln=function(b){return n(this.negative===0),this.iushln(b)},o.prototype.iushrn=function(b,S,y){n(typeof b=="number"&&b>=0);var g;S?g=(S-S%26)/26:g=0;var k=b%26,L=Math.min((b-k)/26,this.length),p=67108863^67108863>>>k<<k,d=y;if(g-=L,g=Math.max(0,g),d){for(var c=0;c<L;c++)d.words[c]=this.words[c];d.length=L}if(L!==0)if(this.length>L)for(this.length-=L,c=0;c<this.length;c++)this.words[c]=this.words[c+L];else this.words[0]=0,this.length=1;var _=0;for(c=this.length-1;c>=0&&(_!==0||c>=g);c--){var U=this.words[c]|0;this.words[c]=_<<26-k|U>>>k,_=U&p}return d&&_!==0&&(d.words[d.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(b,S,y){return n(this.negative===0),this.iushrn(b,S,y)},o.prototype.shln=function(b){return this.clone().ishln(b)},o.prototype.ushln=function(b){return this.clone().iushln(b)},o.prototype.shrn=function(b){return this.clone().ishrn(b)},o.prototype.ushrn=function(b){return this.clone().iushrn(b)},o.prototype.testn=function(b){n(typeof b=="number"&&b>=0);var S=b%26,y=(b-S)/26,g=1<<S;if(this.length<=y)return!1;var k=this.words[y];return!!(k&g)},o.prototype.imaskn=function(b){n(typeof b=="number"&&b>=0);var S=b%26,y=(b-S)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(S!==0&&y++,this.length=Math.min(y,this.length),S!==0){var g=67108863^67108863>>>S<<S;this.words[this.length-1]&=g}return this.strip()},o.prototype.maskn=function(b){return this.clone().imaskn(b)},o.prototype.iaddn=function(b){return n(typeof b=="number"),n(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},o.prototype._iaddn=function(b){this.words[0]+=b;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},o.prototype.isubn=function(b){if(n(typeof b=="number"),n(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this.strip()},o.prototype.addn=function(b){return this.clone().iaddn(b)},o.prototype.subn=function(b){return this.clone().isubn(b)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(b,S,y){var g=b.length+y,k;this._expand(g);var L,p=0;for(k=0;k<b.length;k++){L=(this.words[k+y]|0)+p;var d=(b.words[k]|0)*S;L-=d&67108863,p=(L>>26)-(d/67108864|0),this.words[k+y]=L&67108863}for(;k<this.length-y;k++)L=(this.words[k+y]|0)+p,p=L>>26,this.words[k+y]=L&67108863;if(p===0)return this.strip();for(n(p===-1),p=0,k=0;k<this.length;k++)L=-(this.words[k]|0)+p,p=L>>26,this.words[k]=L&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(b,S){var y=this.length-b.length,g=this.clone(),k=b,L=k.words[k.length-1]|0,p=this._countBits(L);y=26-p,y!==0&&(k=k.ushln(y),g.iushln(y),L=k.words[k.length-1]|0);var d=g.length-k.length,c;if(S!=="mod"){c=new o(null),c.length=d+1,c.words=new Array(c.length);for(var _=0;_<c.length;_++)c.words[_]=0}var U=g.clone()._ishlnsubmul(k,1,d);U.negative===0&&(g=U,c&&(c.words[d]=1));for(var H=d-1;H>=0;H--){var $=(g.words[k.length+H]|0)*67108864+(g.words[k.length+H-1]|0);for($=Math.min($/L|0,67108863),g._ishlnsubmul(k,$,H);g.negative!==0;)$--,g.negative=0,g._ishlnsubmul(k,1,H),g.isZero()||(g.negative^=1);c&&(c.words[H]=$)}return c&&c.strip(),g.strip(),S!=="div"&&y!==0&&g.iushrn(y),{div:c||null,mod:g}},o.prototype.divmod=function(b,S,y){if(n(!b.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var g,k,L;return this.negative!==0&&b.negative===0?(L=this.neg().divmod(b,S),S!=="mod"&&(g=L.div.neg()),S!=="div"&&(k=L.mod.neg(),y&&k.negative!==0&&k.iadd(b)),{div:g,mod:k}):this.negative===0&&b.negative!==0?(L=this.divmod(b.neg(),S),S!=="mod"&&(g=L.div.neg()),{div:g,mod:L.mod}):(this.negative&b.negative)!=0?(L=this.neg().divmod(b.neg(),S),S!=="div"&&(k=L.mod.neg(),y&&k.negative!==0&&k.isub(b)),{div:L.div,mod:k}):b.length>this.length||this.cmp(b)<0?{div:new o(0),mod:this}:b.length===1?S==="div"?{div:this.divn(b.words[0]),mod:null}:S==="mod"?{div:null,mod:new o(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new o(this.modn(b.words[0]))}:this._wordDiv(b,S)},o.prototype.div=function(b){return this.divmod(b,"div",!1).div},o.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},o.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},o.prototype.divRound=function(b){var S=this.divmod(b);if(S.mod.isZero())return S.div;var y=S.div.negative!==0?S.mod.isub(b):S.mod,g=b.ushrn(1),k=b.andln(1),L=y.cmp(g);return L<0||k===1&&L===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},o.prototype.modn=function(b){n(b<=67108863);for(var S=(1<<26)%b,y=0,g=this.length-1;g>=0;g--)y=(S*y+(this.words[g]|0))%b;return y},o.prototype.idivn=function(b){n(b<=67108863);for(var S=0,y=this.length-1;y>=0;y--){var g=(this.words[y]|0)+S*67108864;this.words[y]=g/b|0,S=g%b}return this.strip()},o.prototype.divn=function(b){return this.clone().idivn(b)},o.prototype.egcd=function(b){n(b.negative===0),n(!b.isZero());var S=this,y=b.clone();S.negative!==0?S=S.umod(b):S=S.clone();for(var g=new o(1),k=new o(0),L=new o(0),p=new o(1),d=0;S.isEven()&&y.isEven();)S.iushrn(1),y.iushrn(1),++d;for(var c=y.clone(),_=S.clone();!S.isZero();){for(var U=0,H=1;(S.words[0]&H)==0&&U<26;++U,H<<=1);if(U>0)for(S.iushrn(U);U-- >0;)(g.isOdd()||k.isOdd())&&(g.iadd(c),k.isub(_)),g.iushrn(1),k.iushrn(1);for(var $=0,T=1;(y.words[0]&T)==0&&$<26;++$,T<<=1);if($>0)for(y.iushrn($);$-- >0;)(L.isOdd()||p.isOdd())&&(L.iadd(c),p.isub(_)),L.iushrn(1),p.iushrn(1);S.cmp(y)>=0?(S.isub(y),g.isub(L),k.isub(p)):(y.isub(S),L.isub(g),p.isub(k))}return{a:L,b:p,gcd:y.iushln(d)}},o.prototype._invmp=function(b){n(b.negative===0),n(!b.isZero());var S=this,y=b.clone();S.negative!==0?S=S.umod(b):S=S.clone();for(var g=new o(1),k=new o(0),L=y.clone();S.cmpn(1)>0&&y.cmpn(1)>0;){for(var p=0,d=1;(S.words[0]&d)==0&&p<26;++p,d<<=1);if(p>0)for(S.iushrn(p);p-- >0;)g.isOdd()&&g.iadd(L),g.iushrn(1);for(var c=0,_=1;(y.words[0]&_)==0&&c<26;++c,_<<=1);if(c>0)for(y.iushrn(c);c-- >0;)k.isOdd()&&k.iadd(L),k.iushrn(1);S.cmp(y)>=0?(S.isub(y),g.isub(k)):(y.isub(S),k.isub(g))}var U;return S.cmpn(1)===0?U=g:U=k,U.cmpn(0)<0&&U.iadd(b),U},o.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var S=this.clone(),y=b.clone();S.negative=0,y.negative=0;for(var g=0;S.isEven()&&y.isEven();g++)S.iushrn(1),y.iushrn(1);do{for(;S.isEven();)S.iushrn(1);for(;y.isEven();)y.iushrn(1);var k=S.cmp(y);if(k<0){var L=S;S=y,y=L}else if(k===0||y.cmpn(1)===0)break;S.isub(y)}while(!0);return y.iushln(g)},o.prototype.invm=function(b){return this.egcd(b).a.umod(b)},o.prototype.isEven=function(){return(this.words[0]&1)==0},o.prototype.isOdd=function(){return(this.words[0]&1)==1},o.prototype.andln=function(b){return this.words[0]&b},o.prototype.bincn=function(b){n(typeof b=="number");var S=b%26,y=(b-S)/26,g=1<<S;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var k=g,L=y;k!==0&&L<this.length;L++){var p=this.words[L]|0;p+=k,k=p>>>26,p&=67108863,this.words[L]=p}return k!==0&&(this.words[L]=k,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(b){var S=b<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;this.strip();var y;if(this.length>1)y=1;else{S&&(b=-b),n(b<=67108863,"Number is too big");var g=this.words[0]|0;y=g===b?0:g<b?-1:1}return this.negative!==0?-y|0:y},o.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var S=this.ucmp(b);return this.negative!==0?-S|0:S},o.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var S=0,y=this.length-1;y>=0;y--){var g=this.words[y]|0,k=b.words[y]|0;if(g!==k){g<k?S=-1:g>k&&(S=1);break}}return S},o.prototype.gtn=function(b){return this.cmpn(b)===1},o.prototype.gt=function(b){return this.cmp(b)===1},o.prototype.gten=function(b){return this.cmpn(b)>=0},o.prototype.gte=function(b){return this.cmp(b)>=0},o.prototype.ltn=function(b){return this.cmpn(b)===-1},o.prototype.lt=function(b){return this.cmp(b)===-1},o.prototype.lten=function(b){return this.cmpn(b)<=0},o.prototype.lte=function(b){return this.cmp(b)<=0},o.prototype.eqn=function(b){return this.cmpn(b)===0},o.prototype.eq=function(b){return this.cmp(b)===0},o.red=function(b){return new D(b)},o.prototype.toRed=function(b){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(b){return this.red=b,this},o.prototype.forceRed=function(b){return n(!this.red,"Already a number in reduction context"),this._forceRed(b)},o.prototype.redAdd=function(b){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},o.prototype.redIAdd=function(b){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},o.prototype.redSub=function(b){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},o.prototype.redISub=function(b){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},o.prototype.redShl=function(b){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},o.prototype.redMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},o.prototype.redIMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(b){return n(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var q={k256:null,p224:null,p192:null,p25519:null};function B(C,b){this.name=C,this.p=new o(b,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var b=new o(null);return b.words=new Array(Math.ceil(this.n/13)),b},B.prototype.ireduce=function(b){var S=b,y;do this.split(S,this.tmp),S=this.imulK(S),S=S.iadd(this.tmp),y=S.bitLength();while(y>this.n);var g=y<this.n?-1:S.ucmp(this.p);return g===0?(S.words[0]=0,S.length=1):g>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},B.prototype.split=function(b,S){b.iushrn(this.n,0,S)},B.prototype.imulK=function(b){return b.imul(this.k)};function I(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(I,B),I.prototype.split=function(b,S){for(var y=4194303,g=Math.min(b.length,9),k=0;k<g;k++)S.words[k]=b.words[k];if(S.length=g,b.length<=9){b.words[0]=0,b.length=1;return}var L=b.words[9];for(S.words[S.length++]=L&y,k=10;k<b.length;k++){var p=b.words[k]|0;b.words[k-10]=(p&y)<<4|L>>>22,L=p}L>>>=22,b.words[k-10]=L,L===0&&b.length>10?b.length-=10:b.length-=9},I.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var S=0,y=0;y<b.length;y++){var g=b.words[y]|0;S+=g*977,b.words[y]=S&67108863,S=g*64+(S/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function G(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(G,B);function v(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(v,B);function A(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(A,B),A.prototype.imulK=function(b){for(var S=0,y=0;y<b.length;y++){var g=(b.words[y]|0)*19+S,k=g&67108863;g>>>=26,b.words[y]=k,S=g}return S!==0&&(b.words[b.length++]=S),b},o._prime=function(b){if(q[b])return q[b];var S;if(b==="k256")S=new I;else if(b==="p224")S=new G;else if(b==="p192")S=new v;else if(b==="p25519")S=new A;else throw new Error("Unknown prime "+b);return q[b]=S,S};function D(C){if(typeof C=="string"){var b=o._prime(C);this.m=b.p,this.prime=b}else n(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}D.prototype._verify1=function(b){n(b.negative===0,"red works only with positives"),n(b.red,"red works only with red numbers")},D.prototype._verify2=function(b,S){n((b.negative|S.negative)==0,"red works only with positives"),n(b.red&&b.red===S.red,"red works only with red numbers")},D.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},D.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},D.prototype.add=function(b,S){this._verify2(b,S);var y=b.add(S);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},D.prototype.iadd=function(b,S){this._verify2(b,S);var y=b.iadd(S);return y.cmp(this.m)>=0&&y.isub(this.m),y},D.prototype.sub=function(b,S){this._verify2(b,S);var y=b.sub(S);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},D.prototype.isub=function(b,S){this._verify2(b,S);var y=b.isub(S);return y.cmpn(0)<0&&y.iadd(this.m),y},D.prototype.shl=function(b,S){return this._verify1(b),this.imod(b.ushln(S))},D.prototype.imul=function(b,S){return this._verify2(b,S),this.imod(b.imul(S))},D.prototype.mul=function(b,S){return this._verify2(b,S),this.imod(b.mul(S))},D.prototype.isqr=function(b){return this.imul(b,b.clone())},D.prototype.sqr=function(b){return this.mul(b,b)},D.prototype.sqrt=function(b){if(b.isZero())return b.clone();var S=this.m.andln(3);if(n(S%2==1),S===3){var y=this.m.add(new o(1)).iushrn(2);return this.pow(b,y)}for(var g=this.m.subn(1),k=0;!g.isZero()&&g.andln(1)===0;)k++,g.iushrn(1);n(!g.isZero());var L=new o(1).toRed(this),p=L.redNeg(),d=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);this.pow(c,d).cmp(p)!==0;)c.redIAdd(p);for(var _=this.pow(c,g),U=this.pow(b,g.addn(1).iushrn(1)),H=this.pow(b,g),$=k;H.cmp(L)!==0;){for(var T=H,Z=0;T.cmp(L)!==0;Z++)T=T.redSqr();n(Z<$);var F=this.pow(_,new o(1).iushln($-Z-1));U=U.redMul(F),_=F.redSqr(),H=H.redMul(_),$=Z}return U},D.prototype.invm=function(b){var S=b._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},D.prototype.pow=function(b,S){if(S.isZero())return new o(1).toRed(this);if(S.cmpn(1)===0)return b.clone();var y=4,g=new Array(1<<y);g[0]=new o(1).toRed(this),g[1]=b;for(var k=2;k<g.length;k++)g[k]=this.mul(g[k-1],b);var L=g[0],p=0,d=0,c=S.bitLength()%26;for(c===0&&(c=26),k=S.length-1;k>=0;k--){for(var _=S.words[k],U=c-1;U>=0;U--){var H=_>>U&1;if(L!==g[0]&&(L=this.sqr(L)),H===0&&p===0){d=0;continue}p<<=1,p|=H,d++,!(d!==y&&(k!==0||U!==0))&&(L=this.mul(L,g[p]),d=0,p=0)}c=26}return L},D.prototype.convertTo=function(b){var S=b.umod(this.m);return S===b?S.clone():S},D.prototype.convertFrom=function(b){var S=b.clone();return S.red=null,S},o.mont=function(b){return new K(b)};function K(C){D.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,D),K.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},K.prototype.convertFrom=function(b){var S=this.imod(b.mul(this.rinv));return S.red=null,S},K.prototype.imul=function(b,S){if(b.isZero()||S.isZero())return b.words[0]=0,b.length=1,b;var y=b.imul(S),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=y.isub(g).iushrn(this.shift),L=k;return k.cmp(this.m)>=0?L=k.isub(this.m):k.cmpn(0)<0&&(L=k.iadd(this.m)),L._forceRed(this)},K.prototype.mul=function(b,S){if(b.isZero()||S.isZero())return new o(0)._forceRed(this);var y=b.mul(S),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=y.isub(g).iushrn(this.shift),L=k;return k.cmp(this.m)>=0?L=k.isub(this.m):k.cmpn(0)<0&&(L=k.iadd(this.m)),L._forceRed(this)},K.prototype.invm=function(b){var S=this.imod(b._invmp(this.m).mul(this.r2));return S._forceRed(this)}})(t,te)})(Bn);var Mo=R3;function R3(t,e){if(!t)throw new Error(e||"Assertion failed")}R3.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Xd={};(function(t){var e=t;function r(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var s=[];if(typeof o!="string"){for(var u=0;u<o.length;u++)s[u]=o[u]|0;return s}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!=0&&(o="0"+o);for(var u=0;u<o.length;u+=2)s.push(parseInt(o[u]+o[u+1],16))}else for(var u=0;u<o.length;u++){var f=o.charCodeAt(u),h=f>>8,l=f&255;h?s.push(h,l):s.push(l)}return s}e.toArray=r;function n(o){return o.length===1?"0"+o:o}e.zero2=n;function i(o){for(var a="",s=0;s<o.length;s++)a+=n(o[s].toString(16));return a}e.toHex=i,e.encode=function(a,s){return s==="hex"?i(a):a}})(Xd);(function(t){var e=t,r=Bn.exports,n=Mo,i=Xd;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function o(h,l,m){var w=new Array(Math.max(h.bitLength(),m)+1);w.fill(0);for(var M=1<<l+1,x=h.clone(),R=0;R<w.length;R++){var O,j=x.andln(M-1);x.isOdd()?(j>(M>>1)-1?O=(M>>1)-j:O=j,x.isubn(O)):O=0,w[R]=O,x.iushrn(1)}return w}e.getNAF=o;function a(h,l){var m=[[],[]];h=h.clone(),l=l.clone();for(var w=0,M=0,x;h.cmpn(-w)>0||l.cmpn(-M)>0;){var R=h.andln(3)+w&3,O=l.andln(3)+M&3;R===3&&(R=-1),O===3&&(O=-1);var j;(R&1)==0?j=0:(x=h.andln(7)+w&7,(x===3||x===5)&&O===2?j=-R:j=R),m[0].push(j);var q;(O&1)==0?q=0:(x=l.andln(7)+M&7,(x===3||x===5)&&R===2?q=-O:q=O),m[1].push(q),2*w===j+1&&(w=1-w),2*M===q+1&&(M=1-M),h.iushrn(1),l.iushrn(1)}return m}e.getJSF=a;function s(h,l,m){var w="_"+l;h.prototype[l]=function(){return this[w]!==void 0?this[w]:this[w]=m.call(this)}}e.cachedProperty=s;function u(h){return typeof h=="string"?e.toArray(h,"hex"):h}e.parseBytes=u;function f(h){return new r(h,"hex","le")}e.intFromLE=f})(Ur);var Pc={exports:{}},Zd;Pc.exports=function(e){return Zd||(Zd=new Ci(null)),Zd.generate(e)};function Ci(t){this.rand=t}Pc.exports.Rand=Ci;Ci.prototype.generate=function(e){return this._rand(e)};Ci.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Ci.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Ci.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Ci.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var N3=require("crypto");if(typeof N3.randomBytes!="function")throw new Error("Not supported");Ci.prototype._rand=function(e){return N3.randomBytes(e)}}catch{}var Qd={},ko=Bn.exports,Zs=Ur,Rc=Zs.getNAF,sC=Zs.getJSF,Nc=Zs.assert;function Li(t,e){this.type=t,this.p=new ko(e.p,16),this.red=e.prime?ko.red(e.prime):ko.mont(this.p),this.zero=new ko(0).toRed(this.red),this.one=new ko(1).toRed(this.red),this.two=new ko(2).toRed(this.red),this.n=e.n&&new ko(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Cc=Li;Li.prototype.point=function(){throw new Error("Not implemented")};Li.prototype.validate=function(){throw new Error("Not implemented")};Li.prototype._fixedNafMul=function(e,r){Nc(e.precomputed);var n=e._getDoubles(),i=Rc(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2==0?2:1);o/=3;var a=[],s,u;for(s=0;s<i.length;s+=n.step){u=0;for(var f=s+n.step-1;f>=s;f--)u=(u<<1)+i[f];a.push(u)}for(var h=this.jpoint(null,null,null),l=this.jpoint(null,null,null),m=o;m>0;m--){for(s=0;s<a.length;s++)u=a[s],u===m?l=l.mixedAdd(n.points[s]):u===-m&&(l=l.mixedAdd(n.points[s].neg()));h=h.add(l)}return h.toP()};Li.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,a=Rc(r,n,this._bitLength),s=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var f=0;u>=0&&a[u]===0;u--)f++;if(u>=0&&f++,s=s.dblp(f),u<0)break;var h=a[u];Nc(h!==0),e.type==="affine"?h>0?s=s.mixedAdd(o[h-1>>1]):s=s.mixedAdd(o[-h-1>>1].neg()):h>0?s=s.add(o[h-1>>1]):s=s.add(o[-h-1>>1].neg())}return e.type==="affine"?s.toP():s};Li.prototype._wnafMulAdd=function(e,r,n,i,o){var a=this._wnafT1,s=this._wnafT2,u=this._wnafT3,f=0,h,l,m;for(h=0;h<i;h++){m=r[h];var w=m._getNAFPoints(e);a[h]=w.wnd,s[h]=w.points}for(h=i-1;h>=1;h-=2){var M=h-1,x=h;if(a[M]!==1||a[x]!==1){u[M]=Rc(n[M],a[M],this._bitLength),u[x]=Rc(n[x],a[x],this._bitLength),f=Math.max(u[M].length,f),f=Math.max(u[x].length,f);continue}var R=[r[M],null,null,r[x]];r[M].y.cmp(r[x].y)===0?(R[1]=r[M].add(r[x]),R[2]=r[M].toJ().mixedAdd(r[x].neg())):r[M].y.cmp(r[x].y.redNeg())===0?(R[1]=r[M].toJ().mixedAdd(r[x]),R[2]=r[M].add(r[x].neg())):(R[1]=r[M].toJ().mixedAdd(r[x]),R[2]=r[M].toJ().mixedAdd(r[x].neg()));var O=[-3,-1,-5,-7,0,7,5,1,3],j=sC(n[M],n[x]);for(f=Math.max(j[0].length,f),u[M]=new Array(f),u[x]=new Array(f),l=0;l<f;l++){var q=j[0][l]|0,B=j[1][l]|0;u[M][l]=O[(q+1)*3+(B+1)],u[x][l]=0,s[M]=R}}var I=this.jpoint(null,null,null),G=this._wnafT4;for(h=f;h>=0;h--){for(var v=0;h>=0;){var A=!0;for(l=0;l<i;l++)G[l]=u[l][h]|0,G[l]!==0&&(A=!1);if(!A)break;v++,h--}if(h>=0&&v++,I=I.dblp(v),h<0)break;for(l=0;l<i;l++){var D=G[l];D!==0&&(D>0?m=s[l][D-1>>1]:D<0&&(m=s[l][-D-1>>1].neg()),m.type==="affine"?I=I.mixedAdd(m):I=I.add(m))}}for(h=0;h<i;h++)s[h]=null;return o?I:I.toP()};function an(t,e){this.curve=t,this.type=e,this.precomputed=null}Li.BasePoint=an;an.prototype.eq=function(){throw new Error("Not implemented")};an.prototype.validate=function(){return this.curve.validate(this)};Li.prototype.decodePoint=function(e,r){e=Zs.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*n){e[0]===6?Nc(e[e.length-1]%2==0):e[0]===7&&Nc(e[e.length-1]%2==1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};an.prototype.encodeCompressed=function(e){return this.encode(e,!0)};an.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};an.prototype.encode=function(e,r){return Zs.encode(this._encode(r),e)};an.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};an.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};an.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}};an.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};an.prototype._getBeta=function(){return null};an.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var Ta={exports:{}};typeof Object.create=="function"?Ta.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ta.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var uC=Ur,Mt=Bn.exports,ev=Ta.exports,Oa=Cc,fC=uC.assert;function sn(t){Oa.call(this,"short",t),this.a=new Mt(t.a,16).toRed(this.red),this.b=new Mt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ev(sn,Oa);var cC=sn;sn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Mt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Mt(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],fC(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(s){return{a:new Mt(s.a,16),b:new Mt(s.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};sn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Mt.mont(e),n=new Mt(2).toRed(r).redInvm(),i=n.redNeg(),o=new Mt(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(o).fromRed(),s=i.redSub(o).fromRed();return[a,s]};sn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new Mt(1),a=new Mt(0),s=new Mt(0),u=new Mt(1),f,h,l,m,w,M,x,R=0,O,j;n.cmpn(0)!==0;){var q=i.div(n);O=i.sub(q.mul(n)),j=s.sub(q.mul(o));var B=u.sub(q.mul(a));if(!l&&O.cmp(r)<0)f=x.neg(),h=o,l=O.neg(),m=j;else if(l&&++R==2)break;x=O,i=n,n=O,s=o,o=j,u=a,a=B}w=O.neg(),M=j;var I=l.sqr().add(m.sqr()),G=w.sqr().add(M.sqr());return G.cmp(I)>=0&&(w=f,M=h),l.negative&&(l=l.neg(),m=m.neg()),w.negative&&(w=w.neg(),M=M.neg()),[{a:l,b:m},{a:w,b:M}]};sn.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),s=o.mul(n.a),u=a.mul(i.a),f=o.mul(n.b),h=a.mul(i.b),l=e.sub(s).sub(u),m=f.add(h).neg();return{k1:l,k2:m}};sn.prototype.pointFromX=function(e,r){e=new Mt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};sn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};sn.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(r[a]),u=e[a],f=u._getBeta();s.k1.negative&&(s.k1.ineg(),u=u.neg(!0)),s.k2.negative&&(s.k2.ineg(),f=f.neg(!0)),i[a*2]=u,i[a*2+1]=f,o[a*2]=s.k1,o[a*2+1]=s.k2}for(var h=this._wnafMulAdd(1,i,o,a*2,n),l=0;l<a*2;l++)i[l]=null,o[l]=null;return h};function qt(t,e,r,n){Oa.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Mt(e,16),this.y=new Mt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ev(qt,Oa.BasePoint);sn.prototype.point=function(e,r,n){return new qt(this,e,r,n)};sn.prototype.pointFromJSON=function(e,r){return qt.fromJSON(this,e,r)};qt.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};qt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};qt.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(s){return e.point(s[0],s[1],n)}var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(o))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(o))}},i};qt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};qt.prototype.isInfinity=function(){return this.inf};qt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};qt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=o.redSqr().redISub(this.x.redAdd(this.x)),s=o.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)};qt.prototype.getX=function(){return this.x.fromRed()};qt.prototype.getY=function(){return this.y.fromRed()};qt.prototype.mul=function(e){return e=new Mt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};qt.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};qt.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};qt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};qt.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};qt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ir(t,e,r,n){Oa.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Mt(0)):(this.x=new Mt(e,16),this.y=new Mt(r,16),this.z=new Mt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ev(ir,Oa.BasePoint);sn.prototype.jpoint=function(e,r,n){return new ir(this,e,r,n)};ir.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};ir.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ir.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),u=i.redSub(o),f=a.redSub(s);if(u.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=u.redSqr(),l=h.redMul(u),m=i.redMul(h),w=f.redSqr().redIAdd(l).redISub(m).redISub(m),M=f.redMul(m.redISub(w)).redISub(a.redMul(l)),x=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(w,M,x)};ir.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,a=e.y.redMul(r).redMul(this.z),s=n.redSub(i),u=o.redSub(a);if(s.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),h=f.redMul(s),l=n.redMul(f),m=u.redSqr().redIAdd(h).redISub(l).redISub(l),w=u.redMul(l.redISub(m)).redISub(o.redMul(h)),M=this.z.redMul(s);return this.curve.jpoint(m,w,M)};ir.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,a=this.x,s=this.y,u=this.z,f=u.redSqr().redSqr(),h=s.redAdd(s);for(r=0;r<e;r++){var l=a.redSqr(),m=h.redSqr(),w=m.redSqr(),M=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(f)),x=a.redMul(m),R=M.redSqr().redISub(x.redAdd(x)),O=x.redISub(R),j=M.redMul(O);j=j.redIAdd(j).redISub(w);var q=h.redMul(u);r+1<e&&(f=f.redMul(w)),a=R,u=q,h=j}return this.curve.jpoint(a,h.redMul(o),u)};ir.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ir.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),a=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(i).redISub(a);s=s.redIAdd(s);var u=i.redAdd(i).redIAdd(i),f=u.redSqr().redISub(s).redISub(s),h=a.redIAdd(a);h=h.redIAdd(h),h=h.redIAdd(h),e=f,r=u.redMul(s.redISub(f)).redISub(h),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),m=this.y.redSqr(),w=m.redSqr(),M=this.x.redAdd(m).redSqr().redISub(l).redISub(w);M=M.redIAdd(M);var x=l.redAdd(l).redIAdd(l),R=x.redSqr(),O=w.redIAdd(w);O=O.redIAdd(O),O=O.redIAdd(O),e=R.redISub(M).redISub(M),r=x.redMul(M.redISub(e)).redISub(O),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ir.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),a=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(i).redISub(a);s=s.redIAdd(s);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=u.redSqr().redISub(s).redISub(s);e=f;var h=a.redIAdd(a);h=h.redIAdd(h),h=h.redIAdd(h),r=u.redMul(s.redISub(f)).redISub(h),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),m=this.y.redSqr(),w=this.x.redMul(m),M=this.x.redSub(l).redMul(this.x.redAdd(l));M=M.redAdd(M).redIAdd(M);var x=w.redIAdd(w);x=x.redIAdd(x);var R=x.redAdd(x);e=M.redSqr().redISub(R),n=this.y.redAdd(this.z).redSqr().redISub(m).redISub(l);var O=m.redSqr();O=O.redIAdd(O),O=O.redIAdd(O),O=O.redIAdd(O),r=M.redMul(x.redISub(e)).redISub(O)}return this.curve.jpoint(e,r,n)};ir.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),a=r.redSqr(),s=n.redSqr(),u=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(o)),f=r.redAdd(r);f=f.redIAdd(f);var h=f.redMul(s),l=u.redSqr().redISub(h.redAdd(h)),m=h.redISub(l),w=s.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var M=u.redMul(m).redISub(w),x=n.redAdd(n).redMul(i);return this.curve.jpoint(l,M,x)};ir.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),a=o.redSqr(),s=this.x.redAdd(r).redSqr().redISub(e).redISub(i);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(a);var u=s.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var h=o.redIAdd(s).redSqr().redISub(a).redISub(u).redISub(f),l=r.redMul(h);l=l.redIAdd(l),l=l.redIAdd(l);var m=this.x.redMul(u).redISub(l);m=m.redIAdd(m),m=m.redIAdd(m);var w=this.y.redMul(h.redMul(f.redISub(h)).redISub(s.redMul(u)));w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var M=this.z.redAdd(s).redSqr().redISub(n).redISub(u);return this.curve.jpoint(m,w,M)};ir.prototype.mul=function(e,r){return e=new Mt(e,r),this.curve._wnafMul(this,e)};ir.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};ir.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};ir.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ir.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Pa=Bn.exports,C3=Ta.exports,Lc=Cc,lC=Ur;function Ra(t){Lc.call(this,"mont",t),this.a=new Pa(t.a,16).toRed(this.red),this.b=new Pa(t.b,16).toRed(this.red),this.i4=new Pa(4).toRed(this.red).redInvm(),this.two=new Pa(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}C3(Ra,Lc);var hC=Ra;Ra.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),o=i.redSqrt();return o.redSqr().cmp(i)===0};function Gt(t,e,r){Lc.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Pa(e,16),this.z=new Pa(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}C3(Gt,Lc.BasePoint);Ra.prototype.decodePoint=function(e,r){return this.point(lC.toArray(e,r),1)};Ra.prototype.point=function(e,r){return new Gt(this,e,r)};Ra.prototype.pointFromJSON=function(e){return Gt.fromJSON(this,e)};Gt.prototype.precompute=function(){};Gt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Gt.fromJSON=function(e,r){return new Gt(e,r[0],r[1]||e.one)};Gt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Gt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Gt.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),o=r.redSub(i),a=r.redMul(i),s=o.redMul(i.redAdd(this.curve.a24.redMul(o)));return this.curve.point(a,s)};Gt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Gt.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=e.x.redAdd(e.z),a=e.x.redSub(e.z),s=a.redMul(n),u=o.redMul(i),f=r.z.redMul(s.redAdd(u).redSqr()),h=r.x.redMul(s.redISub(u).redSqr());return this.curve.point(f,h)};Gt.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),o=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var s=a.length-1;s>=0;s--)a[s]===0?(n=n.diffAdd(i,o),i=i.dbl()):(i=n.diffAdd(i,o),n=n.dbl());return i};Gt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Gt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Gt.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Gt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Gt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var dC=Ur,fi=Bn.exports,L3=Ta.exports,Dc=Cc,vC=dC.assert;function Fn(t){this.twisted=(t.a|0)!=1,this.mOneA=this.twisted&&(t.a|0)==-1,this.extended=this.mOneA,Dc.call(this,"edwards",t),this.a=new fi(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new fi(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new fi(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),vC(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)==1}L3(Fn,Dc);var pC=Fn;Fn.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Fn.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Fn.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Fn.prototype.pointFromX=function(e,r){e=new fi(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(o.redInvm()),s=a.redSqrt();if(s.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var u=s.fromRed().isOdd();return(r&&!u||!r&&u)&&(s=s.redNeg()),this.point(e,s)};Fn.prototype.pointFromY=function(e,r){e=new fi(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(o.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(s.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return s.fromRed().isOdd()!==r&&(s=s.redNeg()),this.point(s,e)};Fn.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),o=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(o)===0};function _t(t,e,r,n,i){Dc.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new fi(e,16),this.y=new fi(r,16),this.z=n?new fi(n,16):this.curve.one,this.t=i&&new fi(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}L3(_t,Dc.BasePoint);Fn.prototype.pointFromJSON=function(e){return _t.fromJSON(this,e)};Fn.prototype.point=function(e,r,n,i){return new _t(this,e,r,n,i)};_t.fromJSON=function(e,r){return new _t(e,r[0],r[1],r[2])};_t.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};_t.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};_t.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=i.redAdd(r),s=a.redSub(n),u=i.redSub(r),f=o.redMul(s),h=a.redMul(u),l=o.redMul(u),m=s.redMul(a);return this.curve.point(f,h,m,l)};_t.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,o,a,s,u,f;if(this.curve.twisted){s=this.curve._mulA(r);var h=s.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(h.redSub(this.curve.two)),o=h.redMul(s.redSub(n)),a=h.redSqr().redSub(h).redSub(h)):(u=this.z.redSqr(),f=h.redSub(u).redISub(u),i=e.redSub(r).redISub(n).redMul(f),o=h.redMul(s.redSub(n)),a=h.redMul(f))}else s=r.redAdd(n),u=this.curve._mulC(this.z).redSqr(),f=s.redSub(u).redSub(u),i=this.curve._mulC(e.redISub(s)).redMul(f),o=this.curve._mulC(s).redMul(r.redISub(n)),a=s.redMul(f);return this.curve.point(i,o,a)};_t.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};_t.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),s=o.redSub(i),u=o.redAdd(i),f=n.redAdd(r),h=a.redMul(s),l=u.redMul(f),m=a.redMul(f),w=s.redMul(u);return this.curve.point(h,l,w,m)};_t.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(i).redMul(o),s=n.redSub(a),u=n.redAdd(a),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(o),h=r.redMul(s).redMul(f),l,m;return this.curve.twisted?(l=r.redMul(u).redMul(o.redSub(this.curve._mulA(i))),m=s.redMul(u)):(l=r.redMul(u).redMul(o.redSub(i)),m=this.curve._mulC(s).redMul(u)),this.curve.point(h,l,m)};_t.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};_t.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};_t.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};_t.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};_t.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};_t.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};_t.prototype.getX=function(){return this.normalize(),this.x.fromRed()};_t.prototype.getY=function(){return this.normalize(),this.y.fromRed()};_t.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};_t.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};_t.prototype.toP=_t.prototype.normalize;_t.prototype.mixedAdd=_t.prototype.add;(function(t){var e=t;e.base=Cc,e.short=cC,e.mont=hC,e.edwards=pC})(Qd);var $c={},Uc={},st={},mC=Mo,bC=Ta.exports;st.inherits=bC;function yC(t,e){return(t.charCodeAt(e)&64512)!=55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)==56320}function gC(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):yC(t,i)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}st.toArray=gC;function wC(t){for(var e="",r=0;r<t.length;r++)e+=$3(t[r].toString(16));return e}st.toHex=wC;function D3(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}st.htonl=D3;function _C(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=D3(i)),r+=U3(i.toString(16))}return r}st.toHex32=_C;function $3(t){return t.length===1?"0"+t:t}st.zero2=$3;function U3(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}st.zero8=U3;function xC(t,e,r,n){var i=r-e;mC(i%4==0);for(var o=new Array(i/4),a=0,s=e;a<o.length;a++,s+=4){var u;n==="big"?u=t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]:u=t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s],o[a]=u>>>0}return o}st.join32=xC;function SC(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];e==="big"?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=o&255):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=o&255)}return r}st.split32=SC;function EC(t,e){return t>>>e|t<<32-e}st.rotr32=EC;function AC(t,e){return t<<e|t>>>32-e}st.rotl32=AC;function IC(t,e){return t+e>>>0}st.sum32=IC;function MC(t,e,r){return t+e+r>>>0}st.sum32_3=MC;function kC(t,e,r,n){return t+e+r+n>>>0}st.sum32_4=kC;function TC(t,e,r,n,i){return t+e+r+n+i>>>0}st.sum32_5=TC;function OC(t,e,r,n){var i=t[e],o=t[e+1],a=n+o>>>0,s=(a<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=a}st.sum64=OC;function PC(t,e,r,n){var i=e+n>>>0,o=(i<e?1:0)+t+r;return o>>>0}st.sum64_hi=PC;function RC(t,e,r,n){var i=e+n;return i>>>0}st.sum64_lo=RC;function NC(t,e,r,n,i,o,a,s){var u=0,f=e;f=f+n>>>0,u+=f<e?1:0,f=f+o>>>0,u+=f<o?1:0,f=f+s>>>0,u+=f<s?1:0;var h=t+r+i+a+u;return h>>>0}st.sum64_4_hi=NC;function CC(t,e,r,n,i,o,a,s){var u=e+n+o+s;return u>>>0}st.sum64_4_lo=CC;function LC(t,e,r,n,i,o,a,s,u,f){var h=0,l=e;l=l+n>>>0,h+=l<e?1:0,l=l+o>>>0,h+=l<o?1:0,l=l+s>>>0,h+=l<s?1:0,l=l+f>>>0,h+=l<f?1:0;var m=t+r+i+a+u+h;return m>>>0}st.sum64_5_hi=LC;function DC(t,e,r,n,i,o,a,s,u,f){var h=e+n+o+s+f;return h>>>0}st.sum64_5_lo=DC;function $C(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}st.rotr64_hi=$C;function UC(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}st.rotr64_lo=UC;function BC(t,e,r){return t>>>r}st.shr64_hi=BC;function FC(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}st.shr64_lo=FC;var Na={},B3=st,jC=Mo;function Bc(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Na.BlockHash=Bc;Bc.prototype.update=function(e,r){if(e=B3.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=B3.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Bc.prototype.digest=function(e){return this.update(this._pad()),jC(this.pending===null),this._digest(e)};Bc.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,a=8;a<this.padLength;a++)i[o++]=0;return i};var Ca={},jn={},zC=st,zn=zC.rotr32;function qC(t,e,r,n){if(t===0)return F3(e,r,n);if(t===1||t===3)return z3(e,r,n);if(t===2)return j3(e,r,n)}jn.ft_1=qC;function F3(t,e,r){return t&e^~t&r}jn.ch32=F3;function j3(t,e,r){return t&e^t&r^e&r}jn.maj32=j3;function z3(t,e,r){return t^e^r}jn.p32=z3;function GC(t){return zn(t,2)^zn(t,13)^zn(t,22)}jn.s0_256=GC;function HC(t){return zn(t,6)^zn(t,11)^zn(t,25)}jn.s1_256=HC;function WC(t){return zn(t,7)^zn(t,18)^t>>>3}jn.g0_256=WC;function VC(t){return zn(t,17)^zn(t,19)^t>>>10}jn.g1_256=VC;var La=st,KC=Na,JC=jn,tv=La.rotl32,Qs=La.sum32,YC=La.sum32_5,XC=JC.ft_1,q3=KC.BlockHash,ZC=[1518500249,1859775393,2400959708,3395469782];function qn(){if(!(this instanceof qn))return new qn;q3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}La.inherits(qn,q3);var QC=qn;qn.blockSize=512;qn.outSize=160;qn.hmacStrength=80;qn.padLength=64;qn.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=tv(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],a=this.h[1],s=this.h[2],u=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var h=~~(i/20),l=YC(tv(o,5),XC(h,a,s,u),f,n[i],ZC[h]);f=u,u=s,s=tv(a,30),a=o,o=l}this.h[0]=Qs(this.h[0],o),this.h[1]=Qs(this.h[1],a),this.h[2]=Qs(this.h[2],s),this.h[3]=Qs(this.h[3],u),this.h[4]=Qs(this.h[4],f)};qn.prototype._digest=function(e){return e==="hex"?La.toHex32(this.h,"big"):La.split32(this.h,"big")};var Da=st,eL=Na,$a=jn,tL=Mo,xn=Da.sum32,rL=Da.sum32_4,nL=Da.sum32_5,iL=$a.ch32,oL=$a.maj32,aL=$a.s0_256,sL=$a.s1_256,uL=$a.g0_256,fL=$a.g1_256,G3=eL.BlockHash,cL=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Gn(){if(!(this instanceof Gn))return new Gn;G3.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=cL,this.W=new Array(64)}Da.inherits(Gn,G3);var H3=Gn;Gn.blockSize=512;Gn.outSize=256;Gn.hmacStrength=192;Gn.padLength=64;Gn.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=rL(fL(n[i-2]),n[i-7],uL(n[i-15]),n[i-16]);var o=this.h[0],a=this.h[1],s=this.h[2],u=this.h[3],f=this.h[4],h=this.h[5],l=this.h[6],m=this.h[7];for(tL(this.k.length===n.length),i=0;i<n.length;i++){var w=nL(m,sL(f),iL(f,h,l),this.k[i],n[i]),M=xn(aL(o),oL(o,a,s));m=l,l=h,h=f,f=xn(u,w),u=s,s=a,a=o,o=xn(w,M)}this.h[0]=xn(this.h[0],o),this.h[1]=xn(this.h[1],a),this.h[2]=xn(this.h[2],s),this.h[3]=xn(this.h[3],u),this.h[4]=xn(this.h[4],f),this.h[5]=xn(this.h[5],h),this.h[6]=xn(this.h[6],l),this.h[7]=xn(this.h[7],m)};Gn.prototype._digest=function(e){return e==="hex"?Da.toHex32(this.h,"big"):Da.split32(this.h,"big")};var rv=st,W3=H3;function ci(){if(!(this instanceof ci))return new ci;W3.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}rv.inherits(ci,W3);var lL=ci;ci.blockSize=512;ci.outSize=224;ci.hmacStrength=192;ci.padLength=64;ci.prototype._digest=function(e){return e==="hex"?rv.toHex32(this.h.slice(0,7),"big"):rv.split32(this.h.slice(0,7),"big")};var Or=st,hL=Na,dL=Mo,Hn=Or.rotr64_hi,Wn=Or.rotr64_lo,V3=Or.shr64_hi,K3=Or.shr64_lo,Di=Or.sum64,nv=Or.sum64_hi,iv=Or.sum64_lo,vL=Or.sum64_4_hi,pL=Or.sum64_4_lo,mL=Or.sum64_5_hi,bL=Or.sum64_5_lo,J3=hL.BlockHash,yL=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Sn(){if(!(this instanceof Sn))return new Sn;J3.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=yL,this.W=new Array(160)}Or.inherits(Sn,J3);var Y3=Sn;Sn.blockSize=1024;Sn.outSize=512;Sn.hmacStrength=192;Sn.padLength=128;Sn.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var o=TL(n[i-4],n[i-3]),a=OL(n[i-4],n[i-3]),s=n[i-14],u=n[i-13],f=ML(n[i-30],n[i-29]),h=kL(n[i-30],n[i-29]),l=n[i-32],m=n[i-31];n[i]=vL(o,a,s,u,f,h,l,m),n[i+1]=pL(o,a,s,u,f,h,l,m)}};Sn.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],f=this.h[5],h=this.h[6],l=this.h[7],m=this.h[8],w=this.h[9],M=this.h[10],x=this.h[11],R=this.h[12],O=this.h[13],j=this.h[14],q=this.h[15];dL(this.k.length===n.length);for(var B=0;B<n.length;B+=2){var I=j,G=q,v=AL(m,w),A=IL(m,w),D=gL(m,w,M,x,R),K=wL(m,w,M,x,R,O),C=this.k[B],b=this.k[B+1],S=n[B],y=n[B+1],g=mL(I,G,v,A,D,K,C,b,S,y),k=bL(I,G,v,A,D,K,C,b,S,y);I=SL(i,o),G=EL(i,o),v=_L(i,o,a,s,u),A=xL(i,o,a,s,u,f);var L=nv(I,G,v,A),p=iv(I,G,v,A);j=R,q=O,R=M,O=x,M=m,x=w,m=nv(h,l,g,k),w=iv(l,l,g,k),h=u,l=f,u=a,f=s,a=i,s=o,i=nv(g,k,L,p),o=iv(g,k,L,p)}Di(this.h,0,i,o),Di(this.h,2,a,s),Di(this.h,4,u,f),Di(this.h,6,h,l),Di(this.h,8,m,w),Di(this.h,10,M,x),Di(this.h,12,R,O),Di(this.h,14,j,q)};Sn.prototype._digest=function(e){return e==="hex"?Or.toHex32(this.h,"big"):Or.split32(this.h,"big")};function gL(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function wL(t,e,r,n,i,o){var a=e&n^~e&o;return a<0&&(a+=4294967296),a}function _L(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function xL(t,e,r,n,i,o){var a=e&n^e&o^n&o;return a<0&&(a+=4294967296),a}function SL(t,e){var r=Hn(t,e,28),n=Hn(e,t,2),i=Hn(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function EL(t,e){var r=Wn(t,e,28),n=Wn(e,t,2),i=Wn(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function AL(t,e){var r=Hn(t,e,14),n=Hn(t,e,18),i=Hn(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function IL(t,e){var r=Wn(t,e,14),n=Wn(t,e,18),i=Wn(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function ML(t,e){var r=Hn(t,e,1),n=Hn(t,e,8),i=V3(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function kL(t,e){var r=Wn(t,e,1),n=Wn(t,e,8),i=K3(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function TL(t,e){var r=Hn(t,e,19),n=Hn(e,t,29),i=V3(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}function OL(t,e){var r=Wn(t,e,19),n=Wn(e,t,29),i=K3(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}var ov=st,X3=Y3;function li(){if(!(this instanceof li))return new li;X3.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ov.inherits(li,X3);var PL=li;li.blockSize=1024;li.outSize=384;li.hmacStrength=192;li.padLength=128;li.prototype._digest=function(e){return e==="hex"?ov.toHex32(this.h.slice(0,12),"big"):ov.split32(this.h.slice(0,12),"big")};Ca.sha1=QC;Ca.sha224=lL;Ca.sha256=H3;Ca.sha384=PL;Ca.sha512=Y3;var Z3={},To=st,RL=Na,Fc=To.rotl32,Q3=To.sum32,eu=To.sum32_3,ex=To.sum32_4,tx=RL.BlockHash;function Vn(){if(!(this instanceof Vn))return new Vn;tx.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}To.inherits(Vn,tx);Z3.ripemd160=Vn;Vn.blockSize=512;Vn.outSize=160;Vn.hmacStrength=192;Vn.padLength=64;Vn.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],s=this.h[4],u=n,f=i,h=o,l=a,m=s,w=0;w<80;w++){var M=Q3(Fc(ex(n,rx(w,i,o,a),e[LL[w]+r],NL(w)),$L[w]),s);n=s,s=a,a=Fc(o,10),o=i,i=M,M=Q3(Fc(ex(u,rx(79-w,f,h,l),e[DL[w]+r],CL(w)),UL[w]),m),u=m,m=l,l=Fc(h,10),h=f,f=M}M=eu(this.h[1],o,l),this.h[1]=eu(this.h[2],a,m),this.h[2]=eu(this.h[3],s,u),this.h[3]=eu(this.h[4],n,f),this.h[4]=eu(this.h[0],i,h),this.h[0]=M};Vn.prototype._digest=function(e){return e==="hex"?To.toHex32(this.h,"little"):To.split32(this.h,"little")};function rx(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function NL(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function CL(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var LL=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],DL=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],$L=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],UL=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],BL=st,FL=Mo;function Ua(t,e,r){if(!(this instanceof Ua))return new Ua(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(BL.toArray(e,r))}var jL=Ua;Ua.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),FL(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Ua.prototype.update=function(e,r){return this.inner.update(e,r),this};Ua.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=st,e.common=Na,e.sha=Ca,e.ripemd=Z3,e.hmac=jL,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Uc);(function(t){var e=t,r=Uc,n=Qd,i=Ur,o=i.assert;function a(f){f.type==="short"?this.curve=new n.short(f):f.type==="edwards"?this.curve=new n.edwards(f):this.curve=new n.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=a;function s(f,h){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var l=new a(h);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=require("./precomputed/secp256k1")}catch{u=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})})($c);var zL=Uc,Oo=Xd,nx=Mo;function $i(t){if(!(this instanceof $i))return new $i(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Oo.toArray(t.entropy,t.entropyEnc||"hex"),r=Oo.toArray(t.nonce,t.nonceEnc||"hex"),n=Oo.toArray(t.pers,t.persEnc||"hex");nx(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var qL=$i;$i.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};$i.prototype._hmac=function(){return new zL.hmac(this.hash,this.K)};$i.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};$i.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Oo.toArray(e,r),n=Oo.toArray(n,i),nx(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};$i.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Oo.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,Oo.encode(a,r)};var GL=Bn.exports,HL=Ur,av=HL.assert;function lr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var WL=lr;lr.fromPublic=function(e,r,n){return r instanceof lr?r:new lr(e,{pub:r,pubEnc:n})};lr.fromPrivate=function(e,r,n){return r instanceof lr?r:new lr(e,{priv:r,privEnc:n})};lr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};lr.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};lr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};lr.prototype._importPrivate=function(e,r){this.priv=new GL(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};lr.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?av(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&av(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};lr.prototype.derive=function(e){return e.validate()||av(e.validate(),"public point not validated"),e.mul(this.priv).getX()};lr.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};lr.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};lr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var jc=Bn.exports,sv=Ur,VL=sv.assert;function zc(t,e){if(t instanceof zc)return t;this._importDER(t,e)||(VL(t.r&&t.s,"Signature without r or s"),this.r=new jc(t.r,16),this.s=new jc(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var KL=zc;function JL(){this.place=0}function uv(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,o=0,a=e.place;o<n;o++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function ix(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}zc.prototype._importDER=function(e,r){e=sv.toArray(e,r);var n=new JL;if(e[n.place++]!==48)return!1;var i=uv(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=uv(e,n);if(o===!1)return!1;var a=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var s=uv(e,n);if(s===!1||e.length!==s+n.place)return!1;var u=e.slice(n.place,s+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new jc(a),this.s=new jc(u),this.recoveryParam=null,!0};function fv(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}zc.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=ix(r),n=ix(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];fv(i,r.length),i=i.concat(r),i.push(2),fv(i,n.length);var o=i.concat(n),a=[48];return fv(a,o.length),a=a.concat(o),sv.encode(a,e)};var Po=Bn.exports,ox=qL,YL=Ur,cv=$c,XL=Pc.exports,ax=YL.assert,lv=WL,qc=KL;function un(t){if(!(this instanceof un))return new un(t);typeof t=="string"&&(ax(Object.prototype.hasOwnProperty.call(cv,t),"Unknown curve "+t),t=cv[t]),t instanceof cv.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var ZL=un;un.prototype.keyPair=function(e){return new lv(this,e)};un.prototype.keyFromPrivate=function(e,r){return lv.fromPrivate(this,e,r)};un.prototype.keyFromPublic=function(e,r){return lv.fromPublic(this,e,r)};un.prototype.genKeyPair=function(e){e||(e={});for(var r=new ox({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||XL(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Po(2));;){var o=new Po(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};un.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};un.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Po(e,16));for(var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),s=e.toArray("be",o),u=new ox({hash:this.hash,entropy:a,nonce:s,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new Po(1)),h=0;;h++){var l=i.k?i.k(h):new Po(u.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(f)>=0)){var m=this.g.mul(l);if(!m.isInfinity()){var w=m.getX(),M=w.umod(this.n);if(M.cmpn(0)!==0){var x=l.invm(this.n).mul(M.mul(r.getPrivate()).iadd(e));if(x=x.umod(this.n),x.cmpn(0)!==0){var R=(m.getY().isOdd()?1:0)|(w.cmp(M)!==0?2:0);return i.canonical&&x.cmp(this.nh)>0&&(x=this.n.sub(x),R^=1),new qc({r:M,s:x,recoveryParam:R})}}}}}};un.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Po(e,16)),n=this.keyFromPublic(n,i),r=new qc(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s=a.invm(this.n),u=s.mul(e).umod(this.n),f=s.mul(o).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(u,n.getPublic(),f),h.isInfinity()?!1:h.eqXToP(o)):(h=this.g.mulAdd(u,n.getPublic(),f),h.isInfinity()?!1:h.getX().umod(this.n).cmp(o)===0)};un.prototype.recoverPubKey=function(t,e,r,n){ax((3&r)===r,"The recovery param is more than two bits"),e=new qc(e,n);var i=this.n,o=new Po(t),a=e.r,s=e.s,u=r&1,f=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?a=this.curve.pointFromX(a.add(this.curve.n),u):a=this.curve.pointFromX(a,u);var h=e.r.invm(i),l=i.sub(o).mul(h).umod(i),m=s.mul(h).umod(i);return this.g.mulAdd(l,a,m)};un.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new qc(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var tu=Ur,sx=tu.assert,ux=tu.parseBytes,Ba=tu.cachedProperty;function Ht(t,e){this.eddsa=t,this._secret=ux(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=ux(e.pub)}Ht.fromPublic=function(e,r){return r instanceof Ht?r:new Ht(e,{pub:r})};Ht.fromSecret=function(e,r){return r instanceof Ht?r:new Ht(e,{secret:r})};Ht.prototype.secret=function(){return this._secret};Ba(Ht,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Ba(Ht,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Ba(Ht,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Ba(Ht,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Ba(Ht,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Ba(Ht,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Ht.prototype.sign=function(e){return sx(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Ht.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Ht.prototype.getSecret=function(e){return sx(this._secret,"KeyPair is public only"),tu.encode(this.secret(),e)};Ht.prototype.getPublic=function(e){return tu.encode(this.pubBytes(),e)};var QL=Ht,eD=Bn.exports,Gc=Ur,tD=Gc.assert,Hc=Gc.cachedProperty,rD=Gc.parseBytes;function Ro(t,e){this.eddsa=t,typeof e!="object"&&(e=rD(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),tD(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof eD&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Hc(Ro,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Hc(Ro,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Hc(Ro,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Hc(Ro,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Ro.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Ro.prototype.toHex=function(){return Gc.encode(this.toBytes(),"hex").toUpperCase()};var nD=Ro,iD=Uc,oD=$c,Fa=Ur,aD=Fa.assert,fx=Fa.parseBytes,cx=QL,lx=nD;function Pr(t){if(aD(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Pr))return new Pr(t);t=oD[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=iD.sha512}var sD=Pr;Pr.prototype.sign=function(e,r){e=fx(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),o=this.g.mul(i),a=this.encodePoint(o),s=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),u=i.add(s).umod(this.curve.n);return this.makeSignature({R:o,S:u,Rencoded:a})};Pr.prototype.verify=function(e,r,n){e=fx(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),o=this.hashInt(r.Rencoded(),i.pubBytes(),e),a=this.g.mul(r.S()),s=r.R().add(i.pub().mul(o));return s.eq(a)};Pr.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Fa.intFromLE(e.digest()).umod(this.curve.n)};Pr.prototype.keyFromPublic=function(e){return cx.fromPublic(this,e)};Pr.prototype.keyFromSecret=function(e){return cx.fromSecret(this,e)};Pr.prototype.makeSignature=function(e){return e instanceof lx?e:new lx(this,e)};Pr.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Pr.prototype.decodePoint=function(e){e=Fa.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&~128),i=(e[r]&128)!=0,o=Fa.intFromLE(n);return this.curve.pointFromY(o,i)};Pr.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Pr.prototype.decodeInt=function(e){return Fa.intFromLE(e)};Pr.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=aC.version,e.utils=Ur,e.rand=Pc.exports,e.curve=Qd,e.curves=$c,e.ec=ZL,e.eddsa=sD})(Yd);var uD=function t(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((r,n,i)=>{const o=i===0?"":",",a=n===void 0||typeof n=="symbol"?null:n;return r+o+t(a)},"")+"]":"{"+Object.keys(e).sort().reduce((r,n,i)=>{if(e[n]===void 0||typeof e[n]=="symbol")return r;const o=r.length===0?"":",";return r+o+t(n)+":"+t(e[n])},"")+"}"},Kn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=xi,r=Nr;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(B){var I=new Float64Array(16);if(B)for(var G=0;G<B.length;G++)I[G]=B[G];return I}var i=new Uint8Array(32);i[0]=9;var o=n([56129,1]);function a(B){for(var I=1,G=0;G<16;G++){var v=B[G]+I+65535;I=Math.floor(v/65536),B[G]=v-I*65536}B[0]+=I-1+37*(I-1)}function s(B,I,G){for(var v=~(G-1),A=0;A<16;A++){var D=v&(B[A]^I[A]);B[A]^=D,I[A]^=D}}function u(B,I){for(var G=n(),v=n(),A=0;A<16;A++)v[A]=I[A];a(v),a(v),a(v);for(var D=0;D<2;D++){G[0]=v[0]-65517;for(var A=1;A<15;A++)G[A]=v[A]-65535-(G[A-1]>>16&1),G[A-1]&=65535;G[15]=v[15]-32767-(G[14]>>16&1);var K=G[15]>>16&1;G[14]&=65535,s(v,G,1-K)}for(var A=0;A<16;A++)B[2*A]=v[A]&255,B[2*A+1]=v[A]>>8}function f(B,I){for(var G=0;G<16;G++)B[G]=I[2*G]+(I[2*G+1]<<8);B[15]&=32767}function h(B,I,G){for(var v=0;v<16;v++)B[v]=I[v]+G[v]}function l(B,I,G){for(var v=0;v<16;v++)B[v]=I[v]-G[v]}function m(B,I,G){var v,A,D=0,K=0,C=0,b=0,S=0,y=0,g=0,k=0,L=0,p=0,d=0,c=0,_=0,U=0,H=0,$=0,T=0,Z=0,F=0,V=0,W=0,E=0,J=0,ne=0,ae=0,ue=0,he=0,z=0,P=0,N=0,Y=0,ee=G[0],re=G[1],ie=G[2],de=G[3],ce=G[4],le=G[5],_e=G[6],se=G[7],we=G[8],Oe=G[9],Se=G[10],Ae=G[11],We=G[12],me=G[13],Me=G[14],Ye=G[15];v=I[0],D+=v*ee,K+=v*re,C+=v*ie,b+=v*de,S+=v*ce,y+=v*le,g+=v*_e,k+=v*se,L+=v*we,p+=v*Oe,d+=v*Se,c+=v*Ae,_+=v*We,U+=v*me,H+=v*Me,$+=v*Ye,v=I[1],K+=v*ee,C+=v*re,b+=v*ie,S+=v*de,y+=v*ce,g+=v*le,k+=v*_e,L+=v*se,p+=v*we,d+=v*Oe,c+=v*Se,_+=v*Ae,U+=v*We,H+=v*me,$+=v*Me,T+=v*Ye,v=I[2],C+=v*ee,b+=v*re,S+=v*ie,y+=v*de,g+=v*ce,k+=v*le,L+=v*_e,p+=v*se,d+=v*we,c+=v*Oe,_+=v*Se,U+=v*Ae,H+=v*We,$+=v*me,T+=v*Me,Z+=v*Ye,v=I[3],b+=v*ee,S+=v*re,y+=v*ie,g+=v*de,k+=v*ce,L+=v*le,p+=v*_e,d+=v*se,c+=v*we,_+=v*Oe,U+=v*Se,H+=v*Ae,$+=v*We,T+=v*me,Z+=v*Me,F+=v*Ye,v=I[4],S+=v*ee,y+=v*re,g+=v*ie,k+=v*de,L+=v*ce,p+=v*le,d+=v*_e,c+=v*se,_+=v*we,U+=v*Oe,H+=v*Se,$+=v*Ae,T+=v*We,Z+=v*me,F+=v*Me,V+=v*Ye,v=I[5],y+=v*ee,g+=v*re,k+=v*ie,L+=v*de,p+=v*ce,d+=v*le,c+=v*_e,_+=v*se,U+=v*we,H+=v*Oe,$+=v*Se,T+=v*Ae,Z+=v*We,F+=v*me,V+=v*Me,W+=v*Ye,v=I[6],g+=v*ee,k+=v*re,L+=v*ie,p+=v*de,d+=v*ce,c+=v*le,_+=v*_e,U+=v*se,H+=v*we,$+=v*Oe,T+=v*Se,Z+=v*Ae,F+=v*We,V+=v*me,W+=v*Me,E+=v*Ye,v=I[7],k+=v*ee,L+=v*re,p+=v*ie,d+=v*de,c+=v*ce,_+=v*le,U+=v*_e,H+=v*se,$+=v*we,T+=v*Oe,Z+=v*Se,F+=v*Ae,V+=v*We,W+=v*me,E+=v*Me,J+=v*Ye,v=I[8],L+=v*ee,p+=v*re,d+=v*ie,c+=v*de,_+=v*ce,U+=v*le,H+=v*_e,$+=v*se,T+=v*we,Z+=v*Oe,F+=v*Se,V+=v*Ae,W+=v*We,E+=v*me,J+=v*Me,ne+=v*Ye,v=I[9],p+=v*ee,d+=v*re,c+=v*ie,_+=v*de,U+=v*ce,H+=v*le,$+=v*_e,T+=v*se,Z+=v*we,F+=v*Oe,V+=v*Se,W+=v*Ae,E+=v*We,J+=v*me,ne+=v*Me,ae+=v*Ye,v=I[10],d+=v*ee,c+=v*re,_+=v*ie,U+=v*de,H+=v*ce,$+=v*le,T+=v*_e,Z+=v*se,F+=v*we,V+=v*Oe,W+=v*Se,E+=v*Ae,J+=v*We,ne+=v*me,ae+=v*Me,ue+=v*Ye,v=I[11],c+=v*ee,_+=v*re,U+=v*ie,H+=v*de,$+=v*ce,T+=v*le,Z+=v*_e,F+=v*se,V+=v*we,W+=v*Oe,E+=v*Se,J+=v*Ae,ne+=v*We,ae+=v*me,ue+=v*Me,he+=v*Ye,v=I[12],_+=v*ee,U+=v*re,H+=v*ie,$+=v*de,T+=v*ce,Z+=v*le,F+=v*_e,V+=v*se,W+=v*we,E+=v*Oe,J+=v*Se,ne+=v*Ae,ae+=v*We,ue+=v*me,he+=v*Me,z+=v*Ye,v=I[13],U+=v*ee,H+=v*re,$+=v*ie,T+=v*de,Z+=v*ce,F+=v*le,V+=v*_e,W+=v*se,E+=v*we,J+=v*Oe,ne+=v*Se,ae+=v*Ae,ue+=v*We,he+=v*me,z+=v*Me,P+=v*Ye,v=I[14],H+=v*ee,$+=v*re,T+=v*ie,Z+=v*de,F+=v*ce,V+=v*le,W+=v*_e,E+=v*se,J+=v*we,ne+=v*Oe,ae+=v*Se,ue+=v*Ae,he+=v*We,z+=v*me,P+=v*Me,N+=v*Ye,v=I[15],$+=v*ee,T+=v*re,Z+=v*ie,F+=v*de,V+=v*ce,W+=v*le,E+=v*_e,J+=v*se,ne+=v*we,ae+=v*Oe,ue+=v*Se,he+=v*Ae,z+=v*We,P+=v*me,N+=v*Me,Y+=v*Ye,D+=38*T,K+=38*Z,C+=38*F,b+=38*V,S+=38*W,y+=38*E,g+=38*J,k+=38*ne,L+=38*ae,p+=38*ue,d+=38*he,c+=38*z,_+=38*P,U+=38*N,H+=38*Y,A=1,v=D+A+65535,A=Math.floor(v/65536),D=v-A*65536,v=K+A+65535,A=Math.floor(v/65536),K=v-A*65536,v=C+A+65535,A=Math.floor(v/65536),C=v-A*65536,v=b+A+65535,A=Math.floor(v/65536),b=v-A*65536,v=S+A+65535,A=Math.floor(v/65536),S=v-A*65536,v=y+A+65535,A=Math.floor(v/65536),y=v-A*65536,v=g+A+65535,A=Math.floor(v/65536),g=v-A*65536,v=k+A+65535,A=Math.floor(v/65536),k=v-A*65536,v=L+A+65535,A=Math.floor(v/65536),L=v-A*65536,v=p+A+65535,A=Math.floor(v/65536),p=v-A*65536,v=d+A+65535,A=Math.floor(v/65536),d=v-A*65536,v=c+A+65535,A=Math.floor(v/65536),c=v-A*65536,v=_+A+65535,A=Math.floor(v/65536),_=v-A*65536,v=U+A+65535,A=Math.floor(v/65536),U=v-A*65536,v=H+A+65535,A=Math.floor(v/65536),H=v-A*65536,v=$+A+65535,A=Math.floor(v/65536),$=v-A*65536,D+=A-1+37*(A-1),A=1,v=D+A+65535,A=Math.floor(v/65536),D=v-A*65536,v=K+A+65535,A=Math.floor(v/65536),K=v-A*65536,v=C+A+65535,A=Math.floor(v/65536),C=v-A*65536,v=b+A+65535,A=Math.floor(v/65536),b=v-A*65536,v=S+A+65535,A=Math.floor(v/65536),S=v-A*65536,v=y+A+65535,A=Math.floor(v/65536),y=v-A*65536,v=g+A+65535,A=Math.floor(v/65536),g=v-A*65536,v=k+A+65535,A=Math.floor(v/65536),k=v-A*65536,v=L+A+65535,A=Math.floor(v/65536),L=v-A*65536,v=p+A+65535,A=Math.floor(v/65536),p=v-A*65536,v=d+A+65535,A=Math.floor(v/65536),d=v-A*65536,v=c+A+65535,A=Math.floor(v/65536),c=v-A*65536,v=_+A+65535,A=Math.floor(v/65536),_=v-A*65536,v=U+A+65535,A=Math.floor(v/65536),U=v-A*65536,v=H+A+65535,A=Math.floor(v/65536),H=v-A*65536,v=$+A+65535,A=Math.floor(v/65536),$=v-A*65536,D+=A-1+37*(A-1),B[0]=D,B[1]=K,B[2]=C,B[3]=b,B[4]=S,B[5]=y,B[6]=g,B[7]=k,B[8]=L,B[9]=p,B[10]=d,B[11]=c,B[12]=_,B[13]=U,B[14]=H,B[15]=$}function w(B,I){m(B,I,I)}function M(B,I){for(var G=n(),v=0;v<16;v++)G[v]=I[v];for(var v=253;v>=0;v--)w(G,G),v!==2&&v!==4&&m(G,G,I);for(var v=0;v<16;v++)B[v]=G[v]}function x(B,I){for(var G=new Uint8Array(32),v=new Float64Array(80),A=n(),D=n(),K=n(),C=n(),b=n(),S=n(),y=0;y<31;y++)G[y]=B[y];G[31]=B[31]&127|64,G[0]&=248,f(v,I);for(var y=0;y<16;y++)D[y]=v[y];A[0]=C[0]=1;for(var y=254;y>=0;--y){var g=G[y>>>3]>>>(y&7)&1;s(A,D,g),s(K,C,g),h(b,A,K),l(A,A,K),h(K,D,C),l(D,D,C),w(C,b),w(S,A),m(A,K,A),m(K,D,b),h(b,A,K),l(A,A,K),w(D,A),l(K,C,S),m(A,K,o),h(A,A,C),m(K,K,A),m(A,C,S),m(C,D,v),w(D,b),s(A,D,g),s(K,C,g)}for(var y=0;y<16;y++)v[y+16]=A[y],v[y+32]=K[y],v[y+48]=D[y],v[y+64]=C[y];var k=v.subarray(32),L=v.subarray(16);M(k,k),m(L,L,k);var p=new Uint8Array(32);return u(p,L),p}t.scalarMult=x;function R(B){return x(B,i)}t.scalarMultBase=R;function O(B){if(B.length!==t.SECRET_KEY_LENGTH)throw new Error("x25519: seed must be "+t.SECRET_KEY_LENGTH+" bytes");var I=new Uint8Array(B),G=R(I);return{publicKey:G,secretKey:I}}t.generateKeyPairFromSeed=O;function j(B){var I=e.randomBytes(32,B),G=O(I);return r.wipe(I),G}t.generateKeyPair=j;function q(B,I,G){if(G===void 0&&(G=!1),B.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(I.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");var v=x(B,I);if(G){for(var A=0,D=0;D<v.length;D++)A|=v[D];if(A===0)throw new Error("X25519: invalid shared key")}return v}t.sharedKey=q})(Kn);var hv={},ru={},nu={};Object.defineProperty(nu,"__esModule",{value:!0});var hr=Fe,dv=Nr,fD=20;function cD(t,e,r){for(var n=1634760805,i=857760878,o=2036477234,a=1797285236,s=r[3]<<24|r[2]<<16|r[1]<<8|r[0],u=r[7]<<24|r[6]<<16|r[5]<<8|r[4],f=r[11]<<24|r[10]<<16|r[9]<<8|r[8],h=r[15]<<24|r[14]<<16|r[13]<<8|r[12],l=r[19]<<24|r[18]<<16|r[17]<<8|r[16],m=r[23]<<24|r[22]<<16|r[21]<<8|r[20],w=r[27]<<24|r[26]<<16|r[25]<<8|r[24],M=r[31]<<24|r[30]<<16|r[29]<<8|r[28],x=e[3]<<24|e[2]<<16|e[1]<<8|e[0],R=e[7]<<24|e[6]<<16|e[5]<<8|e[4],O=e[11]<<24|e[10]<<16|e[9]<<8|e[8],j=e[15]<<24|e[14]<<16|e[13]<<8|e[12],q=n,B=i,I=o,G=a,v=s,A=u,D=f,K=h,C=l,b=m,S=w,y=M,g=x,k=R,L=O,p=j,d=0;d<fD;d+=2)q=q+v|0,g^=q,g=g>>>32-16|g<<16,C=C+g|0,v^=C,v=v>>>32-12|v<<12,B=B+A|0,k^=B,k=k>>>32-16|k<<16,b=b+k|0,A^=b,A=A>>>32-12|A<<12,I=I+D|0,L^=I,L=L>>>32-16|L<<16,S=S+L|0,D^=S,D=D>>>32-12|D<<12,G=G+K|0,p^=G,p=p>>>32-16|p<<16,y=y+p|0,K^=y,K=K>>>32-12|K<<12,I=I+D|0,L^=I,L=L>>>32-8|L<<8,S=S+L|0,D^=S,D=D>>>32-7|D<<7,G=G+K|0,p^=G,p=p>>>32-8|p<<8,y=y+p|0,K^=y,K=K>>>32-7|K<<7,B=B+A|0,k^=B,k=k>>>32-8|k<<8,b=b+k|0,A^=b,A=A>>>32-7|A<<7,q=q+v|0,g^=q,g=g>>>32-8|g<<8,C=C+g|0,v^=C,v=v>>>32-7|v<<7,q=q+A|0,p^=q,p=p>>>32-16|p<<16,S=S+p|0,A^=S,A=A>>>32-12|A<<12,B=B+D|0,g^=B,g=g>>>32-16|g<<16,y=y+g|0,D^=y,D=D>>>32-12|D<<12,I=I+K|0,k^=I,k=k>>>32-16|k<<16,C=C+k|0,K^=C,K=K>>>32-12|K<<12,G=G+v|0,L^=G,L=L>>>32-16|L<<16,b=b+L|0,v^=b,v=v>>>32-12|v<<12,I=I+K|0,k^=I,k=k>>>32-8|k<<8,C=C+k|0,K^=C,K=K>>>32-7|K<<7,G=G+v|0,L^=G,L=L>>>32-8|L<<8,b=b+L|0,v^=b,v=v>>>32-7|v<<7,B=B+D|0,g^=B,g=g>>>32-8|g<<8,y=y+g|0,D^=y,D=D>>>32-7|D<<7,q=q+A|0,p^=q,p=p>>>32-8|p<<8,S=S+p|0,A^=S,A=A>>>32-7|A<<7;hr.writeUint32LE(q+n|0,t,0),hr.writeUint32LE(B+i|0,t,4),hr.writeUint32LE(I+o|0,t,8),hr.writeUint32LE(G+a|0,t,12),hr.writeUint32LE(v+s|0,t,16),hr.writeUint32LE(A+u|0,t,20),hr.writeUint32LE(D+f|0,t,24),hr.writeUint32LE(K+h|0,t,28),hr.writeUint32LE(C+l|0,t,32),hr.writeUint32LE(b+m|0,t,36),hr.writeUint32LE(S+w|0,t,40),hr.writeUint32LE(y+M|0,t,44),hr.writeUint32LE(g+x|0,t,48),hr.writeUint32LE(k+R|0,t,52),hr.writeUint32LE(L+O|0,t,56),hr.writeUint32LE(p+j|0,t,60)}function hx(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var o,a;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");o=new Uint8Array(16),a=o.length-e.length,o.set(e,a)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");o=e,a=i}for(var s=new Uint8Array(64),u=0;u<r.length;u+=64){cD(s,o,t);for(var f=u;f<u+64&&f<r.length;f++)n[f]=r[f]^s[f-u];hD(o,0,a)}return dv.wipe(s),i===0&&dv.wipe(o),n}nu.streamXOR=hx;function lD(t,e,r,n){return n===void 0&&(n=0),dv.wipe(r),hx(t,e,r,r,n)}nu.stream=lD;function hD(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}Object.defineProperty(ru,"__esModule",{value:!0});var Ui=Fe,dx=Nr,dD=nu,vD=20;function vx(t,e,r,n){if(e.length!==24)throw new Error("XChaCha20 nonce must be 24 bytes");var i=px(t,e.subarray(0,16),new Uint8Array(32)),o=new Uint8Array(12);o.set(e.subarray(16),4);var a=dD.streamXOR(i,o,r,n);return dx.wipe(i),a}ru.streamXOR=vx;function pD(t,e,r){return dx.wipe(r),vx(t,e,r,r)}ru.stream=pD;function px(t,e,r){for(var n=1634760805,i=857760878,o=2036477234,a=1797285236,s=t[3]<<24|t[2]<<16|t[1]<<8|t[0],u=t[7]<<24|t[6]<<16|t[5]<<8|t[4],f=t[11]<<24|t[10]<<16|t[9]<<8|t[8],h=t[15]<<24|t[14]<<16|t[13]<<8|t[12],l=t[19]<<24|t[18]<<16|t[17]<<8|t[16],m=t[23]<<24|t[22]<<16|t[21]<<8|t[20],w=t[27]<<24|t[26]<<16|t[25]<<8|t[24],M=t[31]<<24|t[30]<<16|t[29]<<8|t[28],x=e[3]<<24|e[2]<<16|e[1]<<8|e[0],R=e[7]<<24|e[6]<<16|e[5]<<8|e[4],O=e[11]<<24|e[10]<<16|e[9]<<8|e[8],j=e[15]<<24|e[14]<<16|e[13]<<8|e[12],q=n,B=i,I=o,G=a,v=s,A=u,D=f,K=h,C=l,b=m,S=w,y=M,g=x,k=R,L=O,p=j,d=0;d<vD;d+=2)q=q+v|0,g^=q,g=g>>>32-16|g<<16,C=C+g|0,v^=C,v=v>>>32-12|v<<12,B=B+A|0,k^=B,k=k>>>32-16|k<<16,b=b+k|0,A^=b,A=A>>>32-12|A<<12,I=I+D|0,L^=I,L=L>>>32-16|L<<16,S=S+L|0,D^=S,D=D>>>32-12|D<<12,G=G+K|0,p^=G,p=p>>>32-16|p<<16,y=y+p|0,K^=y,K=K>>>32-12|K<<12,I=I+D|0,L^=I,L=L>>>32-8|L<<8,S=S+L|0,D^=S,D=D>>>32-7|D<<7,G=G+K|0,p^=G,p=p>>>32-8|p<<8,y=y+p|0,K^=y,K=K>>>32-7|K<<7,B=B+A|0,k^=B,k=k>>>32-8|k<<8,b=b+k|0,A^=b,A=A>>>32-7|A<<7,q=q+v|0,g^=q,g=g>>>32-8|g<<8,C=C+g|0,v^=C,v=v>>>32-7|v<<7,q=q+A|0,p^=q,p=p>>>32-16|p<<16,S=S+p|0,A^=S,A=A>>>32-12|A<<12,B=B+D|0,g^=B,g=g>>>32-16|g<<16,y=y+g|0,D^=y,D=D>>>32-12|D<<12,I=I+K|0,k^=I,k=k>>>32-16|k<<16,C=C+k|0,K^=C,K=K>>>32-12|K<<12,G=G+v|0,L^=G,L=L>>>32-16|L<<16,b=b+L|0,v^=b,v=v>>>32-12|v<<12,I=I+K|0,k^=I,k=k>>>32-8|k<<8,C=C+k|0,K^=C,K=K>>>32-7|K<<7,G=G+v|0,L^=G,L=L>>>32-8|L<<8,b=b+L|0,v^=b,v=v>>>32-7|v<<7,B=B+D|0,g^=B,g=g>>>32-8|g<<8,y=y+g|0,D^=y,D=D>>>32-7|D<<7,q=q+A|0,p^=q,p=p>>>32-8|p<<8,S=S+p|0,A^=S,A=A>>>32-7|A<<7;return Ui.writeUint32LE(q,r,0),Ui.writeUint32LE(B,r,4),Ui.writeUint32LE(I,r,8),Ui.writeUint32LE(G,r,12),Ui.writeUint32LE(g,r,16),Ui.writeUint32LE(k,r,20),Ui.writeUint32LE(L,r,24),Ui.writeUint32LE(p,r,28),r}ru.hchacha=px;var mx={},bx={},No={};Object.defineProperty(No,"__esModule",{value:!0});function mD(t,e,r){return~(t-1)&e|t-1&r}No.select=mD;function bD(t,e){return(t|0)-(e|0)-1>>>31&1}No.lessOrEqual=bD;function yx(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}No.compare=yx;function yD(t,e){return t.length===0||e.length===0?!1:yx(t,e)!==0}No.equal=yD;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=No,r=Nr;t.DIGEST_LENGTH=16;var n=function(){function a(s){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var u=s[0]|s[1]<<8;this._r[0]=u&8191;var f=s[2]|s[3]<<8;this._r[1]=(u>>>13|f<<3)&8191;var h=s[4]|s[5]<<8;this._r[2]=(f>>>10|h<<6)&7939;var l=s[6]|s[7]<<8;this._r[3]=(h>>>7|l<<9)&8191;var m=s[8]|s[9]<<8;this._r[4]=(l>>>4|m<<12)&255,this._r[5]=m>>>1&8190;var w=s[10]|s[11]<<8;this._r[6]=(m>>>14|w<<2)&8191;var M=s[12]|s[13]<<8;this._r[7]=(w>>>11|M<<5)&8065;var x=s[14]|s[15]<<8;this._r[8]=(M>>>8|x<<8)&8191,this._r[9]=x>>>5&127,this._pad[0]=s[16]|s[17]<<8,this._pad[1]=s[18]|s[19]<<8,this._pad[2]=s[20]|s[21]<<8,this._pad[3]=s[22]|s[23]<<8,this._pad[4]=s[24]|s[25]<<8,this._pad[5]=s[26]|s[27]<<8,this._pad[6]=s[28]|s[29]<<8,this._pad[7]=s[30]|s[31]<<8}return a.prototype._blocks=function(s,u,f){for(var h=this._fin?0:1<<11,l=this._h[0],m=this._h[1],w=this._h[2],M=this._h[3],x=this._h[4],R=this._h[5],O=this._h[6],j=this._h[7],q=this._h[8],B=this._h[9],I=this._r[0],G=this._r[1],v=this._r[2],A=this._r[3],D=this._r[4],K=this._r[5],C=this._r[6],b=this._r[7],S=this._r[8],y=this._r[9];f>=16;){var g=s[u+0]|s[u+1]<<8;l+=g&8191;var k=s[u+2]|s[u+3]<<8;m+=(g>>>13|k<<3)&8191;var L=s[u+4]|s[u+5]<<8;w+=(k>>>10|L<<6)&8191;var p=s[u+6]|s[u+7]<<8;M+=(L>>>7|p<<9)&8191;var d=s[u+8]|s[u+9]<<8;x+=(p>>>4|d<<12)&8191,R+=d>>>1&8191;var c=s[u+10]|s[u+11]<<8;O+=(d>>>14|c<<2)&8191;var _=s[u+12]|s[u+13]<<8;j+=(c>>>11|_<<5)&8191;var U=s[u+14]|s[u+15]<<8;q+=(_>>>8|U<<8)&8191,B+=U>>>5|h;var H=0,$=H;$+=l*I,$+=m*(5*y),$+=w*(5*S),$+=M*(5*b),$+=x*(5*C),H=$>>>13,$&=8191,$+=R*(5*K),$+=O*(5*D),$+=j*(5*A),$+=q*(5*v),$+=B*(5*G),H+=$>>>13,$&=8191;var T=H;T+=l*G,T+=m*I,T+=w*(5*y),T+=M*(5*S),T+=x*(5*b),H=T>>>13,T&=8191,T+=R*(5*C),T+=O*(5*K),T+=j*(5*D),T+=q*(5*A),T+=B*(5*v),H+=T>>>13,T&=8191;var Z=H;Z+=l*v,Z+=m*G,Z+=w*I,Z+=M*(5*y),Z+=x*(5*S),H=Z>>>13,Z&=8191,Z+=R*(5*b),Z+=O*(5*C),Z+=j*(5*K),Z+=q*(5*D),Z+=B*(5*A),H+=Z>>>13,Z&=8191;var F=H;F+=l*A,F+=m*v,F+=w*G,F+=M*I,F+=x*(5*y),H=F>>>13,F&=8191,F+=R*(5*S),F+=O*(5*b),F+=j*(5*C),F+=q*(5*K),F+=B*(5*D),H+=F>>>13,F&=8191;var V=H;V+=l*D,V+=m*A,V+=w*v,V+=M*G,V+=x*I,H=V>>>13,V&=8191,V+=R*(5*y),V+=O*(5*S),V+=j*(5*b),V+=q*(5*C),V+=B*(5*K),H+=V>>>13,V&=8191;var W=H;W+=l*K,W+=m*D,W+=w*A,W+=M*v,W+=x*G,H=W>>>13,W&=8191,W+=R*I,W+=O*(5*y),W+=j*(5*S),W+=q*(5*b),W+=B*(5*C),H+=W>>>13,W&=8191;var E=H;E+=l*C,E+=m*K,E+=w*D,E+=M*A,E+=x*v,H=E>>>13,E&=8191,E+=R*G,E+=O*I,E+=j*(5*y),E+=q*(5*S),E+=B*(5*b),H+=E>>>13,E&=8191;var J=H;J+=l*b,J+=m*C,J+=w*K,J+=M*D,J+=x*A,H=J>>>13,J&=8191,J+=R*v,J+=O*G,J+=j*I,J+=q*(5*y),J+=B*(5*S),H+=J>>>13,J&=8191;var ne=H;ne+=l*S,ne+=m*b,ne+=w*C,ne+=M*K,ne+=x*D,H=ne>>>13,ne&=8191,ne+=R*A,ne+=O*v,ne+=j*G,ne+=q*I,ne+=B*(5*y),H+=ne>>>13,ne&=8191;var ae=H;ae+=l*y,ae+=m*S,ae+=w*b,ae+=M*C,ae+=x*K,H=ae>>>13,ae&=8191,ae+=R*D,ae+=O*A,ae+=j*v,ae+=q*G,ae+=B*I,H+=ae>>>13,ae&=8191,H=(H<<2)+H|0,H=H+$|0,$=H&8191,H=H>>>13,T+=H,l=$,m=T,w=Z,M=F,x=V,R=W,O=E,j=J,q=ne,B=ae,u+=16,f-=16}this._h[0]=l,this._h[1]=m,this._h[2]=w,this._h[3]=M,this._h[4]=x,this._h[5]=R,this._h[6]=O,this._h[7]=j,this._h[8]=q,this._h[9]=B},a.prototype.finish=function(s,u){u===void 0&&(u=0);var f=new Uint16Array(10),h,l,m,w;if(this._leftover){for(w=this._leftover,this._buffer[w++]=1;w<16;w++)this._buffer[w]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(h=this._h[1]>>>13,this._h[1]&=8191,w=2;w<10;w++)this._h[w]+=h,h=this._h[w]>>>13,this._h[w]&=8191;for(this._h[0]+=h*5,h=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=h,h=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=h,f[0]=this._h[0]+5,h=f[0]>>>13,f[0]&=8191,w=1;w<10;w++)f[w]=this._h[w]+h,h=f[w]>>>13,f[w]&=8191;for(f[9]-=1<<13,l=(h^1)-1,w=0;w<10;w++)f[w]&=l;for(l=~l,w=0;w<10;w++)this._h[w]=this._h[w]&l|f[w];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,m=this._h[0]+this._pad[0],this._h[0]=m&65535,w=1;w<8;w++)m=(this._h[w]+this._pad[w]|0)+(m>>>16)|0,this._h[w]=m&65535;return s[u+0]=this._h[0]>>>0,s[u+1]=this._h[0]>>>8,s[u+2]=this._h[1]>>>0,s[u+3]=this._h[1]>>>8,s[u+4]=this._h[2]>>>0,s[u+5]=this._h[2]>>>8,s[u+6]=this._h[3]>>>0,s[u+7]=this._h[3]>>>8,s[u+8]=this._h[4]>>>0,s[u+9]=this._h[4]>>>8,s[u+10]=this._h[5]>>>0,s[u+11]=this._h[5]>>>8,s[u+12]=this._h[6]>>>0,s[u+13]=this._h[6]>>>8,s[u+14]=this._h[7]>>>0,s[u+15]=this._h[7]>>>8,this._finished=!0,this},a.prototype.update=function(s){var u=0,f=s.length,h;if(this._leftover){h=16-this._leftover,h>f&&(h=f);for(var l=0;l<h;l++)this._buffer[this._leftover+l]=s[u+l];if(f-=h,u+=h,this._leftover+=h,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(f>=16&&(h=f-f%16,this._blocks(s,u,h),u+=h,f-=h),f){for(var l=0;l<f;l++)this._buffer[this._leftover+l]=s[u+l];this._leftover+=f}return this},a.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var s=new Uint8Array(16);return this.finish(s),s},a.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},a}();t.Poly1305=n;function i(a,s){var u=new n(a);u.update(s);var f=u.digest();return u.clean(),f}t.oneTimeAuth=i;function o(a,s){return a.length!==t.DIGEST_LENGTH||s.length!==t.DIGEST_LENGTH?!1:e.equal(a,s)}t.equal=o})(bx);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=nu,r=bx,n=Nr,i=Fe,o=No;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var a=new Uint8Array(16),s=function(){function u(f){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,f.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(f)}return u.prototype.seal=function(f,h,l,m){if(f.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var w=new Uint8Array(16);w.set(f,w.length-f.length);var M=new Uint8Array(32);e.stream(this._key,w,M,4);var x=h.length+this.tagLength,R;if(m){if(m.length!==x)throw new Error("ChaCha20Poly1305: incorrect destination length");R=m}else R=new Uint8Array(x);return e.streamXOR(this._key,w,h,R,4),this._authenticate(R.subarray(R.length-this.tagLength,R.length),M,R.subarray(0,R.length-this.tagLength),l),n.wipe(w),R},u.prototype.open=function(f,h,l,m){if(f.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(h.length<this.tagLength)return null;var w=new Uint8Array(16);w.set(f,w.length-f.length);var M=new Uint8Array(32);e.stream(this._key,w,M,4);var x=new Uint8Array(this.tagLength);if(this._authenticate(x,M,h.subarray(0,h.length-this.tagLength),l),!o.equal(x,h.subarray(h.length-this.tagLength,h.length)))return null;var R=h.length-this.tagLength,O;if(m){if(m.length!==R)throw new Error("ChaCha20Poly1305: incorrect destination length");O=m}else O=new Uint8Array(R);return e.streamXOR(this._key,w,h.subarray(0,h.length-this.tagLength),O,4),n.wipe(w),O},u.prototype.clean=function(){return n.wipe(this._key),this},u.prototype._authenticate=function(f,h,l,m){var w=new r.Poly1305(h);m&&(w.update(m),m.length%16>0&&w.update(a.subarray(m.length%16))),w.update(l),l.length%16>0&&w.update(a.subarray(l.length%16));var M=new Uint8Array(8);m&&i.writeUint64LE(m.length,M),w.update(M),i.writeUint64LE(l.length,M),w.update(M);for(var x=w.digest(),R=0;R<x.length;R++)f[R]=x[R];w.clean(),n.wipe(x),n.wipe(M)},u}();t.ChaCha20Poly1305=s})(mx);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ru,r=mx,n=Nr;t.KEY_LENGTH=32,t.NONCE_LENGTH=24,t.TAG_LENGTH=16;var i=function(){function o(a){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,a.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(a)}return o.prototype.seal=function(a,s,u,f){if(a.length!==24)throw new Error("XChaCha20Poly1305: incorrect nonce length");var h=e.hchacha(this._key,a.subarray(0,16),new Uint8Array(32)),l=new Uint8Array(12);l.set(a.subarray(16),4);var m=new r.ChaCha20Poly1305(h),w=m.seal(l,s,u,f);return n.wipe(h),n.wipe(l),m.clean(),w},o.prototype.open=function(a,s,u,f){if(a.length!==24)throw new Error("XChaCha20Poly1305: incorrect nonce length");if(s.length<this.tagLength)return null;var h=e.hchacha(this._key,a.subarray(0,16),new Uint8Array(32)),l=new Uint8Array(12);l.set(a.subarray(16),4);var m=new r.ChaCha20Poly1305(h),w=m.open(l,s,u,f);return n.wipe(h),n.wipe(l),m.clean(),w},o.prototype.clean=function(){return n.wipe(this._key),this},o}();t.XChaCha20Poly1305=i})(hv);function dr(t){return Oc(t,"base64url")}function Rt(t){const e=t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return _n(e,"base64url")}function vv(t){return _n(t,"base58btc")}function pv(t){const e=t.startsWith("0x")?t.substring(2):t;return _n(e.toLowerCase(),"base16")}function mv(t){return dr(_n(t))}function bv(t){return Oc(Rt(t))}function Co(t){return Oc(t,"base16")}function gx(t){return _n(t)}function wx({r:t,s:e,recoveryParam:r},n){const i=new Uint8Array(n?65:64);if(i.set(_n(t,"base16"),0),i.set(_n(e,"base16"),32),n){if(typeof r=="undefined")throw new Error("Signer did not return a recoveryParam");i[64]=r}return dr(i)}function _x(t){const e=Rt(t);if(e.length<64||e.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${e.length}`);const r=Co(e.slice(0,32)),n=Co(e.slice(32,64)),i=e.length===65?e[64]:void 0;return{r,s:n,recoveryParam:i}}function yv(t,e){return Tc([Rt(t),Rt(e)])}const gD=/^(0x)?([a-fA-F0-9]{64}|[a-fA-F0-9]{128})$/,wD=/^([1-9A-HJ-NP-Za-km-z]{44}|[1-9A-HJ-NP-Za-km-z]{88})$/,_D=/^([0-9a-zA-Z=\-_+/]{43}|[0-9a-zA-Z=\-_+/]{86})(={0,2})$/;function xx(t){if(typeof t=="string"){if(gD.test(t))return pv(t);if(wD.test(t))return vv(t);if(_D.test(t))return Rt(t);throw TypeError("bad_key: Invalid private key format")}else{if(t instanceof Uint8Array)return t;throw TypeError("bad_key: Invalid private key format")}}function Sx(t,e=64){return t.length===e?t:"0".repeat(e-t.length)+t}function gv(t){const e=typeof t=="string"?_n(t):t;return bi.hash(e)}function xD(t){return new Uint8Array(jh.exports.keccak_256.arrayBuffer(t))}function Ex(t){const e=_n(t.slice(2),"base16");return`0x${Oc(xD(e).slice(-20),"base16")}`}function wv(t,e=new Uint8Array(4)){const r=_n(t.toString(),"base10");return e.set(r,4-r.length),e}const _v=t=>Tc([wv(t.length),t]);function Wc(t,e,r,n,i){if(e!==256)throw new Error(`Unsupported key length: ${e}`);const o=Tc([_v(_n(r)),_v(typeof n=="undefined"?new Uint8Array(0):n),_v(typeof i=="undefined"?new Uint8Array(0):i),wv(e)]),a=1;return bi.hash(Tc([wv(a),t,o]))}const SD=new Yd.ec("secp256k1");function xv(t,e=!1){const r=xx(t);if(r.length!==32)throw new Error(`bad_key: Invalid private key format. Expecting 32 bytes, but got ${r.length}`);const n=SD.keyFromPrivate(r);return function(i){try{const{r:o,s:a,recoveryParam:s}=n.sign(gv(i));return Promise.resolve(wx({r:Sx(o.toString("hex")),s:Sx(a.toString("hex")),recoveryParam:s},e))}catch(o){return Promise.reject(o)}}}function ED(t){const e=xv(t,!0);return function(r){try{return Promise.resolve(e(r)).then(_x)}catch(n){return Promise.reject(n)}}}function AD(t){return xv(t)}function Ax(t){const e=xx(t);if(e.length!==64)throw new Error(`bad_key: Invalid private key format. Expecting 64 bytes, but got ${e.length}`);return function(r){try{const n=typeof r=="string"?gx(r):r,i=Ec.sign(e,n);return Promise.resolve(dr(i))}catch(n){return Promise.reject(n)}}}function ID(t){return Ax(t)}function Ix(t){return typeof t=="object"&&"r"in t&&"s"in t}function Mx(t){return function(r,n){try{return Promise.resolve(n(r)).then(function(i){if(Ix(i))return wx(i,t);if(t&&typeof _x(i).recoveryParam=="undefined")throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return i})}catch(i){return Promise.reject(i)}}}function kx(){return function(e,r){try{return Promise.resolve(r(e)).then(function(n){if(Ix(n))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return n})}catch(n){return Promise.reject(n)}}}const MD={ES256K:Mx(),"ES256K-R":Mx(!0),Ed25519:kx(),EdDSA:kx()};function kD(t){const e=MD[t];if(!e)throw new Error(`not_supported: Unsupported algorithm ${t}`);return e}const Sv=new Yd.ec("secp256k1");function Vc(t,e=!1){const r=Rt(t);if(r.length!==(e?65:64))throw new Error("wrong signature length");const n=Co(r.slice(0,32)),i=Co(r.slice(32,64)),o={r:n,s:i};return e&&(o.recoveryParam=r[64]),o}function Ev(t){if(t.publicKeyBase58)return vv(t.publicKeyBase58);if(t.publicKeyBase64)return Rt(t.publicKeyBase64);if(t.publicKeyHex)return pv(t.publicKeyHex);if(t.publicKeyJwk&&t.publicKeyJwk.crv==="secp256k1"&&t.publicKeyJwk.x&&t.publicKeyJwk.y)return pv(Sv.keyFromPublic({x:Co(Rt(t.publicKeyJwk.x)),y:Co(Rt(t.publicKeyJwk.y))}).getPublic("hex"));if(t.publicKeyMultibase){const{base16:e,base58btc:r,base64:n,base64url:i}=Jr;return e.decoder.or(r.decoder.or(n.decoder.or(i.decoder))).decode(t.publicKeyMultibase)}return new Uint8Array}function TD(t,e,r){const n=gv(t),i=Vc(e),o=r.filter(({ethereumAddress:u,blockchainAccountId:f})=>typeof u=="undefined"&&typeof f=="undefined"),a=r.filter(({ethereumAddress:u,blockchainAccountId:f})=>typeof u!="undefined"||typeof f!==void 0);let s=o.find(u=>{try{const f=Ev(u);return Sv.keyFromPublic(f).verify(n,i)}catch{return!1}});if(!s&&a.length>0&&(s=Tx(t,e,a)),!s)throw new Error("invalid_signature: Signature invalid for JWT");return s}function Tx(t,e,r){let n;if(e.length>86)n=[Vc(e,!0)];else{const a=Vc(e,!1);n=[or(be({},a),{recoveryParam:0}),or(be({},a),{recoveryParam:1})]}const i=a=>{const s=gv(t),u=Sv.recoverPubKey(s,a,a.recoveryParam),f=u.encode("hex"),h=u.encode("hex",!0),l=Ex(f);return r.find(w=>{var M,x,R;const O=Co(Ev(w));return O===f||O===h||((M=w.ethereumAddress)==null?void 0:M.toLowerCase())===l||((x=w.blockchainAccountId)==null||(R=x.split("@eip155"))==null?void 0:R[0].toLowerCase())===l})},o=n.map(i).filter(a=>typeof a!="undefined");if(o.length===0)throw new Error("invalid_signature: Signature invalid for JWT");return o[0]}function Ox(t,e,r){const n=gx(t),i=Rt(e),o=r.find(a=>Ec.verify(Ev(a),n,i));if(!o)throw new Error("invalid_signature: Signature invalid for JWT");return o}const OD={ES256K:TD,"ES256K-R":Tx,Ed25519:Ox,EdDSA:Ox};function Px(t){const e=OD[t];if(!e)throw new Error(`not_supported: Unsupported algorithm ${t}`);return e}Px.toSignatureObject=Vc;const PD=function(t,e,r,n){try{const i=CD[e];if(!i||i.length===0)throw new Error(`not_supported: No supported signature types for algorithm ${e}`);let o;return Promise.resolve(t.resolve(r,{accept:Nx})).then(function(a){var s,u,f,h,l;if(Object.getOwnPropertyNames(a).indexOf("didDocument")===-1?o={didDocument:a,didDocumentMetadata:{},didResolutionMetadata:{contentType:Nx}}:o=a,(s=o.didResolutionMetadata)!=null&&s.error||o.didDocument==null){const{error:R,message:O}=o.didResolutionMetadata;throw new Error(`resolver_error: Unable to resolve DID document for ${r}: ${R}, ${O||""}`)}const m=(R,O)=>{const j=R.filter(({id:q})=>O===q);return j.length>0?j[0]:null};let w=[...((u=o)==null||(f=u.didDocument)==null?void 0:f.verificationMethod)||[],...((h=o)==null||(l=h.didDocument)==null?void 0:l.publicKey)||[]];if(typeof n=="string"){var M;n.startsWith("assertion")&&!Object.getOwnPropertyNames((M=o)==null?void 0:M.didDocument).includes("assertionMethod")&&(o.didDocument=be({},o.didDocument),o.didDocument.assertionMethod=[...w.map(R=>R.id)]),w=(o.didDocument[n]||[]).map(R=>typeof R=="string"?m(w,R):typeof R.publicKey=="string"?m(w,R.publicKey):R).filter(R=>R!=null)}const x=w.filter(({type:R})=>i.find(O=>O===R));if(typeof n=="string"&&(!x||x.length===0))throw new Error(`no_suitable_keys: DID document for ${r} does not have public keys suitable for ${e} with ${n} purpose`);if(!x||x.length===0)throw new Error(`no_suitable_keys: DID document for ${r} does not have public keys for ${e}`);return{authenticators:x,issuer:r,didResolutionResult:o}})}catch(i){return Promise.reject(i)}},RD=function(t,e={resolver:void 0,auth:void 0,audience:void 0,callbackUrl:void 0,skewTime:void 0,proofPurpose:void 0}){try{if(!e.resolver)throw new Error("missing_resolver: No DID resolver has been configured");const{payload:r,header:n,signature:i,data:o}=Dx(t),a=Object.prototype.hasOwnProperty.call(e,"auth")?e.auth?"authentication":void 0:e.proofPurpose;return Promise.resolve(PD(e.resolver,n.alg,r.iss||"",a)).then(function({didResolutionResult:s,authenticators:u,issuer:f}){return Promise.resolve($x({header:n,data:o,signature:i},u)).then(function(h){const l=Math.floor(Date.now()/1e3),m=typeof e.skewTime!="undefined"&&e.skewTime>=0?e.skewTime:DD;if(h){const w=l+m;if(r.nbf){if(r.nbf>w)throw new Error(`invalid_jwt: JWT not valid before nbf: ${r.nbf}`)}else if(r.iat&&r.iat>w)throw new Error(`invalid_jwt: JWT not valid yet (issued in the future) iat: ${r.iat}`);if(r.exp&&r.exp<=l-m)throw new Error(`invalid_jwt: JWT has expired: exp: ${r.exp} < now: ${l}`);if(r.aud){if(!e.audience&&!e.callbackUrl)throw new Error("invalid_config: JWT audience is required but your app address has not been configured");if(typeof(Array.isArray(r.aud)?r.aud:[r.aud]).find(R=>e.audience===R||e.callbackUrl===R)=="undefined")throw new Error("invalid_config: JWT audience does not match your DID or callback url")}return{payload:r,didResolutionResult:s,issuer:f,signer:h,jwt:t}}throw new Error("invalid_signature: JWT not valid. issuer DID document does not contain a verificationMethod that matches the signature.")})})}catch(r){return Promise.reject(r)}},ND=function(t,{issuer:e,signer:r,alg:n,expiresIn:i,canonicalize:o},a={}){try{if(!r)throw new Error("missing_signer: No Signer functionality has been configured");if(!e)throw new Error("missing_issuer: No issuing DID has been configured");a.typ||(a.typ="JWT"),a.alg||(a.alg=n);const s={iat:Math.floor(Date.now()/1e3),exp:void 0};if(i)if(typeof i=="number")s.exp=(t.nbf||s.iat)+Math.floor(i);else throw new Error("invalid_argument: JWT expiresIn is not a number");const u=or(be(be({},s),t),{iss:e});return Rx(u,r,a,{canonicalize:o})}catch(s){return Promise.reject(s)}},Rx=function(t,e,r={},n={}){try{r.alg||(r.alg=LD);const i=typeof t=="string"?t:Cx(t,n.canonicalize),o=[Cx(r,n.canonicalize),i].join("."),a=kD(r.alg);return Promise.resolve(a(o,e)).then(function(s){return[o,s].join(".")})}catch(i){return Promise.reject(i)}},CD={ES256K:["EcdsaSecp256k1VerificationKey2019","EcdsaSecp256k1RecoveryMethod2020","Secp256k1VerificationKey2018","Secp256k1SignatureVerificationKey2018","EcdsaPublicKeySecp256k1"],"ES256K-R":["EcdsaSecp256k1VerificationKey2019","EcdsaSecp256k1RecoveryMethod2020","Secp256k1VerificationKey2018","Secp256k1SignatureVerificationKey2018","EcdsaPublicKeySecp256k1"],Ed25519:["ED25519SignatureVerification","Ed25519VerificationKey2018"],EdDSA:["ED25519SignatureVerification","Ed25519VerificationKey2018"]},LD="ES256K",Nx="application/did+json";function Cx(t,e=!1){return mv(e?uD(t):JSON.stringify(t))}const DD=300;function Lx(t){const e=t.match(/^([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)$/);if(e)return{header:JSON.parse(bv(e[1])),payload:e[2],signature:e[3],data:`${e[1]}.${e[2]}`};throw new Error("invalid_argument: Incorrect format JWS")}function Dx(t){if(!t)throw new Error("invalid_argument: no JWT passed into decodeJWT");try{const e=Lx(t);return Object.assign(e,{payload:JSON.parse(bv(e.payload))})}catch{throw new Error("invalid_argument: Incorrect format JWT")}}function $x({header:t,data:e,signature:r},n){return Array.isArray(n)||(n=[n]),Px(t.alg)(e,r,n)}function $D(t,e){const r=Lx(t);return $x(r,e)}function UD(t,e,r){for(var n;;){var i=t();if(Bi(i)&&(i=i.v),!i)return o;if(i.then){n=0;break}var o=r();if(o&&o.then)if(Bi(o))o=o.s;else{n=1;break}if(e){var a=e();if(a&&a.then&&!Bi(a)){n=2;break}}}var s=new Lo,u=Ut.bind(null,s,2);return(n===0?i.then(h):n===1?o.then(f):a.then(l)).then(void 0,u),s;function f(m){o=m;do{if(e&&(a=e(),a&&a.then&&!Bi(a))){a.then(l).then(void 0,u);return}if(i=t(),!i||Bi(i)&&!i.v){Ut(s,1,o);return}if(i.then){i.then(h).then(void 0,u);return}o=r(),Bi(o)&&(o=o.v)}while(!o||!o.then);o.then(f).then(void 0,u)}function h(m){m?(o=r(),o&&o.then?o.then(f).then(void 0,u):f(o)):Ut(s,1,o)}function l(){(i=t())?i.then?i.then(h).then(void 0,u):h(i):Ut(s,1,o)}}const BD=function(t,e){try{let n=function(f){if(s===null)throw new Error("failure: Failed to decrypt");return s},r;zD(t);const i=JSON.parse(bv(t.protected));if(i.enc!==e.enc)throw new Error(`not_supported: Decrypter does not supported: '${i.enc}'`);const o=yv(t.ciphertext,t.tag),a=new Uint8Array(Buffer.from(t.aad?`${t.protected}.${t.aad}`:t.protected));let s=null;const u=function(){return i.alg==="dir"&&e.alg==="dir"?Promise.resolve(e.decrypt(o,Rt(t.iv),a)).then(function(f){s=f}):function(){if(!t.recipients||t.recipients.length===0)throw new Error("bad_jwe: missing recipients");{let f=0;return UD(function(){return!s&&f<t.recipients.length},function(){return f++},function(){const h=t.recipients[f];Object.assign(h.header,i);const l=function(){if(h.header.alg===e.alg)return Promise.resolve(e.decrypt(o,Rt(t.iv),a,h)).then(function(m){s=m})}();if(l&&l.then)return l.then(function(){})})}}()}();return Promise.resolve(u&&u.then?u.then(n):n(u))}catch(r){return Promise.reject(r)}},Ux=typeof Symbol!="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Ut(t,e,r){if(!t.s){if(r instanceof Lo)if(r.s)e&1&&(e=r.s),r=r.v;else{r.o=Ut.bind(null,t,e);return}if(r&&r.then){r.then(Ut.bind(null,t,e),Ut.bind(null,t,2));return}t.s=e,t.v=r;const n=t.o;n&&n(t)}}const Lo=function(){function t(){}return t.prototype.then=function(e,r){const n=new t,i=this.s;if(i){const o=i&1?e:r;if(o){try{Ut(n,1,o(this.v))}catch(a){Ut(n,2,a)}return n}else return this}return this.o=function(o){try{const a=o.v;o.s&1?Ut(n,1,e?e(a):a):r?Ut(n,1,r(a)):Ut(n,2,a)}catch(a){Ut(n,2,a)}},n},t}();function Bi(t){return t instanceof Lo&&t.s&1}function FD(t,e,r){var n=-1,i,o;function a(s){try{for(;++n<t.length&&(!r||!r());)if(s=e(n),s&&s.then)if(Bi(s))s=s.v;else{s.then(a,o||(o=Ut.bind(null,i=new Lo,2)));return}i?Ut(i,1,s):i=s}catch(u){Ut(i||(i=new Lo),2,u)}}return a(),i}function jD(t,e,r){if(typeof t[Ux]=="function"){let h=function(l){try{for(;!(i=n.next()).done&&(!r||!r());)if(l=e(i.value),l&&l.then)if(Bi(l))l=l.v;else{l.then(h,a||(a=Ut.bind(null,o=new Lo,2)));return}o?Ut(o,1,l):o=l}catch(m){Ut(o||(o=new Lo),2,m)}};var n=t[Ux](),i,o,a;if(h(),n.return){var s=function(l){try{i.done||n.return()}catch{}return l};if(o&&o.then)return o.then(s,function(l){throw s(l)});s()}return o}if(!("length"in t))throw new TypeError("Object is not iterable");for(var u=[],f=0;f<t.length;f++)u.push(t[f]);return FD(u,function(h){return e(u[h])},r)}function zD(t){if(!(t.protected&&t.iv&&t.ciphertext&&t.tag))throw new Error("bad_jwe: missing properties");t.recipients&&t.recipients.map(e=>{if(!(e.header&&e.encrypted_key))throw new Error("bad_jwe: malformed recipients")})}function Bx({ciphertext:t,tag:e,iv:r,protectedHeader:n,recipient:i},o){const a={protected:n,iv:dr(r),ciphertext:dr(t),tag:dr(e)};return o&&(a.aad=dr(o)),i&&(a.recipients=[i]),a}const qD=function(t,e,r={},n){try{if(e[0].alg==="dir"){if(e.length>1)throw new Error('not_supported: Can only do "dir" encryption to one key.');return Promise.resolve(e[0].encrypt(t,r,n)).then(function(i){return Bx(i,n)})}else{const i=e[0].enc;if(!e.reduce((u,f)=>u&&f.enc===i,!0))throw new Error("invalid_argument: Incompatible encrypters passed");let o,a;const s=jD(e,function(u){const f=function(){return o?Promise.resolve(u.encryptCek==null?void 0:u.encryptCek(o)).then(function(h){if(h){var l,m;(l=a)==null||(m=l.recipients)==null||m.push(h)}}):Promise.resolve(u.encrypt(t,r,n)).then(function(h){o=h.cek,a=Bx(h,n)})}();if(f&&f.then)return f.then(function(){})});return Promise.resolve(s&&s.then?s.then(function(){return a}):a)}}catch(i){return Promise.reject(i)}};function GD(t){if(t.length!==32)throw new Error("invalid_argument: incorrect secret key length for X25519");return function(e){try{if(e.length!==32)throw new Error("invalid_argument: incorrect publicKey key length for X25519");return Promise.resolve(Kn.sharedKey(t,e))}catch(r){return Promise.reject(r)}}}const HD=function(t,e){try{const r=function(i){try{return Promise.resolve(e.resolve(i)).then(function({didResolutionMetadata:o,didDocument:a}){var s;if(o!=null&&o.error||a==null)throw new Error(`resolver_error: Could not resolve ${i}: ${o.error}, ${o.message}`);if(!a.keyAgreement)throw new Error(`no_suitable_keys: Could not find x25519 key for ${i}`);const f=((s=a.keyAgreement)==null?void 0:s.map(h=>typeof h=="string"?[...a.publicKey||[],...a.verificationMethod||[]].find(l=>l.id===h):h).filter(h=>typeof h!="undefined")).filter(h=>h.type==="X25519KeyAgreementKey2019"&&Boolean(h.publicKeyBase58));if(!f.length)throw new Error(`no_suitable_keys: Could not find x25519 key for ${i}`);return f.map(h=>Mv(vv(h.publicKeyBase58),h.id))})}catch(o){return Promise.reject(o)}},n=t.map(i=>r(i));return Promise.resolve(Promise.all(n)).then(function(i){return[].concat(...i)})}catch(r){return Promise.reject(r)}};function WD(t,e,r={}){return Fx(t,e,r)}function VD(t,e={}){return Mv(t,e==null?void 0:e.kid)}function KD(t,e){return qx(t,e)}function JD(t){return zx(t)}function Av(t){const e=new hv.XChaCha20Poly1305(t);return(r,n)=>{const i=xi.randomBytes(e.nonceLength),o=e.seal(i,r,n);return{ciphertext:o.subarray(0,o.length-e.tagLength),tag:o.subarray(o.length-e.tagLength),iv:i}}}function Iv(t){const e=function(o,a={},s){try{const u=mv(JSON.stringify(Object.assign({alg:i},a,{enc:n}))),f=new Uint8Array(Buffer.from(s?`${u}.${dr(s)}`:u));return Promise.resolve(or(be({},r(o,f)),{protectedHeader:u}))}catch(u){return Promise.reject(u)}},r=Av(t),n="XC20P",i="dir";return{alg:i,enc:n,encrypt:e}}function iu(t){const e=function(n,i,o){try{return Promise.resolve(r.open(i,n,o))}catch(a){return Promise.reject(a)}},r=new hv.XChaCha20Poly1305(t);return{alg:"dir",enc:"XC20P",decrypt:e}}function Mv(t,e){const r=function(s,u={},f){try{Object.assign(u,{alg:void 0});const h=xi.randomBytes(32);return Promise.resolve(Iv(h).encrypt(s,u,f)).then(function(l){return Promise.resolve(n(h)).then(function(m){return or(be({},l),{recipient:m,cek:h})})})}catch(h){return Promise.reject(h)}},n=function(s){try{const u=Kn.generateKeyPair(),f=Kn.sharedKey(u.secretKey,t),h=Wc(f,o,i),l=Av(h)(s),m={encrypted_key:dr(l.ciphertext),header:{alg:i,iv:dr(l.iv),tag:dr(l.tag),epk:{kty:"OKP",crv:a,x:dr(u.publicKey)}}};return e&&(m.header.kid=e),Promise.resolve(m)}catch(u){return Promise.reject(u)}},i="ECDH-ES+XC20PKW",o=256,a="X25519";return{alg:i,enc:"XC20P",encrypt:r,encryptCek:n}}function Fx(t,e,r={}){const n=function(h,l={},m){try{Object.assign(l,{alg:void 0});const w=xi.randomBytes(32);return Promise.resolve(Iv(w).encrypt(h,l,m)).then(function(M){return Promise.resolve(i(w)).then(function(x){return or(be({},M),{recipient:x,cek:w})})})}catch(w){return Promise.reject(w)}},i=function(h){try{let l=function(){const R=new Uint8Array(w.length+M.length);R.set(w),R.set(M,w.length);const O=Wc(R,a,o,u,f),j=Av(O)(h),q={encrypted_key:dr(j.ciphertext),header:{alg:o,iv:dr(j.iv),tag:dr(j.tag),epk:{kty:"OKP",crv:s,x:dr(m.publicKey)}}};return r.kid&&(q.header.kid=r.kid),r.apu&&(q.header.apu=r.apu),r.apv&&(q.header.apv=r.apv),q};const m=Kn.generateKeyPair(),w=Kn.sharedKey(m.secretKey,t);let M;const x=function(){if(e instanceof Uint8Array)M=Kn.sharedKey(e,t);else return Promise.resolve(e(t)).then(function(R){M=R})}();return Promise.resolve(x&&x.then?x.then(l):l(x))}catch(l){return Promise.reject(l)}},o="ECDH-1PU+XC20PKW",a=256,s="X25519";let u,f;return r.apu!==void 0&&(u=Rt(r.apu)),r.apv!==void 0&&(f=Rt(r.apv)),{alg:o,enc:"XC20P",encrypt:n,encryptCek:i}}function jx(t){if(!(t&&t.epk&&t.iv&&t.tag))throw new Error("bad_jwe: malformed header")}function zx(t){const e=function(o,a,s,u){try{let l=function(){const x=Wc(w,n,r),R=yv(u.encrypted_key,u.header.tag);return Promise.resolve(iu(x).decrypt(R,Rt(u.header.iv))).then(function(O){return O===null?null:iu(O).decrypt(o,a,s)})};var f,h;if(jx((f=u)==null?void 0:f.header),u=u,((h=u.header.epk)==null?void 0:h.crv)!==i||typeof u.header.epk.x=="undefined")return Promise.resolve(null);const m=Rt(u.header.epk.x);let w;const M=function(){if(t instanceof Uint8Array)w=Kn.sharedKey(t,m);else return Promise.resolve(t(m)).then(function(x){w=x})}();return Promise.resolve(M&&M.then?M.then(l):l(M))}catch(l){return Promise.reject(l)}},r="ECDH-ES+XC20PKW",n=256,i="X25519";return{alg:r,enc:"XC20P",decrypt:e}}function qx(t,e){const r=function(a,s,u,f){try{let l=function(){const R=new Uint8Array(w.length+M.length);R.set(w),R.set(M,w.length);let O,j;f.header.apu&&(O=Rt(f.header.apu)),f.header.apv&&(j=Rt(f.header.apv));const q=Wc(R,i,n,O,j),B=yv(f.encrypted_key,f.header.tag);return Promise.resolve(iu(q).decrypt(B,Rt(f.header.iv))).then(function(I){return I===null?null:iu(I).decrypt(a,s,u)})};var h;if(f=f,jx(f.header),((h=f.header.epk)==null?void 0:h.crv)!==o||typeof f.header.epk.x=="undefined")return Promise.resolve(null);const m=Rt(f.header.epk.x);let w,M;const x=function(){if(t instanceof Uint8Array)w=Kn.sharedKey(t,m),M=Kn.sharedKey(t,e);else return Promise.resolve(t(m)).then(function(R){return w=R,Promise.resolve(t(e)).then(function(O){M=O})})}();return Promise.resolve(x&&x.then?x.then(l):l(x))}catch(l){return Promise.reject(l)}},n="ECDH-1PU+XC20PKW",i=256,o="X25519";return{alg:n,enc:"XC20P",decrypt:r}}var YD=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ES256KSigner:xv,EdDSASigner:Ax,EllipticSigner:AD,NaclSigner:ID,SimpleSigner:ED,createAnonDecrypter:JD,createAnonEncrypter:VD,createAuthDecrypter:KD,createAuthEncrypter:WD,createJWE:qD,createJWS:Rx,createJWT:ND,createX25519ECDH:GD,decodeJWT:Dx,decryptJWE:BD,resolveX25519Encrypters:HD,toEthereumAddress:Ex,verifyJWS:$D,verifyJWT:RD,x25519Decrypter:zx,x25519Encrypter:Mv,xc20pAuthDecrypterEcdh1PuV3x25519WithXc20PkwV2:qx,xc20pAuthEncrypterEcdh1PuV3x25519WithXc20PkwV2:Fx,xc20pDirDecrypter:iu,xc20pDirEncrypter:Iv}),XD=Et(YD),fn={},ZD=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QD=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),e$=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZD(e,t,r);return QD(e,t),e},t$=te&&te.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(h){try{f(n.next(h))}catch(l){a(l)}}function u(h){try{f(n.throw(h))}catch(l){a(l)}}function f(h){h.done?o(h.value):i(h.value).then(s,u)}f((n=n.apply(t,e||[])).next())})},Kc=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fn,"__esModule",{value:!0});fn.decodeCleartext=fn.prepareCleartext=fn.decodeIdentityCID=fn.encodeIdentityCID=fn.encodePayload=void 0;const Jc=Kc(kh),kv=Kc(Si),Gx=Kc(fs),r$=e$(sr),Hx=Kc(ro),Wx=113,Vx=0,n$=24;function i$(t){return t$(this,void 0,void 0,function*(){const e=new Uint8Array(Jc.default.util.serialize(t));return{cid:yield Jc.default.util.cid(e),linkedBlock:e}})}fn.encodePayload=i$;function o$(t,e=n$){const r=(e-t.length%e)%e;return r$.concat([t,new Uint8Array(r)])}function a$(t){let e=0,r;for(let n=0;n<4;n++)r=Hx.default.decode(t,e),e+=Hx.default.decode.bytes;return new kv.default(t.slice(0,e+r))}function Kx(t){const e=Jc.default.util.serialize(t),r=Gx.default.encode(e,Vx);return new kv.default(1,Wx,r)}fn.encodeIdentityCID=Kx;function Jx(t){if(kv.default.validateCID(t),t.code!==Wx)throw new Error("CID codec must be dag-cbor");const{code:e,digest:r}=Gx.default.decode(t.multihash);if(e!==Vx)throw new Error("CID must use identity multihash");return Jc.default.util.deserialize(r)}fn.decodeIdentityCID=Jx;function s$(t,e){return o$(Kx(t).bytes,e)}fn.prepareCleartext=s$;function u$(t){return Jx(a$(t))}fn.decodeCleartext=u$;function Yx(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(f){r(f);return}s.done?e(u):Promise.resolve(u).then(n,i)}function Xx(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(u){Yx(o,n,i,a,s,"next",u)}function s(u){Yx(o,n,i,a,s,"throw",u)}a(void 0)})}}function f$(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Tv(t)}function Yc(t,e){return Yc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Yc(t,e)}function c$(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Xc(t,e,r){return c$()?Xc=Reflect.construct:Xc=function(i,o,a){var s=[null];s.push.apply(s,o);var u=Function.bind.apply(i,s),f=new u;return a&&Yc(f,a.prototype),f},Xc.apply(null,arguments)}function l$(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Ov(t){var e=typeof Map=="function"?new Map:void 0;return Ov=function(n){if(n===null||!l$(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Xc(n,arguments,Tv(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Yc(i,n)},Ov(t)}function h$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d$(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Zc=d$(function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,o,a=typeof Symbol=="function"?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function h(p,d,c){return Object.defineProperty(p,d,{value:c,enumerable:!0,configurable:!0,writable:!0}),p[d]}try{h({},"")}catch{h=function(d,c,_){return d[c]=_}}function l(p,d,c,_){var U=d&&d.prototype instanceof j?d:j,H=Object.create(U.prototype),$=new g(_||[]);return H._invoke=C(p,c,$),H}r.wrap=l;function m(p,d,c){try{return{type:"normal",arg:p.call(d,c)}}catch(_){return{type:"throw",arg:_}}}var w="suspendedStart",M="suspendedYield",x="executing",R="completed",O={};function j(){}function q(){}function B(){}var I={};I[s]=function(){return this};var G=Object.getPrototypeOf,v=G&&G(G(k([])));v&&v!==n&&i.call(v,s)&&(I=v);var A=B.prototype=j.prototype=Object.create(I);q.prototype=A.constructor=B,B.constructor=q,q.displayName=h(B,f,"GeneratorFunction");function D(p){["next","throw","return"].forEach(function(d){h(p,d,function(c){return this._invoke(d,c)})})}r.isGeneratorFunction=function(p){var d=typeof p=="function"&&p.constructor;return d?d===q||(d.displayName||d.name)==="GeneratorFunction":!1},r.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,B):(p.__proto__=B,h(p,f,"GeneratorFunction")),p.prototype=Object.create(A),p},r.awrap=function(p){return{__await:p}};function K(p,d){function c(H,$,T,Z){var F=m(p[H],p,$);if(F.type==="throw")Z(F.arg);else{var V=F.arg,W=V.value;return W&&typeof W=="object"&&i.call(W,"__await")?d.resolve(W.__await).then(function(E){c("next",E,T,Z)},function(E){c("throw",E,T,Z)}):d.resolve(W).then(function(E){V.value=E,T(V)},function(E){return c("throw",E,T,Z)})}}var _;function U(H,$){function T(){return new d(function(Z,F){c(H,$,Z,F)})}return _=_?_.then(T,T):T()}this._invoke=U}D(K.prototype),K.prototype[u]=function(){return this},r.AsyncIterator=K,r.async=function(p,d,c,_,U){U===void 0&&(U=Promise);var H=new K(l(p,d,c,_),U);return r.isGeneratorFunction(d)?H:H.next().then(function($){return $.done?$.value:H.next()})};function C(p,d,c){var _=w;return function(H,$){if(_===x)throw new Error("Generator is already running");if(_===R){if(H==="throw")throw $;return L()}for(c.method=H,c.arg=$;;){var T=c.delegate;if(T){var Z=b(T,c);if(Z){if(Z===O)continue;return Z}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(_===w)throw _=R,c.arg;c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);_=x;var F=m(p,d,c);if(F.type==="normal"){if(_=c.done?R:M,F.arg===O)continue;return{value:F.arg,done:c.done}}else F.type==="throw"&&(_=R,c.method="throw",c.arg=F.arg)}}}function b(p,d){var c=p.iterator[d.method];if(c===o){if(d.delegate=null,d.method==="throw"){if(p.iterator.return&&(d.method="return",d.arg=o,b(p,d),d.method==="throw"))return O;d.method="throw",d.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var _=m(c,p.iterator,d.arg);if(_.type==="throw")return d.method="throw",d.arg=_.arg,d.delegate=null,O;var U=_.arg;if(!U)return d.method="throw",d.arg=new TypeError("iterator result is not an object"),d.delegate=null,O;if(U.done)d[p.resultName]=U.value,d.next=p.nextLoc,d.method!=="return"&&(d.method="next",d.arg=o);else return U;return d.delegate=null,O}D(A),h(A,f,"Generator"),A[s]=function(){return this},A.toString=function(){return"[object Generator]"};function S(p){var d={tryLoc:p[0]};1 in p&&(d.catchLoc=p[1]),2 in p&&(d.finallyLoc=p[2],d.afterLoc=p[3]),this.tryEntries.push(d)}function y(p){var d=p.completion||{};d.type="normal",delete d.arg,p.completion=d}function g(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(S,this),this.reset(!0)}r.keys=function(p){var d=[];for(var c in p)d.push(c);return d.reverse(),function _(){for(;d.length;){var U=d.pop();if(U in p)return _.value=U,_.done=!1,_}return _.done=!0,_}};function k(p){if(p){var d=p[s];if(d)return d.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var c=-1,_=function U(){for(;++c<p.length;)if(i.call(p,c))return U.value=p[c],U.done=!1,U;return U.value=o,U.done=!0,U};return _.next=_}}return{next:L}}r.values=k;function L(){return{value:o,done:!0}}return g.prototype={constructor:g,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(y),!p)for(var d in this)d.charAt(0)==="t"&&i.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=o)},stop:function(){this.done=!0;var p=this.tryEntries[0],d=p.completion;if(d.type==="throw")throw d.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var d=this;function c(Z,F){return H.type="throw",H.arg=p,d.next=Z,F&&(d.method="next",d.arg=o),!!F}for(var _=this.tryEntries.length-1;_>=0;--_){var U=this.tryEntries[_],H=U.completion;if(U.tryLoc==="root")return c("end");if(U.tryLoc<=this.prev){var $=i.call(U,"catchLoc"),T=i.call(U,"finallyLoc");if($&&T){if(this.prev<U.catchLoc)return c(U.catchLoc,!0);if(this.prev<U.finallyLoc)return c(U.finallyLoc)}else if($){if(this.prev<U.catchLoc)return c(U.catchLoc,!0)}else if(T){if(this.prev<U.finallyLoc)return c(U.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(p,d){for(var c=this.tryEntries.length-1;c>=0;--c){var _=this.tryEntries[c];if(_.tryLoc<=this.prev&&i.call(_,"finallyLoc")&&this.prev<_.finallyLoc){var U=_;break}}U&&(p==="break"||p==="continue")&&U.tryLoc<=d&&d<=U.finallyLoc&&(U=null);var H=U?U.completion:{};return H.type=p,H.arg=d,U?(this.method="next",this.next=U.finallyLoc,O):this.complete(H)},complete:function(p,d){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&d&&(this.next=d),O},finish:function(p){for(var d=this.tryEntries.length-1;d>=0;--d){var c=this.tryEntries[d];if(c.finallyLoc===p)return this.complete(c.completion,c.afterLoc),y(c),O}},catch:function(p){for(var d=this.tryEntries.length-1;d>=0;--d){var c=this.tryEntries[d];if(c.tryLoc===p){var _=c.completion;if(_.type==="throw"){var U=_.arg;y(c)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(p,d,c){return this.delegate={iterator:k(p),resultName:d,nextLoc:c},this.method==="next"&&(this.arg=o),O}},r}(t.exports);try{regeneratorRuntime=e}catch{Function("r","regeneratorRuntime = r")(e)}}),Do,gr;(function(t){t[t.PARSE_ERROR=-32700]="PARSE_ERROR",t[t.INVALID_REQUEST=-32600]="INVALID_REQUEST",t[t.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",t[t.INVALID_PARAMS=-32602]="INVALID_PARAMS",t[t.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"})(gr||(gr={}));var Pv=(Do={},Do[gr.PARSE_ERROR]="Parse error",Do[gr.INVALID_REQUEST]="Invalid request",Do[gr.METHOD_NOT_FOUND]="Method not found",Do[gr.INVALID_PARAMS]="Invalid params",Do[gr.INTERNAL_ERROR]="Internal error",Do);function Zx(t){return-32e3>=t&&t>=-32099}function Qc(t){var e;return(e=Pv[t.toString()])!=null?e:Zx(t)?"Server error":"Application error"}var el=function(t){f$(e,t);function e(n,i,o){var a;return a=t.call(this)||this,Object.setPrototypeOf(h$(a),e.prototype),a.code=n,a.data=o,a.message=i!=null?i:Qc(n),a}e.fromObject=function(i){return new e(i.code,i.message,i.data)};var r=e.prototype;return r.toObject=function(){return{code:this.code,data:this.data,message:this.message}},e}(Ov(Error));function ou(t){var e=Pv[t];return function(n){return new el(t,e,n)}}var Qx=ou(gr.PARSE_ERROR),v$=ou(gr.INVALID_REQUEST),p$=ou(gr.METHOD_NOT_FOUND),m$=ou(gr.INVALID_PARAMS),b$=ou(gr.INTERNAL_ERROR),y$=function(){function t(r){this.connection=r}var e=t.prototype;return e.createID=function(){return Kp()},e.request=function(){var r=Xx(Zc.mark(function i(o,a){var s;return Zc.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return a===void 0&&(a=void 0),f.next=3,this.connection.send({jsonrpc:"2.0",id:this.createID(),method:o,params:a});case 3:if(s=f.sent,s!=null){f.next=6;break}throw new Error("Missing response");case 6:if(s.error==null){f.next=8;break}throw el.fromObject(s.error);case 8:return f.abrupt("return",s.result);case 9:case"end":return f.stop()}},i,this)}));function n(i,o){return r.apply(this,arguments)}return n}(),t}();function g$(t){try{return JSON.parse(t)}catch{throw Qx()}}function Rv(t,e){return{jsonrpc:"2.0",id:t,error:{code:e,message:Qc(e)}}}function w$(t,e,r){console.warn("Unhandled handler error",e,r)}function _$(t,e){console.warn("Unhandled invalid message",e)}function x$(t,e){console.warn("Unhandled notification",e)}function S$(t,e){var r,n,i;e===void 0&&(e={});var o=(r=e.onHandlerError)!=null?r:w$,a=(n=e.onInvalidMessage)!=null?n:_$,s=(i=e.onNotification)!=null?i:x$;return function(){var u=Xx(Zc.mark(function h(l,m){var w,M,x,R,O,j,q;return Zc.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(w=m.id,!(m.jsonrpc!=="2.0"||m.method==null)){I.next=6;break}if(w!=null){I.next=5;break}return a(l,m),I.abrupt("return",null);case 5:return I.abrupt("return",Rv(w,gr.INVALID_REQUEST));case 6:if(w!=null){I.next=9;break}return s(l,m),I.abrupt("return",null);case 9:if(M=t[m.method],M!=null){I.next=12;break}return I.abrupt("return",Rv(w,gr.METHOD_NOT_FOUND));case 12:if(I.prev=12,x=M(l,m.params),x!=null){I.next=18;break}I.t0=x,I.next=26;break;case 18:if(typeof x.then!="function"){I.next=24;break}return I.next=21,x;case 21:I.t1=I.sent,I.next=25;break;case 24:I.t1=x;case 25:I.t0=I.t1;case 26:return R=I.t0,I.abrupt("return",{jsonrpc:"2.0",id:w,result:R});case 30:return I.prev=30,I.t2=I.catch(12),I.t2 instanceof el?O=I.t2.toObject():(o(l,m,I.t2),q=(j=I.t2.code)!=null?j:-32e3,O={code:q,message:I.t2.message||Qc(q)}),I.abrupt("return",{jsonrpc:"2.0",id:w,error:O});case 34:case"end":return I.stop()}},h,null,[[12,30]])}));function f(h,l){return u.apply(this,arguments)}return f}()}var E$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get ERROR_CODE(){return gr},ERROR_MESSAGE:Pv,RPCClient:y$,RPCError:el,createErrorResponse:Rv,createHandler:S$,createInternalError:b$,createInvalidParams:m$,createInvalidRequest:v$,createMethodNotFound:p$,createParseError:Qx,getErrorMessage:Qc,isServerError:Zx,parseJSON:g$}),A$=Et(E$),Wt={},I$=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),M$=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),k$=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&I$(e,t,r);return M$(e,t),e};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.extractControllers=Wt.didWithTime=Wt.fromDagJWS=Wt.randomString=Wt.base64urlToJSON=Wt.decodeBase64=Wt.encodeBase64Url=Wt.encodeBase64=void 0;const ja=k$(sr),T$=xi,e6="base64pad",t6="base64url";function O$(t){return ja.toString(t,e6)}Wt.encodeBase64=O$;function P$(t){return ja.toString(t,t6)}Wt.encodeBase64Url=P$;function R$(t){return ja.fromString(t,e6)}Wt.decodeBase64=R$;function N$(t){return JSON.parse(ja.toString(ja.fromString(t,t6)))}Wt.base64urlToJSON=N$;function C$(){return ja.toString(T$.randomBytes(16),"base64")}Wt.randomString=C$;function L$(t){if(t.signatures.length>1)throw new Error("Cant convert to compact jws");return`${t.signatures[0].protected}.${t.payload}.${t.signatures[0].signature}`}Wt.fromDagJWS=L$;function D$(t,e){if(e){const r=new Date(e).toISOString().split(".")[0]+"Z";return`${t}?versionTime=${r}`}else return t}Wt.didWithTime=D$;function $$(t){return t?Array.isArray(t)?t:[t]:[]}Wt.extractControllers=$$;var hi=te&&te.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(h){try{f(n.next(h))}catch(l){a(l)}}function u(h){try{f(n.throw(h))}catch(l){a(l)}}function f(h){h.done?o(h.value):i(h.value).then(s,u)}f((n=n.apply(t,e||[])).next())})};Object.defineProperty(kc,"__esModule",{value:!0});kc.DID=void 0;const U$=HN,Nv=XD,Cv=fn,r6=A$,Jn=Wt;function B$(t){return"registry"in t&&"cache"in t}class F${constructor({provider:e,resolver:r={},resolverOptions:n}={}){e!=null&&(this._client=new r6.RPCClient(e)),this.setResolver(r,n)}get authenticated(){return this._id!=null}get id(){if(this._id==null)throw new Error("DID is not authenticated");return this._id}setProvider(e){if(this._client==null)this._client=new r6.RPCClient(e);else if(this._client.connection!==e)throw new Error("A different provider is already set, create a new DID instance to use another provider")}setResolver(e,r){this._resolver=B$(e)?e:new U$.Resolver(e,r)}authenticate({provider:e,paths:r=[],aud:n}={}){return hi(this,void 0,void 0,function*(){if(e!=null&&this.setProvider(e),this._client==null)throw new Error("No provider available");const i=Jn.randomString(),o=yield this._client.request("did_authenticate",{nonce:i,aud:n,paths:r}),{kid:a}=yield this.verifyJWS(o),s=Jn.base64urlToJSON(o.payload);if(!a.includes(s.did))throw new Error("Invalid authencation response, kid mismatch");if(s.nonce!==i)throw new Error("Invalid authencation response, wrong nonce");if(s.aud!==n)throw new Error("Invalid authencation response, wrong aud");if(s.exp<Date.now()/1e3)throw new Error("Invalid authencation response, expired");return this._id=s.did,this._id})}createJWS(e,r={}){return hi(this,void 0,void 0,function*(){if(this._client==null)throw new Error("No provider available");if(this._id==null)throw new Error("DID is not authenticated");const{jws:n}=yield this._client.request("did_createJWS",Object.assign(Object.assign({did:this._id},r),{payload:e}));return n})}createDagJWS(e,r={}){return hi(this,void 0,void 0,function*(){const{cid:n,linkedBlock:i}=yield Cv.encodePayload(e),o=Jn.encodeBase64Url(n.bytes);Object.assign(r,{linkedBlock:Jn.encodeBase64(i)});const a=yield this.createJWS(o,r);return a.link=n,{jws:a,linkedBlock:i}})}verifyJWS(e,r={}){var n,i,o,a,s;return hi(this,void 0,void 0,function*(){typeof e!="string"&&(e=Jn.fromDagJWS(e));const u=Jn.base64urlToJSON(e.split(".")[0]).kid;if(!u)throw new Error('No "kid" found in jws');const f=yield this.resolve(u);if(!r.disableTimecheck){const M=(n=f.didDocumentMetadata)===null||n===void 0?void 0:n.nextUpdate;if(M&&!(r.atTime&&r.atTime<new Date(M).valueOf()))throw new Error(`invalid_jws: signature authored with a revoked DID version: ${u}`);const x=(i=f.didDocumentMetadata)===null||i===void 0?void 0:i.updated;if(x&&r.atTime&&r.atTime<new Date(x).valueOf())throw new Error(`invalid_jws: signature authored before creation of DID version: ${u}`)}const l=(o=f.didDocument)===null||o===void 0?void 0:o.id;if(r.issuer&&r.issuer!==l){const M=Jn.didWithTime(r.issuer,r.atTime),R=(a=(yield this.resolve(M)).didDocument)===null||a===void 0?void 0:a.controller,O=Jn.extractControllers(R);if(!(l?O.includes(l):!1))throw new Error(`invalid_jws: not a valid verificationMethod for issuer: ${u}`)}const m=((s=f.didDocument)===null||s===void 0?void 0:s.verificationMethod)||[];Nv.verifyJWS(e,m);let w;try{w=Jn.base64urlToJSON(e.split(".")[1])}catch{}return{kid:u,payload:w,didResolutionResult:f}})}createJWE(e,r,n={}){return hi(this,void 0,void 0,function*(){const i=yield Nv.resolveX25519Encrypters(r,this._resolver);return Nv.createJWE(e,i,n.protectedHeader,n.aad)})}createDagJWE(e,r,n={}){return hi(this,void 0,void 0,function*(){return this.createJWE(Cv.prepareCleartext(e),r,n)})}decryptJWE(e,r={}){return hi(this,void 0,void 0,function*(){if(this._client==null)throw new Error("No provider available");if(this._id==null)throw new Error("DID is not authenticated");const{cleartext:n}=yield this._client.request("did_decryptJWE",Object.assign(Object.assign({did:this._id},r),{jwe:e}));return Jn.decodeBase64(n)})}decryptDagJWE(e){return hi(this,void 0,void 0,function*(){const r=yield this.decryptJWE(e);return Cv.decodeCleartext(r)})}resolve(e){return hi(this,void 0,void 0,function*(){const r=yield this._resolver.resolve(e);if(r.didResolutionMetadata.error){const{error:n,message:i}=r.didResolutionMetadata,o=i?`, ${i}`:"";throw new Error(`Failed to resolve ${e}: ${n}${o}`)}return r})}}kc.DID=F$;(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=te&&te.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(k3,t),r(kc,t)})(M3);var n6=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Lv=(t,e,r)=>(n6(t,e,"read from private field"),r?r.call(t):e.get(t)),j$=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},z$=(t,e,r,n)=>(n6(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),za;class q$ extends GN{constructor(e){super(e);var r;j$(this,za,void 0),z$(this,za,new GA((r=e.connectNetwork)!=null?r:e.ceramic))}get threeId(){return Lv(this,za)}async authenticate(e,r=!1){const n=await this.connect(e);return await n.authenticate(),r&&(this.ceramic.did=n),n}async connect(e){return await Lv(this,za).connect(e),new M3.DID({provider:Lv(this,za).getDidProvider(),resolver:this.resolver})}}za=new WeakMap,typeof require!="undefined"&&require;var i6=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},au=(t,e,r)=>(i6(t,e,"read from private field"),r?r.call(t):e.get(t)),o6=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},a6=(t,e,r,n)=>(i6(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),qa,su;const s6=class{constructor(t){if(o6(this,qa,void 0),o6(this,su,void 0),!t.did.authenticated)throw new Error("Input DID must be authenticated, use SelfID.authenticate() instead of new SelfID()");a6(this,qa,t.client),a6(this,su,t.did)}static async authenticate(t){const o=t,{authProvider:e}=o,r=Jv(o,["authProvider"]),n=new q$(r),i=await n.authenticate(e,!0);return new s6({client:n,did:i})}get client(){return au(this,qa)}get id(){return au(this,su).id}async get(t){return await au(this,qa).dataStore.get(t,au(this,su).id)}async set(t,e){return await au(this,qa).dataStore.set(t,e)}};let MU=s6;qa=new WeakMap,su=new WeakMap;function u6(t){let e,r;return{c(){e=Ot("title"),r=Xn(t[2])},l(n){e=Ct(n,"title",{});var i=Pt(e);r=Hi(i,t[2]),i.forEach(Qe)},m(n,i){Ft(n,e,i),_r(e,r)},p(n,i){i&4&&qo(r,n[2])},d(n){n&&Qe(e)}}}function G$(t){let e,r=t[2]&&u6(t);return{c(){r&&r.c(),e=Vr()},l(n){r&&r.l(n),e=Vr()},m(n,i){r&&r.m(n,i),Ft(n,e,i)},p(n,i){n[2]?r?r.p(n,i):(r=u6(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(n){r&&r.d(n),n&&Qe(e)}}}function H$(t){let e,r,n,i,o;const a=t[11].default,s=Bo(a,t,t[10],null),u=s||G$(t);let f=[{"data-carbon-icon":"User20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],h={};for(let l=0;l<f.length;l+=1)h=Nt(h,f[l]);return{c(){e=Ot("svg"),r=Ot("path"),u&&u.c(),this.h()},l(l){e=Ct(l,"svg",{"data-carbon-icon":!0,xmlns:!0,viewBox:!0,fill:!0,width:!0,height:!0,class:!0,preserveAspectRatio:!0,style:!0,id:!0});var m=Pt(e);r=Ct(m,"path",{d:!0}),Pt(r).forEach(Qe),u&&u.l(m),m.forEach(Qe),this.h()},h(){vi(r,"d","M16 4a5 5 0 11-5 5 5 5 0 015-5m0-2a7 7 0 107 7A7 7 0 0016 2zM26 30H24V25a5 5 0 00-5-5H13a5 5 0 00-5 5v5H6V25a7 7 0 017-7h6a7 7 0 017 7z"),Kr(e,h)},m(l,m){Ft(l,e,m),_r(e,r),u&&u.m(e,null),n=!0,i||(o=[nt(e,"click",t[12]),nt(e,"mouseover",t[13]),nt(e,"mouseenter",t[14]),nt(e,"mouseleave",t[15]),nt(e,"keyup",t[16]),nt(e,"keydown",t[17])],i=!0)},p(l,[m]){s?s.p&&(!n||m&1024)&&jo(s,a,l,l[10],n?Fo(a,l[10],m,null):zo(l[10]),null):u&&u.p&&(!n||m&4)&&u.p(l,n?m:-1),Kr(e,h=Go(f,[{"data-carbon-icon":"User20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},(!n||m&1)&&{class:l[0]},{preserveAspectRatio:"xMidYMid meet"},(!n||m&8)&&{style:l[3]},(!n||m&2)&&{id:l[1]},m&16&&l[4]]))},i(l){n||(mi(u,l),n=!0)},o(l){Vi(u,l),n=!1},d(l){l&&Qe(e),u&&u.d(l),i=!1,Hr(o)}}}function W$(t,e,r){let n,i,o,a,{$$slots:s={},$$scope:u}=e,{class:f=void 0}=e,{id:h=void 0}=e,{tabindex:l=void 0}=e,{focusable:m=!1}=e,{title:w=void 0}=e,{style:M=void 0}=e;function x(I){it.call(this,t,I)}function R(I){it.call(this,t,I)}function O(I){it.call(this,t,I)}function j(I){it.call(this,t,I)}function q(I){it.call(this,t,I)}function B(I){it.call(this,t,I)}return t.$$set=I=>{r(18,e=Nt(Nt({},e),Wr(I))),"class"in I&&r(0,f=I.class),"id"in I&&r(1,h=I.id),"tabindex"in I&&r(5,l=I.tabindex),"focusable"in I&&r(6,m=I.focusable),"title"in I&&r(2,w=I.title),"style"in I&&r(3,M=I.style),"$$scope"in I&&r(10,u=I.$$scope)},t.$$.update=()=>{r(9,n=e["aria-label"]),r(8,i=e["aria-labelledby"]),t.$$.dirty&772&&r(7,o=n||i||w),t.$$.dirty&992&&r(4,a={"aria-label":n,"aria-labelledby":i,"aria-hidden":o?void 0:!0,role:o?"img":void 0,focusable:l==="0"?!0:m,tabindex:l})},e=Wr(e),[f,h,w,M,a,l,m,o,i,n,u,s,x,R,O,j,q,B]}class V$ extends Wo{constructor(e){super();Ho(this,e,W$,H$,Gi,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var kU=V$;function f6(t){let e,r;return{c(){e=Ot("title"),r=Xn(t[2])},l(n){e=Ct(n,"title",{});var i=Pt(e);r=Hi(i,t[2]),i.forEach(Qe)},m(n,i){Ft(n,e,i),_r(e,r)},p(n,i){i&4&&qo(r,n[2])},d(n){n&&Qe(e)}}}function K$(t){let e,r=t[2]&&f6(t);return{c(){r&&r.c(),e=Vr()},l(n){r&&r.l(n),e=Vr()},m(n,i){r&&r.m(n,i),Ft(n,e,i)},p(n,i){n[2]?r?r.p(n,i):(r=f6(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(n){r&&r.d(n),n&&Qe(e)}}}function J$(t){let e,r,n,i,o,a;const s=t[11].default,u=Bo(s,t,t[10],null),f=u||K$(t);let h=[{"data-carbon-icon":"Login20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],l={};for(let m=0;m<h.length;m+=1)l=Nt(l,h[m]);return{c(){e=Ot("svg"),r=Ot("path"),n=Ot("path"),f&&f.c(),this.h()},l(m){e=Ct(m,"svg",{"data-carbon-icon":!0,xmlns:!0,viewBox:!0,fill:!0,width:!0,height:!0,class:!0,preserveAspectRatio:!0,style:!0,id:!0});var w=Pt(e);r=Ct(w,"path",{d:!0}),Pt(r).forEach(Qe),n=Ct(w,"path",{d:!0}),Pt(n).forEach(Qe),f&&f.l(w),w.forEach(Qe),this.h()},h(){vi(r,"d","M26,30H14a2,2,0,0,1-2-2V25h2v3H26V4H14V7H12V4a2,2,0,0,1,2-2H26a2,2,0,0,1,2,2V28A2,2,0,0,1,26,30Z"),vi(n,"d","M14.59 20.59L18.17 17 4 17 4 15 18.17 15 14.59 11.41 16 10 22 16 16 22 14.59 20.59z"),Kr(e,l)},m(m,w){Ft(m,e,w),_r(e,r),_r(e,n),f&&f.m(e,null),i=!0,o||(a=[nt(e,"click",t[12]),nt(e,"mouseover",t[13]),nt(e,"mouseenter",t[14]),nt(e,"mouseleave",t[15]),nt(e,"keyup",t[16]),nt(e,"keydown",t[17])],o=!0)},p(m,[w]){u?u.p&&(!i||w&1024)&&jo(u,s,m,m[10],i?Fo(s,m[10],w,null):zo(m[10]),null):f&&f.p&&(!i||w&4)&&f.p(m,i?w:-1),Kr(e,l=Go(h,[{"data-carbon-icon":"Login20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},(!i||w&1)&&{class:m[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||w&8)&&{style:m[3]},(!i||w&2)&&{id:m[1]},w&16&&m[4]]))},i(m){i||(mi(f,m),i=!0)},o(m){Vi(f,m),i=!1},d(m){m&&Qe(e),f&&f.d(m),o=!1,Hr(a)}}}function Y$(t,e,r){let n,i,o,a,{$$slots:s={},$$scope:u}=e,{class:f=void 0}=e,{id:h=void 0}=e,{tabindex:l=void 0}=e,{focusable:m=!1}=e,{title:w=void 0}=e,{style:M=void 0}=e;function x(I){it.call(this,t,I)}function R(I){it.call(this,t,I)}function O(I){it.call(this,t,I)}function j(I){it.call(this,t,I)}function q(I){it.call(this,t,I)}function B(I){it.call(this,t,I)}return t.$$set=I=>{r(18,e=Nt(Nt({},e),Wr(I))),"class"in I&&r(0,f=I.class),"id"in I&&r(1,h=I.id),"tabindex"in I&&r(5,l=I.tabindex),"focusable"in I&&r(6,m=I.focusable),"title"in I&&r(2,w=I.title),"style"in I&&r(3,M=I.style),"$$scope"in I&&r(10,u=I.$$scope)},t.$$.update=()=>{r(9,n=e["aria-label"]),r(8,i=e["aria-labelledby"]),t.$$.dirty&772&&r(7,o=n||i||w),t.$$.dirty&992&&r(4,a={"aria-label":n,"aria-labelledby":i,"aria-hidden":o?void 0:!0,role:o?"img":void 0,focusable:l==="0"?!0:m,tabindex:l})},e=Wr(e),[f,h,w,M,a,l,m,o,i,n,u,s,x,R,O,j,q,B]}class X$ extends Wo{constructor(e){super();Ho(this,e,Y$,J$,Gi,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var TU=X$;function c6(t){let e,r;return{c(){e=Ot("title"),r=Xn(t[2])},l(n){e=Ct(n,"title",{});var i=Pt(e);r=Hi(i,t[2]),i.forEach(Qe)},m(n,i){Ft(n,e,i),_r(e,r)},p(n,i){i&4&&qo(r,n[2])},d(n){n&&Qe(e)}}}function Z$(t){let e,r=t[2]&&c6(t);return{c(){r&&r.c(),e=Vr()},l(n){r&&r.l(n),e=Vr()},m(n,i){r&&r.m(n,i),Ft(n,e,i)},p(n,i){n[2]?r?r.p(n,i):(r=c6(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(n){r&&r.d(n),n&&Qe(e)}}}function Q$(t){let e,r,n,i,o;const a=t[11].default,s=Bo(a,t,t[10],null),u=s||Z$(t);let f=[{"data-carbon-icon":"GroupResource16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],h={};for(let l=0;l<f.length;l+=1)h=Nt(h,f[l]);return{c(){e=Ot("svg"),r=Ot("path"),u&&u.c(),this.h()},l(l){e=Ct(l,"svg",{"data-carbon-icon":!0,xmlns:!0,viewBox:!0,fill:!0,width:!0,height:!0,class:!0,preserveAspectRatio:!0,style:!0,id:!0});var m=Pt(e);r=Ct(m,"path",{d:!0}),Pt(r).forEach(Qe),u&&u.l(m),m.forEach(Qe),this.h()},h(){vi(r,"d","M22 24H10a2.0021 2.0021 0 01-2-2V10a2.0021 2.0021 0 012-2H22a2.0021 2.0021 0 012 2V22A2.0021 2.0021 0 0122 24zM10 10V22H22V10zM8 30H4a2.0021 2.0021 0 01-2-2V4A2.0021 2.0021 0 014 2H8V4H4V28H8zM28 30H24V28h4V4H24V2h4a2.0021 2.0021 0 012 2V28A2.0021 2.0021 0 0128 30z"),Kr(e,h)},m(l,m){Ft(l,e,m),_r(e,r),u&&u.m(e,null),n=!0,i||(o=[nt(e,"click",t[12]),nt(e,"mouseover",t[13]),nt(e,"mouseenter",t[14]),nt(e,"mouseleave",t[15]),nt(e,"keyup",t[16]),nt(e,"keydown",t[17])],i=!0)},p(l,[m]){s?s.p&&(!n||m&1024)&&jo(s,a,l,l[10],n?Fo(a,l[10],m,null):zo(l[10]),null):u&&u.p&&(!n||m&4)&&u.p(l,n?m:-1),Kr(e,h=Go(f,[{"data-carbon-icon":"GroupResource16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!n||m&1)&&{class:l[0]},{preserveAspectRatio:"xMidYMid meet"},(!n||m&8)&&{style:l[3]},(!n||m&2)&&{id:l[1]},m&16&&l[4]]))},i(l){n||(mi(u,l),n=!0)},o(l){Vi(u,l),n=!1},d(l){l&&Qe(e),u&&u.d(l),i=!1,Hr(o)}}}function eU(t,e,r){let n,i,o,a,{$$slots:s={},$$scope:u}=e,{class:f=void 0}=e,{id:h=void 0}=e,{tabindex:l=void 0}=e,{focusable:m=!1}=e,{title:w=void 0}=e,{style:M=void 0}=e;function x(I){it.call(this,t,I)}function R(I){it.call(this,t,I)}function O(I){it.call(this,t,I)}function j(I){it.call(this,t,I)}function q(I){it.call(this,t,I)}function B(I){it.call(this,t,I)}return t.$$set=I=>{r(18,e=Nt(Nt({},e),Wr(I))),"class"in I&&r(0,f=I.class),"id"in I&&r(1,h=I.id),"tabindex"in I&&r(5,l=I.tabindex),"focusable"in I&&r(6,m=I.focusable),"title"in I&&r(2,w=I.title),"style"in I&&r(3,M=I.style),"$$scope"in I&&r(10,u=I.$$scope)},t.$$.update=()=>{r(9,n=e["aria-label"]),r(8,i=e["aria-labelledby"]),t.$$.dirty&772&&r(7,o=n||i||w),t.$$.dirty&992&&r(4,a={"aria-label":n,"aria-labelledby":i,"aria-hidden":o?void 0:!0,role:o?"img":void 0,focusable:l==="0"?!0:m,tabindex:l})},e=Wr(e),[f,h,w,M,a,l,m,o,i,n,u,s,x,R,O,j,q,B]}class tU extends Wo{constructor(e){super();Ho(this,e,eU,Q$,Gi,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var OU=tU;function l6(t){let e,r;return{c(){e=Ot("title"),r=Xn(t[2])},l(n){e=Ct(n,"title",{});var i=Pt(e);r=Hi(i,t[2]),i.forEach(Qe)},m(n,i){Ft(n,e,i),_r(e,r)},p(n,i){i&4&&qo(r,n[2])},d(n){n&&Qe(e)}}}function rU(t){let e,r=t[2]&&l6(t);return{c(){r&&r.c(),e=Vr()},l(n){r&&r.l(n),e=Vr()},m(n,i){r&&r.m(n,i),Ft(n,e,i)},p(n,i){n[2]?r?r.p(n,i):(r=l6(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(n){r&&r.d(n),n&&Qe(e)}}}function nU(t){let e,r,n,i,o;const a=t[11].default,s=Bo(a,t,t[10],null),u=s||rU(t);let f=[{"data-carbon-icon":"ModelAlt16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],h={};for(let l=0;l<f.length;l+=1)h=Nt(h,f[l]);return{c(){e=Ot("svg"),r=Ot("path"),u&&u.c(),this.h()},l(l){e=Ct(l,"svg",{"data-carbon-icon":!0,xmlns:!0,viewBox:!0,fill:!0,width:!0,height:!0,class:!0,preserveAspectRatio:!0,style:!0,id:!0});var m=Pt(e);r=Ct(m,"path",{d:!0}),Pt(r).forEach(Qe),u&&u.l(m),m.forEach(Qe),this.h()},h(){vi(r,"d","M28.4473,16.1055,23,13.3818V7a1,1,0,0,0-.5527-.8945l-6-3a1.0008,1.0008,0,0,0-.8946,0l-6,3A1,1,0,0,0,9,7v6.3818L3.5527,16.1055A1,1,0,0,0,3,17v7a1,1,0,0,0,.5527.8945l6,3a1.001,1.001,0,0,0,.8946,0L16,25.1182l5.5527,2.7763a1.001,1.001,0,0,0,.8946,0l6-3A1,1,0,0,0,29,24V17A1,1,0,0,0,28.4473,16.1055ZM21,13.3818l-4,2V10.6182l4-2ZM16,5.1182,19.7637,7,16,8.8818,12.2363,7Zm-5,3.5,4,2v4.7636l-4-2ZM9,25.3818l-4-2V18.6182l4,2Zm1-6.5L6.2363,17,10,15.1182,13.7637,17Zm1,1.7364,4-2v4.7636l-4,2Zm10,4.7636-4-2V18.6182l4,2Zm1-6.5L18.2363,17,22,15.1182,25.7637,17Zm5,4.5-4,2V20.6182l4-2Z"),Kr(e,h)},m(l,m){Ft(l,e,m),_r(e,r),u&&u.m(e,null),n=!0,i||(o=[nt(e,"click",t[12]),nt(e,"mouseover",t[13]),nt(e,"mouseenter",t[14]),nt(e,"mouseleave",t[15]),nt(e,"keyup",t[16]),nt(e,"keydown",t[17])],i=!0)},p(l,[m]){s?s.p&&(!n||m&1024)&&jo(s,a,l,l[10],n?Fo(a,l[10],m,null):zo(l[10]),null):u&&u.p&&(!n||m&4)&&u.p(l,n?m:-1),Kr(e,h=Go(f,[{"data-carbon-icon":"ModelAlt16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!n||m&1)&&{class:l[0]},{preserveAspectRatio:"xMidYMid meet"},(!n||m&8)&&{style:l[3]},(!n||m&2)&&{id:l[1]},m&16&&l[4]]))},i(l){n||(mi(u,l),n=!0)},o(l){Vi(u,l),n=!1},d(l){l&&Qe(e),u&&u.d(l),i=!1,Hr(o)}}}function iU(t,e,r){let n,i,o,a,{$$slots:s={},$$scope:u}=e,{class:f=void 0}=e,{id:h=void 0}=e,{tabindex:l=void 0}=e,{focusable:m=!1}=e,{title:w=void 0}=e,{style:M=void 0}=e;function x(I){it.call(this,t,I)}function R(I){it.call(this,t,I)}function O(I){it.call(this,t,I)}function j(I){it.call(this,t,I)}function q(I){it.call(this,t,I)}function B(I){it.call(this,t,I)}return t.$$set=I=>{r(18,e=Nt(Nt({},e),Wr(I))),"class"in I&&r(0,f=I.class),"id"in I&&r(1,h=I.id),"tabindex"in I&&r(5,l=I.tabindex),"focusable"in I&&r(6,m=I.focusable),"title"in I&&r(2,w=I.title),"style"in I&&r(3,M=I.style),"$$scope"in I&&r(10,u=I.$$scope)},t.$$.update=()=>{r(9,n=e["aria-label"]),r(8,i=e["aria-labelledby"]),t.$$.dirty&772&&r(7,o=n||i||w),t.$$.dirty&992&&r(4,a={"aria-label":n,"aria-labelledby":i,"aria-hidden":o?void 0:!0,role:o?"img":void 0,focusable:l==="0"?!0:m,tabindex:l})},e=Wr(e),[f,h,w,M,a,l,m,o,i,n,u,s,x,R,O,j,q,B]}class oU extends Wo{constructor(e){super();Ho(this,e,iU,nU,Gi,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var PU=oU;export{MU as $,vU as A,Nt as B,o5 as C,dU as D,uU as E,Bo as F,jo as G,zo as H,Fo as I,di as J,Ot as K,TU as L,Ct as M,_r as N,Kr as O,nt as P,Hr as Q,Wr as R,Wo as S,it as T,kU as U,fU as V,Zv as W,EU as X,SU as Y,xU as Z,sU as _,Pt as a,p5 as a0,bU as a1,yU as a2,PU as a3,OU as a4,vi as b,lU as c,Qe as d,K6 as e,Ft as f,Hi as g,qo as h,Ho as i,wU as j,cU as k,Vr as l,_U as m,hU as n,t5 as o,Go as p,gU as q,Q6 as r,Gi as s,Xn as t,Vi as u,r5 as v,e5 as w,mi as x,mU as y,pU as z};
